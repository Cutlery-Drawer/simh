
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>1. Nova Simulator Usage &#8212; Python  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="1. PDP-11 simulator usage" href="pdp11_doc.html" />
    <link rel="prev" title="1. SimH FAQ" href="simh_faq.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="nova-simulator-usage">
<h1><span class="sectnum">1. </span>Nova Simulator Usage<a class="headerlink" href="#nova-simulator-usage" title="Permalink to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2020-04-28</p>
</dd>
<dt class="field-even">Revision<span class="colon">:</span></dt>
<dd class="field-even"><p>$Format:%H$</p>
</dd>
<dt class="field-odd">Copyright<span class="colon">:</span></dt>
<dd class="field-odd"><p>See <a class="reference external" href="../LICENSE.txt">LICENSE.txt</a> for terms of use.</p>
</dd>
</dl>
<aside class="topic">
<p class="topic-title"><strong>Copyright notice</strong></p>
<p>The following copyright notice applies to the SIMH source, binary, and documentation:</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the “Software”),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
<p>Except as contained in this notice, the names of The Authors shall not be
used in advertising or otherwise to promote the sale, use or other dealings
in this Software without prior written authorization from the Authors.</p>
</aside>
<nav class="contents local" id="contents">
<ul class="auto-toc simple">
<li><p><a class="reference internal" href="#simulator-files" id="id9"><span class="sectnum">1.1. </span>Simulator files</a></p></li>
<li><p><a class="reference internal" href="#nova-features" id="id10"><span class="sectnum">1.2. </span>Nova features</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#cpu" id="id11"><span class="sectnum">1.2.1. </span>CPU</a></p></li>
<li><p><a class="reference internal" href="#programmed-i-o-devices" id="id12"><span class="sectnum">1.2.2. </span>Programmed I/O devices</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#paper-tape-reader-ptr" id="id13"><span class="sectnum">1.2.2.1. </span>Paper tape reader (PTR)</a></p></li>
<li><p><a class="reference internal" href="#paper-tape-punch-ptp" id="id14"><span class="sectnum">1.2.2.2. </span>Paper tape punch (PTP)</a></p></li>
<li><p><a class="reference internal" href="#terminal-input-tti" id="id15"><span class="sectnum">1.2.2.3. </span>Terminal input (TTI)</a></p></li>
<li><p><a class="reference internal" href="#terminal-output-tto" id="id16"><span class="sectnum">1.2.2.4. </span>Terminal output (TTO)</a></p></li>
<li><p><a class="reference internal" href="#line-printer-lpt" id="id17"><span class="sectnum">1.2.2.5. </span>Line printer (LPT)</a></p></li>
<li><p><a class="reference internal" href="#real-time-clock-rtc" id="id18"><span class="sectnum">1.2.2.6. </span>Real-time clock (RTC)</a></p></li>
<li><p><a class="reference internal" href="#plotter-plt" id="id19"><span class="sectnum">1.2.2.7. </span>Plotter (PLT)</a></p></li>
<li><p><a class="reference internal" href="#second-terminal-tti1-tto1" id="id20"><span class="sectnum">1.2.2.8. </span>Second terminal (TTI1, TTO1)</a></p></li>
<li><p><a class="reference internal" href="#asynchronous-multiplexers-qty-alm" id="id21"><span class="sectnum">1.2.2.9. </span>Asynchronous multiplexers (QTY, ALM)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#fixed-head-disk-dsk" id="id22"><span class="sectnum">1.2.3. </span>Fixed head disk (DSK)</a></p></li>
<li><p><a class="reference internal" href="#moving-head-disk-dkp" id="id23"><span class="sectnum">1.2.4. </span>Moving head disk (DKP)</a></p></li>
<li><p><a class="reference internal" href="#magnetic-tape-mta" id="id24"><span class="sectnum">1.2.5. </span>Magnetic tape (MTA)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#symbolic-display-and-input" id="id25"><span class="sectnum">1.3. </span>Symbolic display and input</a></p></li>
</ul>
</nav>
<p>This memorandum documents the Nova simulator.</p>
<section id="simulator-files">
<h2><span class="sectnum">1.1. </span>Simulator files<a class="headerlink" href="#simulator-files" title="Permalink to this heading">¶</a></h2>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">sim/</span></code></dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">scp.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_console.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_defs.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_fio.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_rev.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_sock.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_tape.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_timer.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_tmxr.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">scp.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_console.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_fio.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_sock.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_tape.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_timer.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_tmxr.c</span></code></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sim/nova/</span></code></dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">nova_defs.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">nova_cpu.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">nova_clk.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">nova_dkp.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">nova_dsk.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">nova_lp.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">nova_mta.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">nova_plt.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">nova_qty.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">nova_sys.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">nova_tt.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">nova_tt1.c</span></code></div>
</div>
</dd>
</dl>
</section>
<section id="nova-features">
<h2><span class="sectnum">1.2. </span>Nova features<a class="headerlink" href="#nova-features" title="Permalink to this heading">¶</a></h2>
<p>The Nova simulator is configured as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Device names</p></th>
<th class="head"><p>Simulates</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CPU</span></code></p></td>
<td><p>Nova, Nova 3, Nova 4 CPU with 32KW of memory, or Keronix CPU with 64KW of memory</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Hardware multiply/divide</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PTR</span></code>, <code class="docutils literal notranslate"><span class="pre">PTP</span></code></p></td>
<td><p>Paper tape reader/punch</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TTI</span></code>, <code class="docutils literal notranslate"><span class="pre">TTO</span></code></p></td>
<td><p>Console terminal</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TTI1</span></code>, <code class="docutils literal notranslate"><span class="pre">TTO1</span></code></p></td>
<td><p>Second terminal</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LPT</span></code></p></td>
<td><p>Line printer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PLT</span></code></p></td>
<td><p>Plotter</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RTC</span></code></p></td>
<td><p>Real-time clock</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DSK</span></code></p></td>
<td><p>Head-per-track disk controller</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DKP</span></code></p></td>
<td><p>Moving head disk controller with four drives</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MTA</span></code></p></td>
<td><p>Magnetic tape controller with eight drives</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">QTY</span></code></p></td>
<td><p>4060 multiplexer with up to 64 lines</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ALM</span></code></p></td>
<td><p>4255 multiplexer with up to 64 lines</p></td>
</tr>
</tbody>
</table>
<p>The Nova simulator implements these unique stop conditions:</p>
<ul class="simple">
<li><p>Reference to undefined I/O device, and <code class="docutils literal notranslate"><span class="pre">STOP_DEV</span></code> is set</p></li>
<li><p>More than <code class="docutils literal notranslate"><span class="pre">INDMAX</span></code> indirect addresses are detected during an interrupt</p></li>
<li><p>More than <code class="docutils literal notranslate"><span class="pre">INDMAX</span></code> indirect addresses are detected during memory reference address decoding</p></li>
</ul>
<p>Note that indirect address loop detection does not exist on unmapped Novas.
Some DG diagnostics test thousands of levels of indirect addressing.
<code class="docutils literal notranslate"><span class="pre">INDMAX</span></code> may have to be set to 32,000 to get diagnostics to run properly.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">LOAD</span></code> command supports standard binary format tapes.
The <code class="docutils literal notranslate"><span class="pre">DUMP</span></code> command is not implemented.</p>
<p>All devices except <code class="docutils literal notranslate"><span class="pre">TTI</span></code> can be disabled or enabled, by the commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span> <span class="n">DISABLED</span>
<span class="n">SET</span> <span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span> <span class="n">ENABLED</span>
</pre></div>
</div>
<p>All devices except <code class="docutils literal notranslate"><span class="pre">QTY</span></code> are enabled by default.</p>
<section id="cpu">
<h3><span class="sectnum">1.2.1. </span>CPU<a class="headerlink" href="#cpu" title="Permalink to this heading">¶</a></h3>
<p>The only CPU options are the presence of the optional instructions and the size of main memory.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">MDV</span></code></p></td>
<td><p>Enable multiply/divide <a class="footnote-reference brackets" href="#id5" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">EXT64KW</span></code></p></td>
<td><p>Enable extended 64KW memory mode</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">NOVA3</span></code></p></td>
<td><p>Set Nova3 CPU <a class="footnote-reference brackets" href="#id6" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">NOVA4</span></code></p></td>
<td><p>Set Nova4 CPU <a class="footnote-reference brackets" href="#id7" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">KERONIX</span></code></p></td>
<td><p>Set Keronix CPU <a class="footnote-reference brackets" href="#id8" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">NONE</span></code></p></td>
<td><p>Disable all optional instructions</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">4K</span></code></p></td>
<td><p>Set memory size = 4K</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">8K</span></code></p></td>
<td><p>Set memory size = 8K</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">12K</span></code></p></td>
<td><p>Set memory size = 12K</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">16K</span></code></p></td>
<td><p>Set memory size = 16K</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">20K</span></code></p></td>
<td><p>Set memory size = 20K</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">24K</span></code></p></td>
<td><p>Set memory size = 24K</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">28K</span></code></p></td>
<td><p>Set memory size = 28K</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">32K</span></code></p></td>
<td><p>Set memory size = 32K</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">36K</span></code></p></td>
<td><p>Set memory size = 36K</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">40K</span></code></p></td>
<td><p>Set memory size = 40K</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">44K</span></code></p></td>
<td><p>Set memory size = 44K</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">48K</span></code></p></td>
<td><p>Set memory size = 48K</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">52K</span></code></p></td>
<td><p>Set memory size = 52K</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">56K</span></code></p></td>
<td><p>Set memory size = 56K</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">60K</span></code></p></td>
<td><p>Set memory size = 60K</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">64K</span></code></p></td>
<td><p>Set memory size = 64K</p></td>
</tr>
</tbody>
</table>
<aside class="footnote brackets" id="id5" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>MDV = unsigned multiply/divide instructions</p>
</aside>
<aside class="footnote brackets" id="id6" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>Nova 3 = unsigned multiply/divide, stack, trap instructions</p>
</aside>
<aside class="footnote brackets" id="id7" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">3</a><span class="fn-bracket">]</span></span>
<p>Nova 4 = unsigned and signed multiply/divide, stack, byte, trap instructions</p>
</aside>
<aside class="footnote brackets" id="id8" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">4</a><span class="fn-bracket">]</span></span>
<p>Keronix = unsigned multiply/divide, extended 64KW mode</p>
</aside>
<p>If memory size is being reduced, and the memory being truncated contains non-zero data, the simulator asks for confirmation.
Data in the truncated portion of memory is lost.
Initial memory size is 32K.</p>
<p>The CPU supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.
<code class="docutils literal notranslate"><span class="pre">BOOT</span> <span class="pre">CPU</span></code> simulates the Nova hardware APL (automatic program load) feature.
The switch register (SR) bits 12:17 must contain the device code of the device to be booted.
If the device is a “high-speed” (channel) device, SR bit 0 should also be set.</p>
<p>CPU registers include the visible state of the processor as well as the control registers for the interrupt system.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PC</span></code></p></td>
<td><p>15</p></td>
<td><p>Program counter</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">AC0</span></code> .. <code class="docutils literal notranslate"><span class="pre">AC3</span></code></p></td>
<td><p>16</p></td>
<td><p>Accumulators 0..3</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">C</span></code></p></td>
<td><p>1</p></td>
<td><p>Carry</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SR</span></code></p></td>
<td><p>16</p></td>
<td><p>Front panel switches</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PI</span></code></p></td>
<td><p>16</p></td>
<td><p>Priority interrupt mask</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ION</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ION_DELAY</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable delay for ION</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PWR</span></code></p></td>
<td><p>1</p></td>
<td><p>Power fail interrupt</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>15</p></td>
<td><p>Interrupt pending flags</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUSY</span></code></p></td>
<td><p>15</p></td>
<td><p>Device busy flags</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>15</p></td>
<td><p>Device done flags</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code></p></td>
<td><p>15</p></td>
<td><p>Device interrupt disable flags</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_DEV</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on undefined IOT</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INDMAX</span></code></p></td>
<td><p>16</p></td>
<td><p>Maximum number of nested indirects</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PCQ[0:63]</span></code></p></td>
<td><p>15</p></td>
<td><p>PC prior to last JMP, JMS, or interrupt; most recent PC change first</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WRU</span></code></p></td>
<td><p>8</p></td>
<td><p>Interrupt character</p></td>
</tr>
</tbody>
</table>
<p>The CPU can maintain a history of the most recently executed instructions.
This is controlled by the <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">HISTORY</span></code> and <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">CPU</span> <span class="pre">HISTORY</span></code> commands:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">HISTORY</span></code></p></td>
<td><p>Clear history buffer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">HISTORY=0</span></code></p></td>
<td><p>Disable history</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">HISTORY=n</span></code></p></td>
<td><p>Enable history, length = <code class="docutils literal notranslate"><span class="pre">n</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">CPU</span> <span class="pre">HISTORY</span></code></p></td>
<td><p>Print CPU history</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">CPU</span> <span class="pre">HISTORY=n</span></code></p></td>
<td><p>Print first <code class="docutils literal notranslate"><span class="pre">n</span></code> entries of CPU history</p></td>
</tr>
</tbody>
</table>
<p>The maximum length for the history is 65536 entries.</p>
</section>
<section id="programmed-i-o-devices">
<h3><span class="sectnum">1.2.2. </span>Programmed I/O devices<a class="headerlink" href="#programmed-i-o-devices" title="Permalink to this heading">¶</a></h3>
<section id="paper-tape-reader-ptr">
<h4><span class="sectnum">1.2.2.1. </span>Paper tape reader (PTR)<a class="headerlink" href="#paper-tape-reader-ptr" title="Permalink to this heading">¶</a></h4>
<p>The paper tape reader (PTR) reads data from a disk file.
The POS register specifies the number of the next data item to be read.
Thus, by changing POS, the user can backspace or advance the reader.</p>
<p>The paper tape reader implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>8</p></td>
<td><p>Last data item processed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUSY</span></code></p></td>
<td><p>1</p></td>
<td><p>Device busy flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt disable flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Position in the input file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Time from I/O initiation to interrupt</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Out of tape</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>end of file</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Out of tape</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>x</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
</section>
<section id="paper-tape-punch-ptp">
<h4><span class="sectnum">1.2.2.2. </span>Paper tape punch (PTP)<a class="headerlink" href="#paper-tape-punch-ptp" title="Permalink to this heading">¶</a></h4>
<p>The paper tape punch (PTP) writes data to a disk file.
The POS register specifies the number of the next data item to be written.
Thus, by changing POS, the user can backspace or advance the punch.</p>
<p>The paper tape punch implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>8</p></td>
<td><p>Last data item processed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUSY</span></code></p></td>
<td><p>1</p></td>
<td><p>Device busy flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt disable flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Position in the output file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Time from I/O initiation to interrupt</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Out of tape</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>x</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
</section>
<section id="terminal-input-tti">
<h4><span class="sectnum">1.2.2.3. </span>Terminal input (TTI)<a class="headerlink" href="#terminal-input-tti" title="Permalink to this heading">¶</a></h4>
<p>The terminal input polls the console keyboard for input.
Terminal input options include the ability to set ANSI mode or limited Dasher compatibility mode:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">TTI</span> <span class="pre">ANSI</span></code></p></td>
<td><p>Normal mode</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">TTI</span> <span class="pre">DASHER</span></code></p></td>
<td><p>Dasher mode</p></td>
</tr>
</tbody>
</table>
<p>Setting either TTI or TTO changes both devices.
In Dasher mode, carriage return is changed to newline on input, and <code class="docutils literal notranslate"><span class="pre">^X</span></code> is changed to backspace.</p>
<p>The terminal input implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>8</p></td>
<td><p>Last data item processed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUSY</span></code></p></td>
<td><p>1</p></td>
<td><p>Device busy flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt disable flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Number of characters input</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Keyboard polling interval</p></td>
</tr>
</tbody>
</table>
</section>
<section id="terminal-output-tto">
<h4><span class="sectnum">1.2.2.4. </span>Terminal output (TTO)<a class="headerlink" href="#terminal-output-tto" title="Permalink to this heading">¶</a></h4>
<p>The terminal output writes to the simulator console window.
Terminal output options include the ability to set ANSI mode or limited Dasher compatibility mode:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">TTI</span> <span class="pre">ANSI</span></code></p></td>
<td><p>Normal mode</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">TTI</span> <span class="pre">DASHER</span></code></p></td>
<td><p>Dasher mode</p></td>
</tr>
</tbody>
</table>
<p>Setting either TTI or TTO changes both devices.
In Dasher mode, carriage return is changed to newline on input, and <code class="docutils literal notranslate"><span class="pre">^X</span></code> is changed to backspace.</p>
<p>The terminal output implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>8</p></td>
<td><p>Last data item processed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUSY</span></code></p></td>
<td><p>1</p></td>
<td><p>Device busy flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt disable flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Number of characters output</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Time from I/O initiation to interrupt</p></td>
</tr>
</tbody>
</table>
</section>
<section id="line-printer-lpt">
<h4><span class="sectnum">1.2.2.5. </span>Line printer (LPT)<a class="headerlink" href="#line-printer-lpt" title="Permalink to this heading">¶</a></h4>
<p>The line printer (LPT) writes data to a disk file.
The POS register specifies the number of the next data item to be written.
Thus, by changing POS, the user can backspace or advance the printer.
The default position after <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> is to position at the end of an existing file.
A new file can be created if you attach with the <code class="docutils literal notranslate"><span class="pre">-N</span></code> switch.</p>
<p>The line printer implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>8</p></td>
<td><p>Last data item processed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUSY</span></code></p></td>
<td><p>1</p></td>
<td><p>Device busy flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt disable flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Position in the output file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Time from I/O initiation to interrupt</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Out of paper</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>x</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
</section>
<section id="real-time-clock-rtc">
<h4><span class="sectnum">1.2.2.6. </span>Real-time clock (RTC)<a class="headerlink" href="#real-time-clock-rtc" title="Permalink to this heading">¶</a></h4>
<p>The real-time clock (RTC) line frequency can be adjusted as follows:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">RTC</span> <span class="pre">60HZ</span></code></p></td>
<td><p>Set line frequency to 60Hz</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">RTC</span> <span class="pre">50HZ</span></code></p></td>
<td><p>Set line frequency to 50Hz</p></td>
</tr>
</tbody>
</table>
<p>The default is 60Hz.</p>
<p>The clock implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SELECT</span></code></p></td>
<td><p>2</p></td>
<td><p>Selected clock interval</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUSY</span></code></p></td>
<td><p>1</p></td>
<td><p>Device busy flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt disable flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME0</span></code></p></td>
<td><p>24</p></td>
<td><p>Clock frequency, select = 0</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME1</span></code></p></td>
<td><p>24</p></td>
<td><p>Clock frequency, select = 1</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME2</span></code></p></td>
<td><p>24</p></td>
<td><p>Clock frequency, select = 2</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME3</span></code></p></td>
<td><p>24</p></td>
<td><p>Clock frequency, select = 3</p></td>
</tr>
</tbody>
</table>
<p>The real-time clock autocalibrates;
the clock interval is adjusted up or down so that the clock tracks actual elapsed time.</p>
</section>
<section id="plotter-plt">
<h4><span class="sectnum">1.2.2.7. </span>Plotter (PLT)<a class="headerlink" href="#plotter-plt" title="Permalink to this heading">¶</a></h4>
<p>The plotter (PLT) writes data to a disk file.
The POS register specifies the number of the next data item to be written.
Thus, by changing POS, the user can backspace or advance the plotter.</p>
<p>The plotter implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>8</p></td>
<td><p>Last data item processed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUSY</span></code></p></td>
<td><p>1</p></td>
<td><p>Device busy flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt disable flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Position in the output file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Time from I/O initiation to interrupt</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Out of paper</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>x</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
</section>
<section id="second-terminal-tti1-tto1">
<h4><span class="sectnum">1.2.2.8. </span>Second terminal (TTI1, TTO1)<a class="headerlink" href="#second-terminal-tti1-tto1" title="Permalink to this heading">¶</a></h4>
<p>The second terminal consists of two independent devices, TTI1 and TTO1.
The additional terminal performs input and output through a Telnet session connecting into a user-specified port.
The <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> command specifies the port to be used:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ATTACH</span> <span class="pre">TTI1</span> <span class="pre">&lt;port&gt;</span></code></p></td>
<td><p>Set up listening port</p></td>
</tr>
</tbody>
</table>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;port&gt;</span></code> is a decimal number between 1 and 65535 that is not being used for other TCP/IP activities.</p>
<p>Once TTI1 is attached and the simulator is running, the terminal listens for a connection on the specified port.
It assumes that the incoming connection is a Telnet connection.
The connection remains open until disconnected by the Telnet client, or by a <code class="docutils literal notranslate"><span class="pre">DETACH</span> <span class="pre">TTI1</span></code> command.</p>
<p>The second terminal has two options,
recognized on both devices,
for setting limited Dasher-compatibility mode or ANSI mode:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">TTI1</span> <span class="pre">ANSI</span></code></p></td>
<td><p>Normal mode</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">TTI1</span> <span class="pre">DASHER</span></code></p></td>
<td><p>Dasher mode</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">TTO1</span> <span class="pre">ANSI</span></code></p></td>
<td><p>Normal mode</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">TTO1</span> <span class="pre">DASHER</span></code></p></td>
<td><p>Dasher mode</p></td>
</tr>
</tbody>
</table>
<p>Setting either TTI1 or TTO1 changes both devices.
In Dasher mode, carriage return is changed to newline on input, and <code class="docutils literal notranslate"><span class="pre">^X</span></code> is changed to backspace.
TTO1 supports output logging.
The <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">TTO1</span> <span class="pre">LOG</span></code> command enables logging:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">TTO1</span> <span class="pre">LOG=filename</span></code></p></td>
<td><p>Log output to <code class="docutils literal notranslate"><span class="pre">filename</span></code></p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">TTO1</span> <span class="pre">NOLOG</span></code> command disables logging and closes the open log file, if any.</p>
<p>Other special TTI1 commands:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">TTI1</span> <span class="pre">CONNECTIONS</span></code></p></td>
<td><p>Show current connections</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">TTI1</span> <span class="pre">STATISTICS</span></code></p></td>
<td><p>Show statistics for active connections</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">TTO1</span> <span class="pre">DISCONNECT</span></code></p></td>
<td><p>Disconnects the line</p></td>
</tr>
</tbody>
</table>
<p>The second terminal input implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>8</p></td>
<td><p>Last data item processed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUSY</span></code></p></td>
<td><p>1</p></td>
<td><p>Device busy flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt disable flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Keyboard polling interval</p></td>
</tr>
</tbody>
</table>
<p>The second terminal output implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>8</p></td>
<td><p>Last data item processed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUSY</span></code></p></td>
<td><p>1</p></td>
<td><p>Device busy flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt disable flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Time from I/O initiation to interrupt</p></td>
</tr>
</tbody>
</table>
</section>
<section id="asynchronous-multiplexers-qty-alm">
<h4><span class="sectnum">1.2.2.9. </span>Asynchronous multiplexers (QTY, ALM)<a class="headerlink" href="#asynchronous-multiplexers-qty-alm" title="Permalink to this heading">¶</a></h4>
<p>The QTY and ALM are terminal multiplexers with up to 64 lines.
Either the QTY or ALM can be enabled, but not both;
the ALM is enabled by default.
The number of lines can be changed with the command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="p">{</span><span class="n">QTY</span><span class="o">|</span><span class="n">ALM</span><span class="p">}</span> <span class="n">LINES</span><span class="o">=</span><span class="n">n</span>
</pre></div>
</div>
<p>The line count maximum is 64.</p>
<p>The QTY and ALM support 8-bit input and output of characters.
8-bit I/O may be incompatible with certain operating systems;
7-bit is the default.
The command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="p">{</span><span class="n">QTY</span><span class="o">|</span><span class="n">ALM</span><span class="p">}</span> <span class="mi">8</span><span class="n">B</span>
</pre></div>
</div>
<p>enables 8-bit input and output.</p>
<p>The terminal lines perform input and output through Telnet sessions connected to a user-specified port.
The <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> command specifies the port to be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATTACH</span> <span class="p">{</span><span class="o">-</span><span class="n">am</span><span class="p">}</span> <span class="p">{</span><span class="n">QTY</span><span class="o">|</span><span class="n">ALM</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">port</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;port&gt;</span></code> is a decimal number between 1 and 65535 that is not being used for other TCP/IP activities.
For the ALM multiplexer, the optional switch <code class="docutils literal notranslate"><span class="pre">-m</span></code> turns on the multiplexer modem controls;
the optional switch <code class="docutils literal notranslate"><span class="pre">-a</span></code> turns on active disconnects (disconnect session if computer clears Data Terminal Ready).
The QTY multiplexer does not support modem control.
Without modem control, the multiplexer behaves as though terminals were directly connected;
disconnecting the Telnet session does not cause any operating system-visible change in line status.</p>
<p>Once the multiplexer is attached and the simulator is running, it listens for connections on the specified port.
It assumes that the incoming connections are Telnet connections.
The connection remains open until disconnected by the simulated program, the Telnet client,
a <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">{QTY|ALM}</span> <span class="pre">DISCONNECT</span></code> command, or a <code class="docutils literal notranslate"><span class="pre">DETACH</span> <span class="pre">{QTY|ALM}</span></code> command.</p>
<p>Other special QTY/ALM commands:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">{QTY|ALM}</span> <span class="pre">CONNECTIONS</span></code></p></td>
<td><p>Show current connections</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">{QTY|ALM}</span> <span class="pre">STATISTICS</span></code></p></td>
<td><p>Show statistics for active connections</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">{QTY|ALM}</span> <span class="pre">DISCONNECT=n</span></code></p></td>
<td><p>Disconnects the specified line</p></td>
</tr>
</tbody>
</table>
<p>The QTY/ALM implement these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>8</p></td>
<td><p>Character buffer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUSY</span></code></p></td>
<td><p>1</p></td>
<td><p>Device busy flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device disable flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MDMCTL</span></code></p></td>
<td><p>1</p></td>
<td><p>Modem control flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AUTODS</span></code></p></td>
<td><p>1</p></td>
<td><p>Autodisconnect flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POLLS</span></code></p></td>
<td><p>32</p></td>
<td><p>Number of service polls</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>The multiplexers do not support save and restore.
All open connections are lost when the simulator shuts down or the multiplexer is detached.</p>
</section>
</section>
<section id="fixed-head-disk-dsk">
<h3><span class="sectnum">1.2.3. </span>Fixed head disk (DSK)<a class="headerlink" href="#fixed-head-disk-dsk" title="Permalink to this heading">¶</a></h3>
<p>Fixed head disk options include the ability to set the number of platters to a fixed value between 1 and 8,
or to autosize the number of platters from the attached file:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DSK</span> <span class="pre">1P</span></code></p></td>
<td><p>One platter (256K)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DSK</span> <span class="pre">2P</span></code></p></td>
<td><p>Two platters (512K)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DSK</span> <span class="pre">3P</span></code></p></td>
<td><p>Three platters (768K)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DSK</span> <span class="pre">4P</span></code></p></td>
<td><p>Four platters (1024K)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DSK</span> <span class="pre">5P</span></code></p></td>
<td><p>Five platters (1280K)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DSK</span> <span class="pre">6P</span></code></p></td>
<td><p>Six platters (1536K)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DSK</span> <span class="pre">7P</span></code></p></td>
<td><p>Seven platters (1792K)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DSK</span> <span class="pre">8P</span></code></p></td>
<td><p>Eight platters (2048K)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DSK</span> <span class="pre">AUTOSIZE</span></code></p></td>
<td><p>Autosized on <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code></p></td>
</tr>
</tbody>
</table>
<p>The default is 1P (minimum size).
The fixed head disk controller supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.</p>
<p>The fixed head disk controller implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STAT</span></code></p></td>
<td><p>16</p></td>
<td><p>Status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DA</span></code></p></td>
<td><p>16</p></td>
<td><p>Disk address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MA</span></code></p></td>
<td><p>16</p></td>
<td><p>Memory address</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUSY</span></code></p></td>
<td><p>1</p></td>
<td><p>Device busy flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device disable flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WLK</span></code></p></td>
<td><p>8</p></td>
<td><p>Write lock switches</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Rotational delay, per sector</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Disk not ready</p></td>
</tr>
</tbody>
</table>
<p>Fixed head disk data files are buffered in memory;
therefore, end of file and OS I/O errors cannot occur.</p>
</section>
<section id="moving-head-disk-dkp">
<h3><span class="sectnum">1.2.4. </span>Moving head disk (DKP)<a class="headerlink" href="#moving-head-disk-dkp" title="Permalink to this heading">¶</a></h3>
<p>Moving head disk options include the ability to make units write enabled or write locked,
and to select the type of drive (or autosize):</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DKPn</span> <span class="pre">LOCKED</span></code></p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> write locked</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DKPn</span> <span class="pre">WRITEENABLED</span></code></p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> write enabled</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DKPn</span> <span class="pre">FLOPPY</span></code> (or <code class="docutils literal notranslate"><span class="pre">6030</span></code>)</p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> to floppy disk</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DKPn</span> <span class="pre">DSDD</span></code> (or <code class="docutils literal notranslate"><span class="pre">6097</span></code>)</p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> to double density floppy</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DKPn</span> <span class="pre">D31</span></code> (or <code class="docutils literal notranslate"><span class="pre">4047</span></code>)</p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> to Diablo 31</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DKPn</span> <span class="pre">D44</span></code> (or <code class="docutils literal notranslate"><span class="pre">4234</span></code>, <code class="docutils literal notranslate"><span class="pre">6045</span></code>)</p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> to Diablo 44</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DKPn</span> <span class="pre">C111</span></code> (or <code class="docutils literal notranslate"><span class="pre">4048</span></code>)</p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> to Century 111</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DKPn</span> <span class="pre">C114</span></code> (or <code class="docutils literal notranslate"><span class="pre">2314</span></code>, <code class="docutils literal notranslate"><span class="pre">4057</span></code>)</p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> to Century 114</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DKPn</span> <span class="pre">6225</span></code></p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> to 6225</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DKPn</span> <span class="pre">6099</span></code></p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> to 6099</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DKPn</span> <span class="pre">6227</span></code></p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> to 6227</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DKPn</span> <span class="pre">6070</span></code></p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> to 6070</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DKPn</span> <span class="pre">6103</span></code></p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> to 6103</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DKPn</span> <span class="pre">4231</span></code> (or <code class="docutils literal notranslate"><span class="pre">3330</span></code>)</p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> to 4231</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DKPn</span> <span class="pre">AUTOSIZE</span></code></p></td>
<td><p>Set type based on file size at <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code></p></td>
</tr>
</tbody>
</table>
<p>Units can also be set <code class="docutils literal notranslate"><span class="pre">ENABLED</span></code> or <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.
The moving head disk controller supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.</p>
<p>All drives have 256 16b words per sector.
The other disk parameters are:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Drive</p></th>
<th class="head"><p>Cyl</p></th>
<th class="head"><p>Surf</p></th>
<th class="head"><p>Sectors</p></th>
<th class="head"><p>Size (MW)</p></th>
<th class="head"><p>Model numbers</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>floppy</p></td>
<td><p>77</p></td>
<td><p>1</p></td>
<td><p>8</p></td>
<td><p>.158</p></td>
<td><p>6030</p></td>
</tr>
<tr class="row-odd"><td><p>dsdd floppy</p></td>
<td><p>77</p></td>
<td><p>2</p></td>
<td><p>16</p></td>
<td><p>.632</p></td>
<td><p>6097</p></td>
</tr>
<tr class="row-even"><td><p>D31</p></td>
<td><p>203</p></td>
<td><p>2</p></td>
<td><p>12</p></td>
<td><p>1.247</p></td>
<td><p>4047, 4237, 4238</p></td>
</tr>
<tr class="row-odd"><td><p>D44</p></td>
<td><p>408</p></td>
<td><p>4</p></td>
<td><p>12</p></td>
<td><p>5.014</p></td>
<td><p>4234, 6045</p></td>
</tr>
<tr class="row-even"><td><p>C111</p></td>
<td><p>203</p></td>
<td><p>10</p></td>
<td><p>6</p></td>
<td><p>3.118</p></td>
<td><p>4048</p></td>
</tr>
<tr class="row-odd"><td><p>C114</p></td>
<td><p>203</p></td>
<td><p>20</p></td>
<td><p>12</p></td>
<td><p>12.472</p></td>
<td><p>2314, 4057</p></td>
</tr>
<tr class="row-even"><td><p>6225</p></td>
<td><p>245</p></td>
<td><p>2</p></td>
<td><p>20</p></td>
<td><p>2.508</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>6099</p></td>
<td><p>192</p></td>
<td><p>4</p></td>
<td><p>32</p></td>
<td><p>6.291</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>6227</p></td>
<td><p>245</p></td>
<td><p>6</p></td>
<td><p>20</p></td>
<td><p>7.526</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>6070</p></td>
<td><p>408</p></td>
<td><p>4</p></td>
<td><p>24</p></td>
<td><p>10.027</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>6103</p></td>
<td><p>192</p></td>
<td><p>8</p></td>
<td><p>32</p></td>
<td><p>12.583</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>4231</p></td>
<td><p>411</p></td>
<td><p>19</p></td>
<td><p>23</p></td>
<td><p>45.979</p></td>
<td><p>3330</p></td>
</tr>
</tbody>
</table>
<p>The moving head disk controller implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FCCY</span></code></p></td>
<td><p>16</p></td>
<td><p>Flags, command, cylinder</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">USSC</span></code></p></td>
<td><p>16</p></td>
<td><p>Unit, surface, sector, count</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STAT</span></code></p></td>
<td><p>16</p></td>
<td><p>Status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MA</span></code></p></td>
<td><p>16</p></td>
<td><p>Memory address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUSY</span></code></p></td>
<td><p>1</p></td>
<td><p>Device busy flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt disable flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DIAG</span></code></p></td>
<td><p>1</p></td>
<td><p>Diagnostic mode flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MAP</span></code></p></td>
<td><p>2</p></td>
<td><p>Map select</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Seek time, per cylinder</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Rotational delay</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>not attached</p></td>
<td><p>Disk not ready</p></td>
</tr>
<tr class="row-odd"><td><p>end of file</p></td>
<td><p>Assume rest of disk is zero</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
</section>
<section id="magnetic-tape-mta">
<h3><span class="sectnum">1.2.5. </span>Magnetic tape (MTA)<a class="headerlink" href="#magnetic-tape-mta" title="Permalink to this heading">¶</a></h3>
<p>Magnetic tape options include the ability to make units write enabled or write locked.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">MTAn</span> <span class="pre">LOCKED</span></code></p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> write locked</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">MTAn</span> <span class="pre">WRITEENABLED</span></code></p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> write enabled</p></td>
</tr>
</tbody>
</table>
<p>Magnetic tape units can be set to a specific reel capacity in MB, or to unlimited capacity:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">MTAn</span> <span class="pre">CAPAC=m</span></code></p></td>
<td><p>Set unit <code class="docutils literal notranslate"><span class="pre">n</span></code> capacity to <code class="docutils literal notranslate"><span class="pre">m</span></code> MB (0 = unlimited)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">MTAn</span> <span class="pre">CAPAC</span></code></p></td>
<td><p>Show unit <code class="docutils literal notranslate"><span class="pre">n</span></code> capacity in MB</p></td>
</tr>
</tbody>
</table>
<p>Units can also be set <code class="docutils literal notranslate"><span class="pre">ENABLED</span></code> or <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.
The magnetic tape controller supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.</p>
<p>The magnetic tape controller implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CU</span></code></p></td>
<td><p>16</p></td>
<td><p>Command, unit</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MA</span></code></p></td>
<td><p>16</p></td>
<td><p>Memory address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WC</span></code></p></td>
<td><p>16</p></td>
<td><p>Word count</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STA1</span></code></p></td>
<td><p>16</p></td>
<td><p>Status word 1</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STA2</span></code></p></td>
<td><p>16</p></td>
<td><p>Status word 2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EP</span></code></p></td>
<td><p>1</p></td>
<td><p>Extended polling mode (not supported)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUSY</span></code></p></td>
<td><p>1</p></td>
<td><p>Device busy flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt disable flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Controller delay</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Record delay</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">UST[0:7]</span></code></p></td>
<td><p>32</p></td>
<td><p>Unit status, units 0 to 7</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">POS[0:7]</span></code></p></td>
<td><p>31</p></td>
<td><p>Position, units 0 to 7</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>not attached</p></td>
<td><p>Tape not ready</p></td>
</tr>
<tr class="row-odd"><td><p>end of file</p></td>
<td><p>Bad tape</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="symbolic-display-and-input">
<h2><span class="sectnum">1.3. </span>Symbolic display and input<a class="headerlink" href="#symbolic-display-and-input" title="Permalink to this heading">¶</a></h2>
<p>The Nova simulator implements symbolic display and input.
Display is controlled by command-line switches:</p>
<dl class="option-list">
<dt><kbd><span class="option">-a</span></kbd></dt>
<dd><p>Display as ASCII character</p>
</dd>
<dt><kbd><span class="option">-c</span></kbd></dt>
<dd><p>Display as two packed ASCII characters</p>
</dd>
<dt><kbd><span class="option">-m</span></kbd></dt>
<dd><p>Display instruction mnemonics</p>
</dd>
</dl>
<p>Input parsing is controlled by the first character typed in or by command-line switches:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'</span></code> or <code class="docutils literal notranslate"><span class="pre">-a</span></code></p></td>
<td><p>ASCII character</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">-c</span></code></p></td>
<td><p>Two packed ASCII characters</p></td>
</tr>
<tr class="row-odd"><td><p>Alphabetic</p></td>
<td><p>Instruction mnemonic</p></td>
</tr>
<tr class="row-even"><td><p>Numeric</p></td>
<td><p>Octal number</p></td>
</tr>
</tbody>
</table>
<p>Instruction input uses standard Nova assembler syntax.
There are three instruction classes: memory reference, IOT, and operate.</p>
<p>Memory reference instructions have the format</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">memref</span> <span class="p">{</span><span class="n">ac</span><span class="p">,}{</span><span class="o">@</span><span class="p">}</span><span class="n">address</span><span class="p">{,</span><span class="n">index</span><span class="p">}</span>
</pre></div>
</div>
<p>LDA and STA require an initial register; ISZ, DSZ, JSR, and JMP do not.
The syntax for addresses and indices is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Syntax</p></th>
<th class="head"><p>Mode</p></th>
<th class="head"><p>Displacement</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0 &lt;= n &lt; 0400</p></td>
<td><p>0</p></td>
<td><p>n</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>{+/-}n &gt;= 0400</p></td>
<td><p>1</p></td>
<td><p>{+/-}n – PC</p></td>
<td><p>Must be in range [-200, 177], invalid on disk</p></td>
</tr>
<tr class="row-even"><td><p>.+/-n</p></td>
<td><p>1</p></td>
<td><p>{+/-}n</p></td>
<td><p>Must be in range [-200, 177]</p></td>
</tr>
<tr class="row-odd"><td><p>{+/-}n,2</p></td>
<td><p>2</p></td>
<td><p>{+/-}n</p></td>
<td><p>Must be in range [-200, 177]</p></td>
</tr>
<tr class="row-even"><td><p>{+/-}n,3</p></td>
<td><p>3</p></td>
<td><p>{+/-}n</p></td>
<td><p>Must be in range [-200, 177]</p></td>
</tr>
</tbody>
</table>
<p>IOT instructions have one of four formats:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Syntax</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">iot</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HALT</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">iot</span> <span class="pre">reg</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INTA</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">iot</span> <span class="pre">device</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SKPDN</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">iot</span> <span class="pre">reg,device</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DOAS</span></code></p></td>
</tr>
</tbody>
</table>
<p>Devices may be specified as mnemonics or as numbers in the range 0 - 077.</p>
<p>Operate instructions have the format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">opcode</span><span class="p">{</span><span class="c1">#} reg,reg{,skip}</span>
</pre></div>
</div>
<p>In all Nova instructions, blanks may be substituted for commas as field delimiters.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Python</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="simh_doc.html">SimH Users' Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_swre.html">SimH Sample Software Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_faq.html">SimH FAQ</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data General Nova</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#simulator-files"><span class="sectnum">1.1. </span>Simulator files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#nova-features"><span class="sectnum">1.2. </span>Nova features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cpu"><span class="sectnum">1.2.1. </span>CPU</a></li>
<li class="toctree-l3"><a class="reference internal" href="#programmed-i-o-devices"><span class="sectnum">1.2.2. </span>Programmed I/O devices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#paper-tape-reader-ptr"><span class="sectnum">1.2.2.1. </span>Paper tape reader (PTR)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#paper-tape-punch-ptp"><span class="sectnum">1.2.2.2. </span>Paper tape punch (PTP)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#terminal-input-tti"><span class="sectnum">1.2.2.3. </span>Terminal input (TTI)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#terminal-output-tto"><span class="sectnum">1.2.2.4. </span>Terminal output (TTO)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#line-printer-lpt"><span class="sectnum">1.2.2.5. </span>Line printer (LPT)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#real-time-clock-rtc"><span class="sectnum">1.2.2.6. </span>Real-time clock (RTC)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plotter-plt"><span class="sectnum">1.2.2.7. </span>Plotter (PLT)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#second-terminal-tti1-tto1"><span class="sectnum">1.2.2.8. </span>Second terminal (TTI1, TTO1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#asynchronous-multiplexers-qty-alm"><span class="sectnum">1.2.2.9. </span>Asynchronous multiplexers (QTY, ALM)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#fixed-head-disk-dsk"><span class="sectnum">1.2.3. </span>Fixed head disk (DSK)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#moving-head-disk-dkp"><span class="sectnum">1.2.4. </span>Moving head disk (DKP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#magnetic-tape-mta"><span class="sectnum">1.2.5. </span>Magnetic tape (MTA)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#symbolic-display-and-input"><span class="sectnum">1.3. </span>Symbolic display and input</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pdp11_doc.html">Digital Equipment Corporation PDP-11</a></li>
<li class="toctree-l1"><a class="reference internal" href="vax780_doc.html">Digital Equipment Corporation VAX-11/780</a></li>
<li class="toctree-l1"><a class="reference internal" href="vax_doc.html">Digital Equipment Corporation MicroVAX 3900</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="simh_faq.html" title="previous chapter"><span class="sectnum">1. </span>SimH FAQ</a></li>
      <li>Next: <a href="pdp11_doc.html" title="next chapter"><span class="sectnum">1. </span>PDP-11 simulator usage</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/nova_doc.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>