
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>SIMH Users’ Guide, V4.0 &#8212; Python  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="1. SimH sample software packages" href="simh_swre.html" />
    <link rel="prev" title="Simulator Documentation" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="simh-users-guide-v4-0">
<h1>SIMH Users’ Guide, V4.0<a class="headerlink" href="#simh-users-guide-v4-0" title="Permalink to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2022-02-14</p>
</dd>
<dt class="field-even">Version<span class="colon">:</span></dt>
<dd class="field-even"><p>4.0</p>
</dd>
<dt class="field-odd">Revision<span class="colon">:</span></dt>
<dd class="field-odd"><p>$Format:%H$</p>
</dd>
<dt class="field-even">Copyright<span class="colon">:</span></dt>
<dd class="field-even"><p>See <a class="reference external" href="../LICENSE.txt">LICENSE.txt</a> for terms of use.</p>
</dd>
</dl>
<aside class="topic">
<p class="topic-title"><strong>Copyright notice</strong></p>
<p>The following copyright notice applies to the SIMH source, binary, and documentation:</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the “Software”),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
<p>Except as contained in this notice, the names of The Authors shall not be
used in advertising or otherwise to promote the sale, use or other dealings
in this Software without prior written authorization from the Authors.</p>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id8">Introduction</a></p></li>
<li><p><a class="reference internal" href="#running-a-simulator" id="id9">1. Running a simulator</a></p></li>
<li><p><a class="reference internal" href="#compiling-a-simulator" id="id10">2. Compiling a simulator</a></p>
<ul>
<li><p><a class="reference internal" href="#compiling-under-unix-linux-macos" id="id11">2.1 Compiling under Unix/Linux/macOS</a></p></li>
<li><p><a class="reference internal" href="#compiling-under-windows" id="id12">2.2 Compiling under Windows</a></p>
<ul>
<li><p><a class="reference internal" href="#compiling-with-ethernet-support" id="id13">2.2.1 Compiling with Ethernet support</a></p></li>
<li><p><a class="reference internal" href="#compiling-under-visual-c" id="id14">2.2.2 Compiling under Visual C++</a></p></li>
<li><p><a class="reference internal" href="#compiling-under-mingw" id="id15">2.2.3 Compiling under MinGW</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#compiling-under-openvms" id="id16">2.3 Compiling under OpenVMS</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#simulator-conventions" id="id17">3. Simulator Conventions</a></p></li>
<li><p><a class="reference internal" href="#commands" id="id18">4. Commands</a></p>
<ul>
<li><p><a class="reference internal" href="#loading-and-saving-programs" id="id19">4.1 Loading and saving programs</a></p></li>
<li><p><a class="reference internal" href="#saving-and-restoring-state" id="id20">4.2 Saving and restoring state</a></p></li>
<li><p><a class="reference internal" href="#resetting-devices" id="id21">4.3 Resetting devices</a></p></li>
<li><p><a class="reference internal" href="#connecting-and-disconnecting-devices" id="id22">4.4 Connecting and disconnecting devices</a></p></li>
<li><p><a class="reference internal" href="#examining-and-changing-state" id="id23">4.5 Examining and changing state</a></p></li>
<li><p><a class="reference internal" href="#evaluating-instructions" id="id24">4.6 Evaluating instructions</a></p></li>
<li><p><a class="reference internal" href="#running-a-simulated-program" id="id25">4.7 Running a simulated program</a></p>
<ul>
<li><p><a class="reference internal" href="#controlling-the-simulation-rate" id="id26">4.7.1 Controlling the simulation rate</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#stopping-the-simulator" id="id27">4.8 Stopping the simulator</a></p>
<ul>
<li><p><a class="reference internal" href="#simulator-detected-stop-conditions" id="id28">4.8.1 Simulator detected stop conditions</a></p></li>
<li><p><a class="reference internal" href="#user-specified-stop-conditions" id="id29">4.8.2 User-specified stop conditions</a></p></li>
<li><p><a class="reference internal" href="#breakpoints" id="id30">4.8.3 Breakpoints</a></p></li>
<li><p><a class="reference internal" href="#execution-time-limits" id="id31">4.8.4 Execution time limits</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#halt-on-output-data" id="id32">4.9 Halt on output data</a></p>
<ul>
<li><p><a class="reference internal" href="#switches" id="id33">4.9.1 Switches</a></p></li>
<li><p><a class="reference internal" href="#determining-which-output-matched" id="id34">4.9.2 Determining which output matched</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#injecting-input-data" id="id35">4.10 Injecting input data</a></p>
<ul>
<li><p><a class="reference internal" href="#delay" id="id36">4.10.1 Delay</a></p></li>
<li><p><a class="reference internal" href="#after" id="id37">4.10.2 After</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id38">4.10.3 Escaping string data</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#setting-device-parameters" id="id39">4.11 Setting device parameters</a></p></li>
<li><p><a class="reference internal" href="#displaying-parameters-and-status" id="id40">4.12 Displaying parameters and status</a></p></li>
<li><p><a class="reference internal" href="#altering-the-simulated-configuration" id="id41">4.13 Altering the simulated configuration</a></p></li>
<li><p><a class="reference internal" href="#console-options" id="id42">4.14 Console options</a></p></li>
<li><p><a class="reference internal" href="#remote-console" id="id43">4.15 Remote console</a></p>
<ul>
<li><p><a class="reference internal" href="#master-mode" id="id44">4.15.1 Master mode</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#executing-command-files" id="id45">4.16 Executing command files</a></p>
<ul>
<li><p><a class="reference internal" href="#default-command-file-executed-on-simulator-startup" id="id46">4.16.1 Default command file executed on simulator startup</a></p></li>
<li><p><a class="reference internal" href="#change-command-execution-flow" id="id47">4.16.2 Change command execution flow</a></p></li>
<li><p><a class="reference internal" href="#subroutine-calls" id="id48">4.16.3 Subroutine calls</a></p></li>
<li><p><a class="reference internal" href="#pausing-command-execution" id="id49">4.16.4 Pausing command execution</a></p></li>
<li><p><a class="reference internal" href="#displaying-arbitrary-text" id="id50">4.16.5 Displaying arbitrary text</a></p></li>
<li><p><a class="reference internal" href="#testing-simulator-state" id="id51">4.16.6 Testing simulator state</a></p></li>
<li><p><a class="reference internal" href="#trapping-on-command-completion-conditions" id="id52">4.16.7 Trapping on command completion conditions</a></p></li>
<li><p><a class="reference internal" href="#command-arguments" id="id53">4.16.8 Command arguments</a></p></li>
<li><p><a class="reference internal" href="#command-aliases" id="id54">4.16.9 Command aliases</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#executing-system-commands" id="id55">4.17 Executing system commands</a></p></li>
<li><p><a class="reference internal" href="#getting-help" id="id56">4.18 Getting help</a></p></li>
<li><p><a class="reference internal" href="#recording-simulator-activities" id="id57">4.19 Recording simulator activities</a></p>
<ul>
<li><p><a class="reference internal" href="#id6" id="id58">4.19.1 Switches</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#controlling-debugging" id="id59">4.20 Controlling debugging</a></p>
<ul>
<li><p><a class="reference internal" href="#id7" id="id60">4.20.1 Switches</a></p></li>
<li><p><a class="reference internal" href="#device-debug-options" id="id61">4.20.2 Device debug options</a></p></li>
<li><p><a class="reference internal" href="#displaying-debug-settings" id="id62">4.20.3 Displaying debug settings</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#exiting-the-simulator" id="id63">4.21 Exiting the simulator</a></p></li>
<li><p><a class="reference internal" href="#manipulating-files-within-the-simulator" id="id64">4.22 Manipulating files within the simulator</a></p>
<ul>
<li><p><a class="reference internal" href="#manipulating-file-archives" id="id65">4.22.1 Manipulating file archives</a></p></li>
<li><p><a class="reference internal" href="#transferring-data-from-the-web" id="id66">4.22.2 Transferring data from the web</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#appendix-1-file-representations" id="id67">Appendix 1: File Representations</a></p>
<ul>
<li><p><a class="reference internal" href="#a-1-hard-disks" id="id68">A.1 Hard disks</a></p></li>
<li><p><a class="reference internal" href="#a-2-floppy-disks" id="id69">A.2 Floppy disks</a></p></li>
<li><p><a class="reference internal" href="#a-3-magnetic-tapes" id="id70">A.3 Magnetic tapes</a></p></li>
<li><p><a class="reference internal" href="#a-4-line-printers" id="id71">A.4 Line printers</a></p></li>
<li><p><a class="reference internal" href="#a-5-dectapes" id="id72">A.5 DECtapes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#appendix-2-debug-status" id="id73">Appendix 2: Debug status</a></p></li>
<li><p><a class="reference internal" href="#revision-history-covering-rev-2-0-to-rev-3-5" id="id74">Revision history (covering Rev 2.0 to Rev 3.5)</a></p></li>
<li><p><a class="reference internal" href="#acknowledgements" id="id75">Acknowledgements</a></p></li>
</ul>
</nav>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>This memorandum documents the SIMH simulators.
These simulators are freeware; refer to the license terms above for conditions of use.
Support is not available.
The best way to fix problems or add features is to read and modify the sources yourself.
Alternately, you can send Internet mail to simh AT trailing-edge DOT com, but a response is not guaranteed.</p>
<p>The simulators use a common command interface.
This memorandum describes the features of the command interface.
The details of each simulator are documented in separate, machine-specific memoranda.</p>
</section>
<section id="running-a-simulator">
<h2>1. Running a simulator<a class="headerlink" href="#running-a-simulator" title="Permalink to this heading">¶</a></h2>
<p>To start the simulator, simply type its name.
(On VMS the simulators must then be defined as foreign commands in order to be started by name).
The simulator recognizes three command-line switches: <code class="docutils literal notranslate"><span class="pre">-q</span></code>, <code class="docutils literal notranslate"><span class="pre">-v</span></code>, and <code class="docutils literal notranslate"><span class="pre">-e</span></code>.
If <code class="docutils literal notranslate"><span class="pre">-q</span></code> is specified, certain informational messages are suppressed.
The <code class="docutils literal notranslate"><span class="pre">-v</span></code> and <code class="docutils literal notranslate"><span class="pre">-e</span></code> switches pertain only to command files and are described in Section 3.13.</p>
<p>The simulator interprets the arguments on the command-line, if any, as the filename and arguments for a <code class="docutils literal notranslate"><span class="pre">DO</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">pdp10</span> <span class="p">{</span><span class="n">switches</span><span class="p">}</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">startup</span> <span class="n">file</span><span class="o">&gt;</span> <span class="p">{</span><span class="n">arg</span><span class="p">,</span><span class="n">arg</span><span class="p">,</span><span class="o">...</span><span class="p">}}</span>
</pre></div>
</div>
<p>If no file is specified on the command-line,
the simulator looks for a startup file consisting of the simulator name (including its path components) plus the extension <code class="docutils literal notranslate"><span class="pre">.ini</span></code>.
If a startup file is specified, either on the command-line or implicitly via the <code class="docutils literal notranslate"><span class="pre">.ini</span></code> capability,
it should contain a series of non-interactive simulator command, one per line.
These commands can be used to set up standard parameters, for example, disk sizes.</p>
<p>After initializing its internal structures and processing the startup file (if any),
the simulator types out its name and version and then prompts for input with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sim</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="compiling-a-simulator">
<h2>2. Compiling a simulator<a class="headerlink" href="#compiling-a-simulator" title="Permalink to this heading">¶</a></h2>
<p>The simulators have been tested on
VAX VMS,
Alpha VMS,
IA64 VMS,
Alpha UNIX,
NetBSD,
FreeBSD,
OpenBSD,
Linux,
Solaris,
Windows 9x/NT/2000/XP/Win7/Win8,
macOS,
and OS/2.
Porting to other environments will require changes to the operating system dependent code in the SIMH libraries
(<code class="docutils literal notranslate"><span class="pre">sim_fio.c</span></code>,
<code class="docutils literal notranslate"><span class="pre">sim_timer.c</span></code>,
<code class="docutils literal notranslate"><span class="pre">sim_console.c</span></code>,
<code class="docutils literal notranslate"><span class="pre">sim_ether.c</span></code>,
<code class="docutils literal notranslate"><span class="pre">sim_sock.c</span></code>,
<code class="docutils literal notranslate"><span class="pre">sim_disk.c</span></code>,
<code class="docutils literal notranslate"><span class="pre">sim_serial.c</span></code>).</p>
<p>The simulator sources are provided in a zip archive and are organized hierarchically.
Source files for the simulator framework components are in the top-level directory;
source files for each simulator are in individual subdirectories.
Note that the include files in the top-level directory are referenced from the subdirectories, without path identifiers.
Your build tool needs to search the top-level directory for include files not present in the simulator-specific directory.
File manifests for each simulator are given in that simulator’s documentation.</p>
<p>The simulators recognize or require a few compile-time <code class="docutils literal notranslate"><span class="pre">#defines</span></code>:</p>
<ul class="simple">
<li><p>The 18b simulators require that the model name be defined as part of the compilation command-line (i.e.,
<code class="docutils literal notranslate"><span class="pre">PDP4</span></code> for the PDP-4,
<code class="docutils literal notranslate"><span class="pre">PDP7</span></code> for the PDP-7,
<code class="docutils literal notranslate"><span class="pre">PDP9</span></code> for the PDP-9,
<code class="docutils literal notranslate"><span class="pre">PDP15</span></code> for the PDP-15).</p></li>
<li><p>The PDP-10 and IBM 7094 simulators use 64b integer variables,
requiring that USE_INT64 be defined as part of the compilation command-line.
Since 64b integer declarations vary,
<code class="docutils literal notranslate"><span class="pre">sim_defs.h</span></code> has conditional declarations for Windows (<code class="docutils literal notranslate"><span class="pre">_int64</span></code>) and Digital UNIX (<code class="docutils literal notranslate"><span class="pre">long</span></code>).
The default is GNU C (<code class="docutils literal notranslate"><span class="pre">long</span> <span class="pre">long</span></code>).
If your compiler uses a different convention, you will have to modify <code class="docutils literal notranslate"><span class="pre">sim_defs.h</span></code>.</p></li>
<li><p>The PDP-10, PDP-11, and VAX simulators share common peripherals.
To distinguish the target system, one of three variables must be defined on the command-line:
<code class="docutils literal notranslate"><span class="pre">VM_PDP10</span></code> for the PDP-10;
<code class="docutils literal notranslate"><span class="pre">VM_PDP11</span></code> for the PDP-11;
or <code class="docutils literal notranslate"><span class="pre">VM_VAX</span></code> for the VAX.</p></li>
<li><p>The PDP-11, and VAX simulators optionally support Ethernet.
At present, Ethernet support has been tested only on
Windows,
Linux,
macOS,
NetBSD,
OpenBSD,
FreeBSD,
Solaris,
Alpha and IA64 VMS,
but it should work in any host environment that supports the Pcap library
(see the Ethernet readme file).</p></li>
<li><p>The PDP-11 and VAX simulators support disks and sequential tape files greater than 2GB when the host OS is capable of manipulating files greater than 2GB.</p></li>
<li><p>The HP2100 Fast FORTRAN Processor (FFP) and 1000-F CPU options require 64b integer support.
Define <code class="docutils literal notranslate"><span class="pre">HAVE_INT64</span></code> (not <code class="docutils literal notranslate"><span class="pre">USE_INT64</span></code>) as part of the compilation command-line if your host compiler supports 64b integers.
On systems without 64b support, the 1000 F-Series CPU will be unavailable,
and FFP extended-precision instructions (e.g., <code class="docutils literal notranslate"><span class="pre">XADD</span></code>) will be disabled;
the remainder of the FFP instructions will work normally.
There may be some compilation warnings.</p></li>
</ul>
<section id="compiling-under-unix-linux-macos">
<h3>2.1 Compiling under Unix/Linux/macOS<a class="headerlink" href="#compiling-under-unix-linux-macos" title="Permalink to this heading">¶</a></h3>
<p>The sources originate on a Windows system and have CRLF line endings.
For use on other systems, the sources may need to be converted to LF line endings.
This can be done with the <code class="docutils literal notranslate"><span class="pre">unzip</span></code> utility (<code class="docutils literal notranslate"><span class="pre">unzip</span> <span class="pre">-a</span></code>).</p>
<p>The supplied makefile will compile the simulators for UNIX and Unix-like systems.
The VAX and PDP-11 can be compiled with or without Ethernet support.
The makefile will automatically build these simulators with Ethernet support if the necessary network components are available on the system which is doing the building.
The recommended libpcap components are those packaged and provided by the host operating system vendor.
Specific details about building with network support is documented in the <code class="docutils literal notranslate"><span class="pre">0readme_ethernet.txt</span></code> in the top-level directory of the SIMH source.</p>
<p>To compile with or without Ethernet support:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gmake</span> <span class="p">{</span><span class="n">target</span><span class="o">|</span><span class="n">ALL</span><span class="o">|</span><span class="n">clean</span><span class="p">}</span>
</pre></div>
</div>
<p>Notes for hand compilation:</p>
<ul class="simple">
<li><p>The default Unix terminal handling model is the POSIX TERMIOS interface,
which is supported by Linux, macOS, and Alpha UNIX.
If your Unix only supports the BSD terminal interface,
<code class="docutils literal notranslate"><span class="pre">BSDTTY</span></code> must be defined as part of the compilation command-line.</p></li>
<li><p>The PDP-8, PDP-11, 18b PDP, PDP-10, and Nova simulators use the math library.
If your Unix does not link the math library automatically,
you must add <code class="docutils literal notranslate"><span class="pre">-lm</span></code> to the compilation command-line.</p></li>
</ul>
<p>Examples:</p>
<ul>
<li><p>PDP-11 under TERMIOS Unix:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">% </span>cc -DVM_PDP11 pdp11_*.c scp.c sim_*.c -lm -o pdp11
</pre></div>
</div>
</li>
<li><p>PDP-9 under TERMIOS Unix:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">% </span>cc -DPDP9 pdp18b_*.c scp.c sim_*.c -lm -o pdp9
</pre></div>
</div>
</li>
<li><p>PDP-10 under BSD terminal Unix:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">% </span>cc -DVM_PDP10 -DUSE_INT64 -DBSDTTY pdp10_*.c scp.c sim_*.c -lm -o pdp10
</pre></div>
</div>
</li>
</ul>
</section>
<section id="compiling-under-windows">
<h3>2.2 Compiling under Windows<a class="headerlink" href="#compiling-under-windows" title="Permalink to this heading">¶</a></h3>
<section id="compiling-with-ethernet-support">
<h4>2.2.1 Compiling with Ethernet support<a class="headerlink" href="#compiling-with-ethernet-support" title="Permalink to this heading">¶</a></h4>
<p>The Windows-specific Ethernet code uses the npcap or the WinPCAP 4.x package.
These packages provides the libpcap functionality package that is freely available for Unix systems.
Building simulators with built-in Ethernet support can be done if the required npcap/WinPcap components are available on your build system at compile time.
These components are available by downloading the file
<a class="reference external" href="https://github.com/simh/windows-build/archive/windows-build.zip">https://github.com/simh/windows-build/archive/windows-build.zip</a></p>
<p>This zip file contains a file called <code class="docutils literal notranslate"><span class="pre">README.md</span></code> which explains how to locate the unpacked zip file contents to build simulators with Ethernet support.
If your build environment has <a class="reference external" href="https://git-scm.com/">Git</a>, the build activity will automatically download the windows-build components the first time you build a simulator.</p>
<p>In order for a simulator (built with Ethernet support) to provide working Ethernet functionality at run time,
npcap WinPCAP must be installed on the system.
In order to install the npcap or WinPcap package the following should be performed:</p>
<ol class="arabic simple">
<li><p>Download <a class="reference external" href="https://npcap.com/#download">npcap</a>  or <a class="reference external" href="https://www.winpcap.org/">WinPcap</a>.</p></li>
<li><p>Install the package as directed.</p></li>
</ol>
</section>
<section id="compiling-under-visual-c">
<h4>2.2.2 Compiling under Visual C++<a class="headerlink" href="#compiling-under-visual-c" title="Permalink to this heading">¶</a></h4>
<p>Visual C++ requires projects to be defined for each executable which is being built.
You can define your own project for each simulator you are interested in,
or you can use the predefined project definitions for this simulator release.</p>
<section id="using-the-predefined-project-definitions">
<h5>2.2.2.1 Using the predefined project definitions<a class="headerlink" href="#using-the-predefined-project-definitions" title="Permalink to this heading">¶</a></h5>
<p>The current SIMH source includes a directory <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span> <span class="pre">Projects</span></code> which contains the Visual Studio projects for all supported simulators.
This directory contains a file named <code class="docutils literal notranslate"><span class="pre">0ReadMe_Projects.txt</span></code> which explains how to locate SIMH source files with respect to the related required build components provide in the <code class="docutils literal notranslate"><span class="pre">windows_build.zip</span></code> file mentioned above in <span class="target" id="id1">2.2.1 Compiling with Ethernet support</span>.</p>
<p>These projects produce executables in the <code class="docutils literal notranslate"><span class="pre">BIN\NT\Win32-Debug</span></code> or <code class="docutils literal notranslate"><span class="pre">BIN\NT\Win32-Release</span></code> directories.
All intermediate build files are kept in <code class="docutils literal notranslate"><span class="pre">BIN\NT\Project\{simulator-name}</span></code> directories.</p>
</section>
<section id="defining-your-own-visual-c-project-definitions">
<h5>2.2.2.2 Defining your own Visual C++ project definitions<a class="headerlink" href="#defining-your-own-visual-c-project-definitions" title="Permalink to this heading">¶</a></h5>
<p>Each simulator must be organized as a separate Visual C++ project.
Starting from an empty console application,</p>
<ul class="simple">
<li><p>Add all the files from the simulator file manifest to the project.</p></li>
<li><p>Open the Properties (Visual Studio Express 2008) box.</p></li>
<li><p>Under C/C++, Category: General, add any required preprocessor definitions (for example, <code class="docutils literal notranslate"><span class="pre">USE_INT64</span></code>).</p></li>
<li><p>Under C/C++, Category: Preprocessor, add the top-level simulation directory to the Additional Include Directories.
For the VAX and PDP-10, you must also add the PDP-11 directory.</p></li>
<li><p>Under Link, add <code class="docutils literal notranslate"><span class="pre">wsock32.lib</span></code> and <code class="docutils literal notranslate"><span class="pre">winmm.lib</span></code> at the end of the list of Object/Module Libraries.</p></li>
<li><p>If you are building the PDP-11 and VAX with Ethernet support, you must also add the WinPCAP libraries (<code class="docutils literal notranslate"><span class="pre">packet.lib</span></code>, <code class="docutils literal notranslate"><span class="pre">wpcap.lib</span></code>) to the list of Object/Module libraries.</p></li>
</ul>
<p>If you are using Visual C++ .NET, you must turn off <code class="docutils literal notranslate"><span class="pre">/Wp64</span></code> (warn about potential 64b incompatibilities) and disable Unicode processing.
You will also have to turn off warning 4996 (“deprecated” string functions), or lower the warning level to <code class="docutils literal notranslate"><span class="pre">/W1</span></code>.
Otherwise, the compilations will generate a lot of spurious conversion warnings.</p>
<p>Alternatively, you can ‘start’ from a preexisting Visual Studio project which may have similar components to the project you are trying to create.
Starting from such a project is done by copying the existing <code class="docutils literal notranslate"><span class="pre">.vcproj</span></code> file to a project file with a new name.
The <strong>MOST IMPORTANT</strong> step of this process is to assure that the copy of the project file has a unique GUID.
Generate a new GUID by invoking the <code class="docutils literal notranslate"><span class="pre">guidgen.exe</span></code> program from the Visual Studio directories (<code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files</span> <span class="pre">(x86)\Microsoft</span> <span class="pre">Visual</span> <span class="pre">Studio</span> <span class="pre">9.0\Common7\Tools\guidgen.exe</span></code>).
Click on the Copy button to get the newly generated GUID into the clipboard.
Open the target project file in a text-editor (<code class="docutils literal notranslate"><span class="pre">notepad.exe</span></code>) and replace the ProjectGUID value with the clipboard contents.
Replace the Name value (<code class="docutils literal notranslate"><span class="pre">PDP1</span></code> for example) with the name of your new simulator.
Carefully do a global replace of all instances of the prior Name value (<code class="docutils literal notranslate"><span class="pre">PDP1</span></code> in this case) with the name of your new simulator.
Save the project file.
The next step is to add the project file to the existing SIMH solution.
Open the <code class="docutils literal notranslate"><span class="pre">simh.sln</span></code> with Visual Studio and in the Solution Explorer pane,
right-click on the Solution Simh and select Add|-&gt;|Existing Project.</p>
<p>Browse and select your new project file.
All other changes to the project file (the particular source and include files which make up your simulator) can be added or adjusted here.</p>
</section>
</section>
<section id="compiling-under-mingw">
<h4>2.2.3 Compiling under MinGW<a class="headerlink" href="#compiling-under-mingw" title="Permalink to this heading">¶</a></h4>
<p>MinGW (Minimalist GNU for Windows) is a free C compiler available from <a class="reference external" href="https://www.mingw-w64.org/downloads/">mingw-w64.org</a>.</p>
<p>MSYS2 is a minimal set of Unix utilities to support MinGW, also available from <a class="reference external" href="https://www.mingw-w64.org/downloads/">mingw-w64.org</a>.
The distribution includes a batch file (<code class="docutils literal notranslate"><span class="pre">build_mingw.bat</span></code>) that will build all the simulators from source.
By default, the PDP-11 and VAX family simulators are built with Ethernet support if the necessary WinPcap components are available at build time.
The compiled executables will be produced in the <code class="docutils literal notranslate"><span class="pre">BIN</span></code> directory which will be created if needed.</p>
</section>
</section>
<section id="compiling-under-openvms">
<h3>2.3 Compiling under OpenVMS<a class="headerlink" href="#compiling-under-openvms" title="Permalink to this heading">¶</a></h3>
<p>Compiling on OpenVMS requires DEC C.
The simulators that require 64b (PDP-10, VAX and others) will not compile on OpenVMS/VAX.
The SIMH distribution includes an MMS command file <code class="docutils literal notranslate"><span class="pre">descrip.mms</span></code> that will build all the simulators from source.
An example of hand compilation:</p>
<ul>
<li><p>PDP-8 under VMS:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cc scp.c,sim_*.c,<span class="o">[</span>.pdp8<span class="o">]</span>pdp8*.c
<span class="gp">$ </span>link/exec<span class="o">=</span>pdp8 scp.obj,sim_*.obj,<span class="o">[</span>.pdp8<span class="o">]</span>pdp8*.obj
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="simulator-conventions">
<h2>3. Simulator Conventions<a class="headerlink" href="#simulator-conventions" title="Permalink to this heading">¶</a></h2>
<p>A simulator consists of a series of devices, the first of which is always the CPU.
A device consists of named registers and one or more numbered units.
Registers correspond to device state, units to device address spaces.
Thus, the CPU device might have registers like PC, ION, etc., and a unit corresponding to main memory;
a disk device might have registers like BUSY, DONE, etc., and units corresponding to individual disk drives.
Except for main memory, device address spaces are simulated as unstructured binary disk files in the host file system.
The <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">CONFIG</span></code> command displays the simulator configuration.</p>
<p>A simulator keeps time in terms of arbitrary units,
usually one time unit per instruction executed.
Simulated events (such as completion of I/O) are scheduled at some number of time units in the future.
The simulator executes synchronously, invoking event processors when simulated events are scheduled to occur.
Even asynchronous events, like keyboard input, are handled by polling at synchronous intervals.
The <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">QUEUE</span></code> command displays the simulator event queue.</p>
</section>
<section id="commands">
<h2>4. Commands<a class="headerlink" href="#commands" title="Permalink to this heading">¶</a></h2>
<p>Simulator commands consist of a command verb, optional switches, and optional arguments.
Switches take the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-&lt;</span><span class="n">letter</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="n">letter</span><span class="o">&gt;...</span><span class="p">}</span>
</pre></div>
</div>
<p>Multiple switches may be specified separately or together:
<code class="docutils literal notranslate"><span class="pre">-abcd</span></code> and <code class="docutils literal notranslate"><span class="pre">-a</span></code> <code class="docutils literal notranslate"><span class="pre">-b</span></code> <code class="docutils literal notranslate"><span class="pre">-c</span></code> <code class="docutils literal notranslate"><span class="pre">-d</span></code> are treated identically.
Verbs, switches, and other input (except for filenames) are case insensitive.</p>
<p>Any command beginning with semicolon (<code class="docutils literal notranslate"><span class="pre">;</span></code>) is considered a comment and ignored.</p>
<section id="loading-and-saving-programs">
<h3>4.1 Loading and saving programs<a class="headerlink" href="#loading-and-saving-programs" title="Permalink to this heading">¶</a></h3>
<p id="lo"><span id="load"></span>The <code class="docutils literal notranslate"><span class="pre">LOAD</span></code> command (abbreviation <code class="docutils literal notranslate"><span class="pre">LO</span></code>) loads a file in binary loader format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">load</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span> <span class="p">{</span><span class="n">implementation</span> <span class="n">options</span><span class="p">}</span>
</pre></div>
</div>
<p>The types of formats supported are simulator specific.
Options (such as load within range) are also simulator specific.
The <code class="docutils literal notranslate"><span class="pre">load</span></code> command may not be meaningful or supported at all in some simulators.</p>
<p id="du"><span id="dump"></span>The <code class="docutils literal notranslate"><span class="pre">DUMP</span></code> command (abbreviation <code class="docutils literal notranslate"><span class="pre">DU</span></code>) dumps memory in binary loader format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dump</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span> <span class="p">{</span><span class="n">implementation</span> <span class="n">options</span><span class="p">}</span>
</pre></div>
</div>
<p>The types of formats supported are simulator specific.
Options (such as dump within range) are also simulator specific.
The <code class="docutils literal notranslate"><span class="pre">dump</span></code> command may not be meaningful or supported at all in some simulators.</p>
</section>
<section id="saving-and-restoring-state">
<h3>4.2 Saving and restoring state<a class="headerlink" href="#saving-and-restoring-state" title="Permalink to this heading">¶</a></h3>
<p id="sa"><span id="save"></span>The <code class="docutils literal notranslate"><span class="pre">SAVE</span></code> command (abbreviation <code class="docutils literal notranslate"><span class="pre">SA</span></code>) saves the complete state of the simulator to a file.
This includes the contents of main memory and all registers, and the I/O connections of devices:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">save</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
</pre></div>
</div>
<p id="get"><span id="rest"></span><span id="restore"></span>The <code class="docutils literal notranslate"><span class="pre">RESTORE</span></code> command (abbreviation <code class="docutils literal notranslate"><span class="pre">REST</span></code>, alternately <code class="docutils literal notranslate"><span class="pre">GET</span></code>) restores a previously saved simulator state:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">restore</span> <span class="p">{</span><span class="o">-</span><span class="n">d</span><span class="p">}</span> <span class="p">{</span><span class="o">-</span><span class="n">f</span><span class="p">}</span> <span class="p">{</span><span class="o">-</span><span class="n">q</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
</pre></div>
</div>
<dl class="option-list">
<dt><kbd><span class="option">-d</span></kbd></dt>
<dd><p>Avoid detaching and reattaching devices during a restore</p>
</dd>
<dt><kbd><span class="option">-f</span></kbd></dt>
<dd><p>Override the date timestamp check for attached files during a restore</p>
</dd>
<dt><kbd><span class="option">-q</span></kbd></dt>
<dd><p>Suppress warning messages about save file version information</p>
</dd>
</dl>
<p>Notes:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SAVE</span></code> file format compresses zeroes to minimize file size.</p></li>
<li><p>The simulator can’t restore active incoming telnet sessions to multiplexer devices,
but the listening ports will be restored across a save/restore.</p></li>
</ol>
</section>
<section id="resetting-devices">
<h3>4.3 Resetting devices<a class="headerlink" href="#resetting-devices" title="Permalink to this heading">¶</a></h3>
<p id="re"><span id="reset"></span>The <code class="docutils literal notranslate"><span class="pre">RESET</span></code> command (abbreviation <code class="docutils literal notranslate"><span class="pre">RE</span></code>) resets a device or the entire simulator to a predefined condition.
If switch <code class="docutils literal notranslate"><span class="pre">-p</span></code> is specified,
the device is reset to its power-up state:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RESET</span>                   <span class="n">Reset</span> <span class="nb">all</span> <span class="n">devices</span>
<span class="n">RESET</span> <span class="o">-</span><span class="n">p</span>                <span class="n">Power</span><span class="o">-</span><span class="n">up</span> <span class="nb">all</span> <span class="n">devices</span>
<span class="n">RESET</span> <span class="n">ALL</span>               <span class="n">Reset</span> <span class="nb">all</span> <span class="n">devices</span>
<span class="n">RESET</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span>          <span class="n">Reset</span> <span class="n">specified</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Typically, <code class="docutils literal notranslate"><span class="pre">RESET</span></code> stops any in-progress I/O operation,
clears any interrupt request,
and returns the device to a quiescent state.
It does not clear main memory or affect I/O connections.</p>
</section>
<section id="connecting-and-disconnecting-devices">
<h3>4.4 Connecting and disconnecting devices<a class="headerlink" href="#connecting-and-disconnecting-devices" title="Permalink to this heading">¶</a></h3>
<p id="at"><span id="attach"></span>Except for main memory and network devices,
units are simulated as unstructured binary disk files in the host file system.
Before using a simulated unit, the user must specify the file to be accessed by that unit.
The <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> (abbreviation <code class="docutils literal notranslate"><span class="pre">AT</span></code>) command associates a unit and a file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATTACH</span> <span class="o">&lt;</span><span class="n">unit</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">-n</span></code> switch is specified when <code class="docutils literal notranslate"><span class="pre">attach</span></code> is executed,
a new file is created and an appropriate message is printed.</p>
<p>If the file does not exist, and the <code class="docutils literal notranslate"><span class="pre">-e</span></code> switch was not specified, a new file is created, and an appropriate message is printed.
If the <code class="docutils literal notranslate"><span class="pre">-e</span></code> switch was specified, a new file is not created, and an error message is printed.
If the <code class="docutils literal notranslate"><span class="pre">-n</span></code> switch was specified, a new file is created or the existing file is truncated to zero length.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">-r</span></code> switch is specified, or the file is write protected, <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> tries to open the file read-only.
If the file does not exist, or the unit does not support read-only operation, an error occurs.
Input-only devices, such as paper-tape readers, and devices with write lock switches, such as disks and tapes, support read-only operation; other devices do not.
If a file is attached read-only, its contents can be examined but not modified.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">-a</span></code> switch is specified, is a sequential output-only device
(like a line printer, paper tape punch, etc.),
the file being attached will be opened in append mode thus adding to any existing file data beyond what may have already been there.</p>
<p>For simulated magnetic tapes, the <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> command can specify the format of the attached tape image file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATTACH</span> <span class="o">-</span><span class="n">f</span> <span class="o">&lt;</span><span class="n">tape_unit</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">format</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The currently supported tape image file formats are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SIMH</span>      <span class="n">SIMH</span> <span class="n">simulator</span> <span class="nb">format</span>
<span class="n">E11</span>       <span class="n">E11</span> <span class="n">simulator</span> <span class="nb">format</span>
<span class="n">TPC</span>       <span class="n">TPC</span> <span class="nb">format</span>
<span class="n">P7B</span>       <span class="n">Pierce</span> <span class="n">simulator</span> <span class="mi">7</span><span class="o">-</span><span class="n">track</span> <span class="nb">format</span>
</pre></div>
</div>
<p>The tape format can also be set with the <a class="reference internal" href="#set"><code class="docutils literal notranslate"><span class="pre">SET</span></code></a> command prior to <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="o">&lt;</span><span class="n">tape_unit</span><span class="o">&gt;</span> <span class="n">FORMAT</span><span class="o">=&lt;</span><span class="nb">format</span><span class="o">&gt;</span>
<span class="n">ATT</span> <span class="o">&lt;</span><span class="n">tape_unit</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The format of an attached file can be displayed with the <a class="reference internal" href="#show"><code class="docutils literal notranslate"><span class="pre">SHOW</span></code></a> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="o">&lt;</span><span class="n">tape_unit</span><span class="o">&gt;</span> <span class="n">FORMAT</span>
</pre></div>
</div>
<p>For Telnet-based terminal emulators, the <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> command associates the master unit with a TCP/IP port:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATTACH</span> <span class="o">&lt;</span><span class="n">unit</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">port</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The port is a decimal number between 1 and 65535 that is not used by standard TCP/IP protocols.</p>
<p>For Ethernet emulators, the <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> command associates the simulated Ethernet with a physical Ethernet device:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATTACH</span> <span class="o">&lt;</span><span class="n">unit</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">physical</span> <span class="n">device</span> <span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p id="det"><span id="detach"></span>The <code class="docutils literal notranslate"><span class="pre">DETACH</span></code> (abbreviation <code class="docutils literal notranslate"><span class="pre">DET</span></code>) command breaks the association between a unit and a file, port, or network device:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DETACH</span> <span class="n">ALL</span>              <span class="n">Detach</span> <span class="nb">all</span> <span class="n">units</span>
<span class="n">DETACH</span> <span class="o">&lt;</span><span class="n">unit</span><span class="o">&gt;</span>           <span class="n">Detach</span> <span class="n">specified</span> <span class="n">unit</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">EXIT</span></code> command performs an automatic <code class="docutils literal notranslate"><span class="pre">DETACH</span> <span class="pre">ALL</span></code>.</p>
</section>
<section id="examining-and-changing-state">
<h3>4.5 Examining and changing state<a class="headerlink" href="#examining-and-changing-state" title="Permalink to this heading">¶</a></h3>
<p>There are four commands to examine and change state:</p>
<span id="examine"></span><ul class="simple" id="e">
<li><p><code class="docutils literal notranslate"><span class="pre">EXAMINE</span></code> (abbreviated <code class="docutils literal notranslate"><span class="pre">E</span></code>) examines state</p></li>
</ul>
<span id="deposit"></span><ul class="simple" id="d">
<li><p><code class="docutils literal notranslate"><span class="pre">DEPOSIT</span></code> (abbreviated <code class="docutils literal notranslate"><span class="pre">D</span></code>) changes state</p></li>
</ul>
<span id="iexamine"></span><ul class="simple" id="ie">
<li><p><code class="docutils literal notranslate"><span class="pre">IEXAMINE</span></code> (interactive examine, abbreviated <code class="docutils literal notranslate"><span class="pre">IE</span></code>) examines state and allows the user to interactively change it</p></li>
</ul>
<span id="ideposit"></span><ul class="simple" id="id">
<li><p><code class="docutils literal notranslate"><span class="pre">IDEPOSIT</span></code> (interactive deposit, abbreviated <code class="docutils literal notranslate"><span class="pre">ID</span></code>) allows the user to interactively change state</p></li>
</ul>
<p>All four commands take the form</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">command</span> <span class="p">{</span><span class="n">modifiers</span><span class="p">}</span> <span class="o">&lt;</span><span class="nb">object</span> <span class="nb">list</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">DEPOSIT</span></code> must also include a deposit value at the end of the command.</p>
<p>There are four kinds of modifiers:
switches,
device/unit name,
search specifier,
and for <code class="docutils literal notranslate"><span class="pre">EXAMINE</span></code>, output file.
Switches have been described previously.
A device/unit name identifies the device and unit whose address space is to be examined or modified.
If no device is specified, the CPU (main memory) is selected;
if a device but no unit is specified, unit 0 of the device is selected.</p>
<p>The search specifier provides criteria for testing addresses or registers to see if they should be processed.
A specifier consists of a logical operator, a relational operator, or both, optionally separated by spaces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">&lt;</span><span class="n">logical</span> <span class="n">op</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">relational</span> <span class="n">op</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>where the logical operator is
<code class="docutils literal notranslate"><span class="pre">&amp;</span></code> (AND),
<code class="docutils literal notranslate"><span class="pre">|</span></code> (OR), or
<code class="docutils literal notranslate"><span class="pre">^</span></code> (exclusive OR),
and the relational operator is
<code class="docutils literal notranslate"><span class="pre">=</span></code> or <code class="docutils literal notranslate"><span class="pre">==</span></code> (equal),
<code class="docutils literal notranslate"><span class="pre">!</span></code> or <code class="docutils literal notranslate"><span class="pre">!=</span></code> (not equal),
<code class="docutils literal notranslate"><span class="pre">&gt;=</span></code> (greater than or equal),
<code class="docutils literal notranslate"><span class="pre">&gt;</span></code> (greater than),
<code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> (less than or equal), or
<code class="docutils literal notranslate"><span class="pre">&lt;</span></code> (less than).
If a logical operator is specified without a relational operator, it is ignored.
If a relational operator is specified without a logical operator, no logical operation is performed.
All comparisons are unsigned.</p>
<p>The output file modifier redirects command output to a file instead of the console.
An output file modifier consists of <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> followed by a valid filename.</p>
<p>Modifiers may be specified in any order.
If multiple modifiers of the same type are specified,
later modifiers override earlier modifiers.
Note that if the device/unit name comes after the search specifier,
the search values will interpreted in the radix of the CPU,
rather than of the device/unit.</p>
<p>The “object list” consists of one or more of the following, separated by commas:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">register</span></code></p></td>
<td><p>The specified register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">register[sub1-sub2]</span></code></p></td>
<td><p>The specified register array locations, starting at location <code class="docutils literal notranslate"><span class="pre">sub1</span></code> up to and including location <code class="docutils literal notranslate"><span class="pre">sub2</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">register[sub1/length]</span></code></p></td>
<td><p>The specified register array locations, starting at location <code class="docutils literal notranslate"><span class="pre">sub1</span></code> up to but not including <code class="docutils literal notranslate"><span class="pre">sub1</span></code> + <code class="docutils literal notranslate"><span class="pre">length</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">register[ALL]</span></code></p></td>
<td><p>All locations in the specified register array</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">register1-register2</span></code></p></td>
<td><p>All the registers starting at <code class="docutils literal notranslate"><span class="pre">register1</span></code> up to and including <code class="docutils literal notranslate"><span class="pre">register2</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">address</span></code></p></td>
<td><p>The specified location</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">address1-address2</span></code></p></td>
<td><p>All locations starting at <code class="docutils literal notranslate"><span class="pre">address1</span></code> up to and including <code class="docutils literal notranslate"><span class="pre">address2</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">address/length</span></code></p></td>
<td><p>All location starting at <code class="docutils literal notranslate"><span class="pre">address</span></code> up to but not including <code class="docutils literal notranslate"><span class="pre">address</span></code> + <code class="docutils literal notranslate"><span class="pre">length</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STATE</span></code></p></td>
<td><p>All registers in the device</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ALL</span></code></p></td>
<td><p>All locations in the unit</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">$</span></code></p></td>
<td><p>Use the most recently referenced value as an address to reference (indirect)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.</span></code></p></td>
<td><p>Use the most recent referenced address again</p></td>
</tr>
</tbody>
</table>
<p>Switches can be used to control the format of display information:</p>
<dl class="option-list">
<dt><kbd><span class="option">-o</span></kbd></dt>
<dd><p>Display as octal       (alias: <code class="docutils literal notranslate"><span class="pre">-8</span></code>)</p>
</dd>
<dt><kbd><span class="option">-d</span></kbd></dt>
<dd><p>Display as decimal     (alias: <code class="docutils literal notranslate"><span class="pre">-10</span></code>)</p>
</dd>
<dt><kbd><span class="option">-h</span></kbd></dt>
<dd><p>Display as hexadecimal (alias: <code class="docutils literal notranslate"><span class="pre">-16</span></code>)</p>
</dd>
<dt><kbd><span class="option">-2</span></kbd></dt>
<dd><p>Display as binary</p>
</dd>
</dl>
<p>Simulators typically provide these additional switches for address locations:</p>
<dl class="option-list">
<dt><kbd><span class="option">-a</span></kbd></dt>
<dd><p>Display as ASCII</p>
</dd>
<dt><kbd><span class="option">-c</span></kbd></dt>
<dd><p>Display as character string</p>
</dd>
<dt><kbd><span class="option">-m</span></kbd></dt>
<dd><p>Display as instruction mnemonic</p>
</dd>
</dl>
<p>… and accept symbolic input (see documentation with each simulator).</p>
<p>Examples:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">ex</span> <span class="pre">1000-1100</span></code></p></td>
<td><p>Examine 1000 to 1100</p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">ex</span> <span class="pre">.</span></code></p></td>
<td><p>Examine most recent address again</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">de</span> <span class="pre">PC</span> <span class="pre">1040</span></code></p></td>
<td><p>Set PC to 1040</p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">ie</span> <span class="pre">40-50</span></code></p></td>
<td><p>Interactively examine 40:50</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">ie</span> <span class="pre">&gt;1000</span> <span class="pre">40-50</span></code></p></td>
<td><p>Interactively examine the subset of locations 40:50 that are &gt;1000</p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">ex</span> <span class="pre">rx0</span> <span class="pre">50060</span></code></p></td>
<td><p>Examine 50060, RX unit 0</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">ex</span> <span class="pre">rx</span> <span class="pre">sbuf[3-6]</span></code></p></td>
<td><p>Examine SBUF[3] to SBUF[6] in RX</p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">ex</span> <span class="pre">r4,$</span></code></p></td>
<td><p>Examine R4 and where it points</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">de</span> <span class="pre">all</span> <span class="pre">0</span></code></p></td>
<td><p>Set main memory to 0</p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">de</span> <span class="pre">&amp;77&gt;0</span> <span class="pre">0</span></code></p></td>
<td><p>Set all addresses whose low order bits are non-zero to 0</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">ex</span> <span class="pre">-m</span> <span class="pre">&#64;memdump.txt</span> <span class="pre">0-7777</span></code></p></td>
<td><p>Dump memory to file named <code class="docutils literal notranslate"><span class="pre">memdump.txt</span></code></p></td>
</tr>
</tbody>
</table>
<p>Note: to terminate an interactive command,
simply type a bad value (e.g., <code class="docutils literal notranslate"><span class="pre">XYZ</span></code>) when input is requested.</p>
</section>
<section id="evaluating-instructions">
<h3>4.6 Evaluating instructions<a class="headerlink" href="#evaluating-instructions" title="Permalink to this heading">¶</a></h3>
<p id="eval">The <code class="docutils literal notranslate"><span class="pre">EVAL</span></code> command evaluates a symbolic instruction and returns the equivalent numeric value.
This is useful for obtaining numeric arguments for a search command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EVAL</span> <span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;</span>
</pre></div>
</div>
<dl>
<dt>Examples:</dt><dd><p>On the VAX simulator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sim</span><span class="o">&gt;</span> <span class="nb">eval</span> <span class="n">addl2</span> <span class="n">r2</span><span class="p">,</span><span class="n">r3</span>
<span class="mi">0</span><span class="p">:</span>      <span class="mi">005352</span><span class="n">C0</span>
<span class="n">sim</span><span class="o">&gt;</span> <span class="nb">eval</span> <span class="n">addl2</span> <span class="c1">#ff,6(r0)</span>
<span class="mi">0</span><span class="p">:</span>      <span class="mi">00</span><span class="n">FF8FC0</span>
<span class="mi">4</span><span class="p">:</span>      <span class="mi">06</span><span class="n">A00000</span>
<span class="n">sim</span><span class="o">&gt;</span> <span class="nb">eval</span> <span class="s1">&#39;AB</span>
<span class="mi">0</span><span class="p">:</span>      <span class="mi">00004241</span>
</pre></div>
</div>
<p>On the PDP-8:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sim</span><span class="o">&gt;</span> <span class="nb">eval</span> <span class="n">tad</span> <span class="mi">60</span>
<span class="mi">0</span><span class="p">:</span>      <span class="mi">1060</span>
<span class="n">sim</span><span class="o">&gt;</span> <span class="nb">eval</span> <span class="n">tad</span> <span class="mi">300</span>
<span class="n">tad</span> <span class="mi">300</span>
<span class="n">Can</span><span class="s1">&#39;t be parsed as an instruction or data</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">tad</span> <span class="pre">300</span></code> fails, because with an implicit PC of 0,
location 300 can’t be reached with direct addressing.</p>
</dd>
</dl>
</section>
<section id="running-a-simulated-program">
<h3>4.7 Running a simulated program<a class="headerlink" href="#running-a-simulated-program" title="Permalink to this heading">¶</a></h3>
<p id="ru"><span id="run"></span>The <code class="docutils literal notranslate"><span class="pre">RUN</span></code> command (abbreviated <code class="docutils literal notranslate"><span class="pre">RU</span></code>) resets all devices,
deposits its argument (if given) in the PC, and starts execution.
If no argument is given, execution starts at the current PC.</p>
<p id="go">The <code class="docutils literal notranslate"><span class="pre">GO</span></code> command does not reset devices,
deposits its argument (if given) in the PC, and starts execution.
If no argument is given, execution starts at the current PC.</p>
<p id="co"><span id="continue"></span>The <code class="docutils literal notranslate"><span class="pre">CONTINUE</span></code> command (abbreviated <code class="docutils literal notranslate"><span class="pre">CO</span></code>) does not reset devices and resumes execution at the current PC.</p>
<p id="s"><span id="step"></span>The <code class="docutils literal notranslate"><span class="pre">STEP</span></code> command (abbreviated <code class="docutils literal notranslate"><span class="pre">S</span></code>) resumes execution at the current PC for the number of instructions given by its argument.
If no argument is supplied, one instruction is executed.</p>
<p id="b"><span id="boot"></span>The <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command (abbreviated <code class="docutils literal notranslate"><span class="pre">B</span></code>) resets all devices and bootstraps the device and unit given by its argument.
If no unit is supplied, unit 0 is bootstrapped.
The specified unit must be attached.</p>
<p>As it initializes all of the I/O devices,
the <a class="reference internal" href="#run"><code class="docutils literal notranslate"><span class="pre">RUN</span></code></a> command is almost never the proper command to use after a program has been started.
The <a class="reference internal" href="#go"><code class="docutils literal notranslate"><span class="pre">GO</span></code></a> or <a class="reference internal" href="#continue"><code class="docutils literal notranslate"><span class="pre">CONTINUE</span></code></a> commands are generally equivalent in hardware to running the CPU and is the usual way of resuming execution after a programmed halt.
If an I/O reset is required before resuming execution,
the <a class="reference internal" href="#reset"><code class="docutils literal notranslate"><span class="pre">RESET</span></code></a> and <a class="reference internal" href="#go"><code class="docutils literal notranslate"><span class="pre">GO</span></code></a> commands are recommended instead of <a class="reference internal" href="#run"><code class="docutils literal notranslate"><span class="pre">RUN</span></code></a>.
If <a class="reference internal" href="#run"><code class="docutils literal notranslate"><span class="pre">RUN</span></code></a> is entered a second time without an explicit <a class="reference internal" href="#reset"><code class="docutils literal notranslate"><span class="pre">RESET</span></code></a> preceding it,
a warning is printed on the simulation console:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Resetting</span> <span class="nb">all</span> <span class="n">devices</span><span class="o">...</span>  <span class="n">This</span> <span class="n">may</span> <span class="ow">not</span> <span class="n">have</span> <span class="n">been</span> <span class="n">your</span> <span class="n">intention</span><span class="o">.</span>
<span class="n">The</span> <span class="n">GO</span> <span class="ow">and</span> <span class="n">CONTINUE</span> <span class="n">commands</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">reset</span> <span class="n">devices</span><span class="o">.</span>
</pre></div>
</div>
<p>… before execution is resumed.
The warning may be suppressed by adding the <code class="docutils literal notranslate"><span class="pre">-Q</span></code> switch to the <a class="reference internal" href="#run"><code class="docutils literal notranslate"><span class="pre">RUN</span></code></a> command.</p>
<section id="controlling-the-simulation-rate">
<h4>4.7.1 Controlling the simulation rate<a class="headerlink" href="#controlling-the-simulation-rate" title="Permalink to this heading">¶</a></h4>
<p>By default, the simulator runs as fast as possible (although at lower than normal priority) and will consume all available processing resources on the host system.
This will raise power consumption (and the operating temperature) of many PCs and drain the battery of a laptop.</p>
<p id="set-throttle">The <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">THROTTLE</span></code> command allows the user to reduce the effective execution rate to a specified number of instructions per second,
or to a specified percentage of total host computing time:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">THROTTLE</span> <span class="n">xM</span>            <span class="n">Set</span> <span class="n">execution</span> <span class="n">rate</span> <span class="n">to</span> <span class="n">x</span> <span class="n">mips</span>
<span class="n">SET</span> <span class="n">THROTTLE</span> <span class="n">xK</span>            <span class="n">Set</span> <span class="n">execution</span> <span class="n">rate</span> <span class="n">to</span> <span class="n">x</span> <span class="n">kips</span>
<span class="n">SET</span> <span class="n">THROTTLE</span> <span class="n">x</span><span class="o">%</span>            <span class="n">Limit</span> <span class="n">simulator</span> <span class="n">to</span> <span class="n">x</span><span class="o">%</span> <span class="n">of</span> <span class="n">host</span> <span class="n">time</span>
<span class="n">SET</span> <span class="n">THROTTLE</span> <span class="n">insts</span><span class="o">/</span><span class="n">delay</span>   <span class="n">Execute</span> <span class="s1">&#39;insts&#39;</span> <span class="n">instructions</span> <span class="ow">and</span> <span class="n">then</span> <span class="n">sleep</span> <span class="k">for</span> <span class="s1">&#39;delay&#39;</span> <span class="n">milliseconds</span>
</pre></div>
</div>
<p>Throttling is only available on host systems that implement a precision real-time delay function.</p>
<p><code class="docutils literal notranslate"><span class="pre">xM</span></code>, <code class="docutils literal notranslate"><span class="pre">xK</span></code> and <code class="docutils literal notranslate"><span class="pre">x%</span></code> modes require the simulator to execute sufficient instructions to actually calibrate the desired execution rate relative to wall clock time.
Very short running programs may complete before calibration completes and therefore before the simulated execution rate can match the desired rate.</p>
<p id="show-throttle"><span id="set-nothrottle"></span>The <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">NOTHROTTLE</span></code> command turns off throttling.
The <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">THROTTLE</span></code> command shows the current settings for throttling.</p>
<p>Some simulators implement a different form of resource management called <em>idling</em>.
Idling suspends simulated execution whenever the program running on the simulator is doing nothing,
and runs the simulator at full speed when there is work to do.
Throttling and idling are mutually exclusive.</p>
</section>
</section>
<section id="stopping-the-simulator">
<h3>4.8 Stopping the simulator<a class="headerlink" href="#stopping-the-simulator" title="Permalink to this heading">¶</a></h3>
<p>Programs run until the simulator detects an error or stop condition,
or until the user forces a stop condition.</p>
<section id="simulator-detected-stop-conditions">
<h4>4.8.1 Simulator detected stop conditions<a class="headerlink" href="#simulator-detected-stop-conditions" title="Permalink to this heading">¶</a></h4>
<p>These simulator-detected conditions stop simulation:</p>
<ul class="simple">
<li><p><strong>HALT instruction.</strong>
If a <code class="docutils literal notranslate"><span class="pre">HALT</span></code> instruction is decoded, simulation stops.</p></li>
<li><p><strong>Breakpoint.</strong>
The simulator may support breakpoints (see below).</p></li>
<li><p><strong>I/O error.</strong>
If an I/O error occurs during simulation of an I/O operation,
and the device stop-on-I/O-error flag is set,
simulation usually stops.</p></li>
<li><p><strong>Processor condition.</strong>
Certain processor conditions can stop simulation;
these are described with the individual simulators.</p></li>
</ul>
</section>
<section id="user-specified-stop-conditions">
<h4>4.8.2 User-specified stop conditions<a class="headerlink" href="#user-specified-stop-conditions" title="Permalink to this heading">¶</a></h4>
<p>Typing the interrupt character stops simulation.
The interrupt character is defined by the <code class="docutils literal notranslate"><span class="pre">WRU</span></code> (where are you) console option and is initially set to <code class="docutils literal notranslate"><span class="pre">005</span></code> (<code class="docutils literal notranslate"><span class="pre">^E</span></code>).</p>
</section>
<section id="breakpoints">
<h4>4.8.3 Breakpoints<a class="headerlink" href="#breakpoints" title="Permalink to this heading">¶</a></h4>
<p>A simulator may offer breakpoint capability.
A simulator may define breakpoints of different types, identified by letter
(for example, E for execution, R for read, W for write, etc).
At the moment, most simulators support only E (execution) breakpoints.</p>
<p>Associated with a breakpoint are a count and, optionally, one or more actions.
Each time the breakpoint is taken, the associated count is decremented.
If the count is less than or equal to 0, the breakpoint occurs; otherwise, it is deferred.
When the breakpoint occurs, the optional actions are automatically executed.</p>
<p id="break">A breakpoint is set by the <code class="docutils literal notranslate"><span class="pre">BREAK</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BREAK</span> <span class="p">{</span><span class="o">-</span><span class="n">types</span><span class="p">}</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">addr</span> <span class="nb">range</span><span class="o">&gt;</span><span class="p">{[</span><span class="n">count</span><span class="p">]},{</span><span class="n">addr</span> <span class="nb">range</span><span class="o">...</span><span class="p">}}{;</span><span class="n">action</span><span class="p">;</span><span class="n">action</span><span class="o">...</span><span class="p">}</span>
</pre></div>
</div>
<p>If no type is specified, the simulator-specific default breakpoint type (usually E for execution) is used.
If no address range is specified, the current PC is used.
As with <a class="reference internal" href="#examine"><code class="docutils literal notranslate"><span class="pre">EXAMINE</span></code></a> and <a class="reference internal" href="#deposit"><code class="docutils literal notranslate"><span class="pre">DEPOSIT</span></code></a>,
an address range may be a single address,
a range of addresses low-high,
or a relative range of address/length.
Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BREAK</span>                       <span class="n">Set</span> <span class="n">E</span> <span class="k">break</span> <span class="n">at</span> <span class="n">current</span> <span class="n">PC</span>
<span class="n">BREAK</span> <span class="o">-</span><span class="n">e</span> <span class="mi">200</span>                <span class="n">Set</span> <span class="n">E</span> <span class="k">break</span> <span class="n">at</span> <span class="mi">200</span>
<span class="n">BREAK</span> <span class="mi">2000</span><span class="o">/</span><span class="mi">2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>             <span class="n">Set</span> <span class="n">E</span> <span class="n">breaks</span> <span class="n">at</span> <span class="mi">2000</span><span class="p">,</span><span class="mi">2001</span> <span class="k">with</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">BREAK</span> <span class="mi">100</span><span class="p">;</span><span class="n">EX</span> <span class="n">AC</span><span class="p">;</span><span class="n">D</span> <span class="n">MQ</span> <span class="mi">0</span>      <span class="n">Set</span> <span class="n">E</span> <span class="k">break</span> <span class="n">at</span> <span class="mi">100</span> <span class="k">with</span> <span class="n">actions</span> <span class="n">EX</span> <span class="n">AC</span> <span class="ow">and</span> <span class="n">D</span> <span class="n">MQ</span> <span class="mi">0</span>
<span class="n">BREAK</span> <span class="mi">100</span><span class="p">;</span>                  <span class="n">Delete</span> <span class="n">action</span> <span class="n">on</span> <span class="k">break</span> <span class="n">at</span> <span class="mi">100</span>
</pre></div>
</div>
<p id="show-break">Currently-set breakpoints can be displayed with the <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">BREAK</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="p">{</span><span class="o">-</span><span class="n">types</span><span class="p">}</span> <span class="n">BREAK</span> <span class="p">{</span><span class="n">ALL</span><span class="o">|&lt;</span><span class="n">addr</span> <span class="nb">range</span><span class="o">&gt;</span><span class="p">{,</span><span class="o">&lt;</span><span class="n">addr</span> <span class="nb">range</span><span class="o">&gt;...</span><span class="p">}}</span>
</pre></div>
</div>
<p>Locations with breakpoints of the specified type are displayed.</p>
<p id="nobreak">Finally, breakpoints can be cleared by the <code class="docutils literal notranslate"><span class="pre">NOBREAK</span></code> command.</p>
<p>If an action command must contain a semicolon,
that action command should be enclosed in quotes so that the entire action command can be distinguished from the action separator.</p>
</section>
<section id="execution-time-limits">
<h4>4.8.4 Execution time limits<a class="headerlink" href="#execution-time-limits" title="Permalink to this heading">¶</a></h4>
<p id="norunlimit"><span id="runlimit"></span>A simulator user may want to limit the maximum execution time that a simulator may run for.
This might be appropriate to limit a runaway diagnostic which didn’t achieve explicit success or failure within some user specified time.
The <code class="docutils literal notranslate"><span class="pre">RUNLIMIT</span></code> command provides ways to limit execution:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RUNLIMIT</span> <span class="n">n</span> <span class="p">{</span><span class="n">CYCLES</span><span class="o">|</span><span class="n">MICROSECONDS</span><span class="o">|</span><span class="n">SECONDS</span><span class="o">|</span><span class="n">MINUTES</span><span class="o">|</span><span class="n">HOURS</span><span class="p">}</span>
<span class="n">NORUNLIMIT</span>
</pre></div>
</div>
<p>Equivalently:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">RUNLIMIT</span> <span class="n">n</span> <span class="p">{</span><span class="n">CYCLES</span><span class="o">|</span><span class="n">MICROSECONDS</span><span class="o">|</span><span class="n">SECONDS</span><span class="o">|</span><span class="n">MINUTES</span><span class="o">|</span><span class="n">HOURS</span><span class="p">}</span>
<span class="n">SET</span> <span class="n">NORUNLIMIT</span>
</pre></div>
</div>
<p>The run limit state can be examined with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">RUNLIMIT</span>
</pre></div>
</div>
<p>If the units of the run limit are not specified, the default units are cycles.
Once an execution run limit has been reached,
any subsequent <a class="reference internal" href="#go"><code class="docutils literal notranslate"><span class="pre">GO</span></code></a>, <a class="reference internal" href="#run"><code class="docutils literal notranslate"><span class="pre">RUN</span></code></a>, <a class="reference internal" href="#continue"><code class="docutils literal notranslate"><span class="pre">CONTINUE</span></code></a>, <a class="reference internal" href="#step"><code class="docutils literal notranslate"><span class="pre">STEP</span></code></a> or <a class="reference internal" href="#boot"><code class="docutils literal notranslate"><span class="pre">BOOT</span></code></a> commands will cause the simulator to exit.
A previously defined <code class="docutils literal notranslate"><span class="pre">RUNLIMIT</span></code> can be cleared with <code class="docutils literal notranslate"><span class="pre">NORUNLIMIT</span></code> or the establishment of a new limit.</p>
</section>
</section>
<section id="halt-on-output-data">
<h3>4.9 Halt on output data<a class="headerlink" href="#halt-on-output-data" title="Permalink to this heading">¶</a></h3>
<p id="expect">In addition to breakpoints (halting the simulator on specific addresses),
the simulator can halt when a specific string has been output to the console.
The <code class="docutils literal notranslate"><span class="pre">EXPECT</span></code> command provides a way to define a rule which will stop execution and take actions when specific output has been generated by the simulated system:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EXPECT</span> <span class="p">{</span><span class="n">dev</span><span class="p">:</span><span class="n">line</span><span class="p">}</span> <span class="p">{[</span><span class="n">count</span><span class="p">]}</span> <span class="p">{</span><span class="n">HALTAFTER</span><span class="o">=</span><span class="n">n</span><span class="p">,}</span><span class="s2">&quot;&lt;string&gt;&quot;</span> <span class="p">{</span><span class="n">actioncommand</span> <span class="p">{;</span> <span class="n">actioncommand</span><span class="p">}</span> <span class="o">...</span><span class="p">}</span>
<span class="n">NOEXPECT</span> <span class="p">{</span><span class="n">dev</span><span class="p">:</span><span class="n">line</span><span class="p">}</span>
<span class="n">SHOW</span> <span class="n">EXPECT</span> <span class="p">{</span><span class="n">dev</span><span class="p">:</span><span class="n">line</span><span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&lt;dev:line&gt;</span></code> specifies a particular device a line in that simulated device.
If it is not specified, the simulated system’s console device is the default device.</p>
<p>If a <code class="docutils literal notranslate"><span class="pre">[count]</span></code> is specified,
the rule will match after the match string has matched <em>count</em> times.</p>
<p>The string argument must be delimited by quote characters.
Quotes may be either single or double but the opening and closing quote characters must match.
Data in the string may contain escaped character strings.
When expect rules are defined,
they are evaluated against recently produced output as each character is output to the device.
Since this evaluation processing is done on each output character,
rule matching is not specifically line-oriented.
If line-oriented matching is desired,
then rules should be defined which contain the simulated system’s line-ending character sequence (i.e., <code class="docutils literal notranslate"><span class="pre">\r\n</span></code>).
Once data has matched any expect rule,
that data is no longer eligible to match other expect rules which may already be defined.
Data which is output prior to the definition of an expect rule is not eligible to be matched against.</p>
<p id="noexpect">The <code class="docutils literal notranslate"><span class="pre">NOEXPECT</span></code> command removes a previously defined <a class="reference internal" href="#expect"><code class="docutils literal notranslate"><span class="pre">EXPECT</span></code></a> command for the console or a specific multiplexer line.</p>
<p id="show-expect">The <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">EXPECT</span></code> command displays all of the pending <a class="reference internal" href="#expect"><code class="docutils literal notranslate"><span class="pre">EXPECT</span></code></a> state for the console or a specific multiplexer line.</p>
<p>If an action command must contain a semicolon,
that action command should be enclosed in quotes so that the entire action command can be distinguished from the action separator.</p>
<section id="switches">
<h4>4.9.1 Switches<a class="headerlink" href="#switches" title="Permalink to this heading">¶</a></h4>
<p>Switches can be used to influence the behavior of <a class="reference internal" href="#expect"><code class="docutils literal notranslate"><span class="pre">EXPECT</span></code></a> rules.</p>
<dl class="option-list">
<dt><kbd><span class="option">-p</span></kbd></dt>
<dd><p>Expect rules default to be one shot activities.
That is, a rule is automatically removed when a match occurs unless the rule is designated as a persistent rule by using a <code class="docutils literal notranslate"><span class="pre">-p</span></code> switch when the rule is defined.</p>
</dd>
<dt><kbd><span class="option">-c</span></kbd></dt>
<dd><p>If an expect rule is defined with the <code class="docutils literal notranslate"><span class="pre">-c</span></code> switch,
it will cause all pending expect rules on the current device to be cleared when the rule matches data in the device output stream.</p>
</dd>
<dt><kbd><span class="option">-r</span></kbd></dt>
<dd><p>If an expect rule is defined with the <code class="docutils literal notranslate"><span class="pre">-r</span></code> switch,
the string is interpreted as a regular expression applied to the output data stream.
This regular expression may contain parentheses delimited sub-groups.</p>
<p>The syntax of the regular expressions available are those supported by the Perl Compatible Regular Expression package (a.k.a, PCRE).
As the name implies, the syntax is generally the same as <a class="reference external" href="https://perldoc.perl.org/perlre">Perl regular expressions</a>.</p>
<p>If the PCRE package isn’t available in the environment when a simulator is built,
the local system’s regular expression package (if available) is used and the regular expression syntax is limited to what may be provided there.</p>
</dd>
<dt><kbd><span class="option">-i</span></kbd></dt>
<dd><p>If a regular expression expect rule is defined with the <code class="docutils literal notranslate"><span class="pre">-i</span></code> switch,
character matching for that expression will be case independent.
The <code class="docutils literal notranslate"><span class="pre">-i</span></code> switch is only valid for regular expression expect rules (<code class="docutils literal notranslate"><span class="pre">-r</span></code>).</p>
</dd>
</dl>
<section id="escaping-string-data">
<h5>4.9.1.1 Escaping string data<a class="headerlink" href="#escaping-string-data" title="Permalink to this heading">¶</a></h5>
<p>The following character escapes are explicitly supported when expect rules are defined NOT using regular expression match patterns:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\r</span></code></p></td>
<td><p>Expect the ASCII Carriage Return character (Decimal value 13)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\n</span></code></p></td>
<td><p>Expect the ASCII Linefeed character (Decimal value 10)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\f</span></code></p></td>
<td><p>Expect the ASCII Formfeed character (Decimal value 12)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\t</span></code></p></td>
<td><p>Expect the ASCII Horizontal Tab character (Decimal value 9)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\v</span></code></p></td>
<td><p>Expect the ASCII Vertical Tab character (Decimal value 11)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\b</span></code></p></td>
<td><p>Expect the ASCII Backspace character (Decimal value 8)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\\</span></code></p></td>
<td><p>Expect the ASCII Backslash character (Decimal value 92)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\'</span></code></p></td>
<td><p>Expect the ASCII Single Quote character (Decimal value 39)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\&quot;</span></code></p></td>
<td><p>Expect the ASCII Double Quote character (Decimal value 34)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\?</span></code></p></td>
<td><p>Expect the ASCII Question Mark character (Decimal value 63)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\e</span></code></p></td>
<td><p>Expect the ASCII Escape character (Decimal value 27)</p></td>
</tr>
</tbody>
</table>
<p>as well as octal character values of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">n</span><span class="p">{</span><span class="n">n</span><span class="p">{</span><span class="n">n</span><span class="p">}}</span> <span class="n">where</span> <span class="n">each</span> <span class="n">n</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">octal</span> <span class="n">digit</span> <span class="p">(</span><span class="mi">0</span><span class="o">-</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
<p>and hex character values of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">xh</span><span class="p">{</span><span class="n">h</span><span class="p">}</span> <span class="n">where</span> <span class="n">each</span> <span class="n">h</span> <span class="ow">is</span> <span class="n">a</span> <span class="nb">hex</span> <span class="n">digit</span> <span class="p">(</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">A</span><span class="o">-</span><span class="n">Fa</span><span class="o">-</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="determining-which-output-matched">
<h4>4.9.2 Determining which output matched<a class="headerlink" href="#determining-which-output-matched" title="Permalink to this heading">¶</a></h4>
<p>When an expect rule matches data in the output stream, the rule which matched is recorded in the environment variable <code class="docutils literal notranslate"><span class="pre">_EXPECT_MATCH_PATTERN</span></code>.
If the expect rule was a regular expression rule,
then the environment variable <code class="docutils literal notranslate"><span class="pre">_EXPECT_MATCH_GROUP_0</span></code> is set to the whole string which matched,
and if the match pattern had any parentheses-delimited sub-groups,
the environment variables <code class="docutils literal notranslate"><span class="pre">_EXPECT_MATCH_GROUP_1</span></code> thru <code class="docutils literal notranslate"><span class="pre">_EXPECT_MATCH_GROUP_n</span></code> are set to the values within the string which matched the respective sub-groups.</p>
</section>
</section>
<section id="injecting-input-data">
<h3>4.10 Injecting input data<a class="headerlink" href="#injecting-input-data" title="Permalink to this heading">¶</a></h3>
<p id="send">The <code class="docutils literal notranslate"><span class="pre">SEND</span></code> command provides a way to insert input data in to the console device of a simulated system as if it were entered by a user:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEND</span> <span class="p">{</span><span class="n">AFTER</span><span class="o">=</span><span class="n">n</span><span class="p">,}</span> <span class="p">{</span><span class="n">DELAY</span><span class="o">=</span><span class="n">n</span><span class="p">,}</span><span class="s2">&quot;&lt;string&gt;&quot;</span>

<span class="n">NOSEND</span>

<span class="n">SHOW</span> <span class="n">SEND</span>
</pre></div>
</div>
<p>The string argument must be delimited by quote characters.
Quotes may be either single or double but the opening and closing quote characters must match.
Data in the string may contain escaped character strings.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">SEND</span></code> command can also insert input into any serial device on a simulated system as if it was entered by a user:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEND</span> <span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span><span class="p">:</span><span class="n">line</span> <span class="p">{</span><span class="n">AFTER</span><span class="o">=</span><span class="n">n</span><span class="p">,}{</span><span class="n">DELAY</span><span class="o">=</span><span class="n">n</span><span class="p">,}</span><span class="s2">&quot;&lt;string&gt;&quot;</span>

<span class="n">NOSEND</span> <span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span><span class="p">:</span><span class="n">line</span>

<span class="n">SHOW</span> <span class="n">SEND</span> <span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span><span class="p">:</span><span class="n">line</span>
</pre></div>
</div>
<p id="nosend">The <code class="docutils literal notranslate"><span class="pre">NOSEND</span></code> command removes any undelivered input data which may be pending on the <code class="docutils literal notranslate"><span class="pre">CONSOLE</span></code> or a specific multiplexer line.</p>
<p id="show-send">The <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">SEND</span></code> command displays any pending <a class="reference internal" href="#send"><code class="docutils literal notranslate"><span class="pre">SEND</span></code></a> activity for the <code class="docutils literal notranslate"><span class="pre">CONSOLE</span></code> or a specific multiplexoer line.</p>
<section id="delay">
<h4>4.10.1 Delay<a class="headerlink" href="#delay" title="Permalink to this heading">¶</a></h4>
<p>Specifies a positive integer representing a minimal instruction delay between characters being sent.
The value specified in a <em>delay</em> argument persists across <a class="reference internal" href="#send"><code class="docutils literal notranslate"><span class="pre">SEND</span></code></a> commands to the same device (console or serial device).
The <em>delay</em> parameter can be set by itself with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEND</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span><span class="p">:</span><span class="n">line</span><span class="p">}</span> <span class="p">{</span><span class="n">DELAY</span><span class="o">=</span><span class="n">n</span><span class="p">}</span>
</pre></div>
</div>
<p>The default value of the <em>delay</em> parameter is 1000.</p>
</section>
<section id="after">
<h4>4.10.2 After<a class="headerlink" href="#after" title="Permalink to this heading">¶</a></h4>
<p>Specifies a positive integer representing a minimal number of instructions which must execute before the first character in the string is sent.
The value specified as the <em>after</em> parameter persists across <a class="reference internal" href="#send"><code class="docutils literal notranslate"><span class="pre">SEND</span></code></a> commands to the same device (console or serial device).
The <em>after</em> parameter value can be set by itself with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEND</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span><span class="p">:</span><span class="n">line</span><span class="p">}</span> <span class="p">{</span><span class="n">AFTER</span><span class="o">=</span><span class="n">n</span><span class="p">}</span>
</pre></div>
</div>
<p>If the <em>after</em> parameter isn’t explicitly set,
it defaults to the value of the <em>delay</em> parameter.</p>
</section>
<section id="id3">
<span id="id4"></span><h4>4.10.3 Escaping string data<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h4>
<p>The following character escapes are explicitly supported:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\r</span></code></p></td>
<td><p>Sends the ASCII Carriage Return character (Decimal value 13)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\n</span></code></p></td>
<td><p>Sends the ASCII Linefeed character (Decimal value 10)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\f</span></code></p></td>
<td><p>Sends the ASCII Formfeed character (Decimal value 12)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\t</span></code></p></td>
<td><p>Sends the ASCII Horizontal Tab character (Decimal value 9)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\v</span></code></p></td>
<td><p>Sends the ASCII Vertical Tab character (Decimal value 11)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\b</span></code></p></td>
<td><p>Sends the ASCII Backspace character (Decimal value 8)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\\</span></code></p></td>
<td><p>Sends the ASCII Backslash character (Decimal value 92)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\'</span></code></p></td>
<td><p>Sends the ASCII Single Quote character (Decimal value 39)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\&quot;</span></code></p></td>
<td><p>Sends the ASCII Double Quote character (Decimal value 34)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\?</span></code></p></td>
<td><p>Sends the ASCII Question Mark character (Decimal value 63)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\e</span></code></p></td>
<td><p>Sends the ASCII Escape character (Decimal value 27)</p></td>
</tr>
</tbody>
</table>
<p>as well as octal character values of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">n</span><span class="p">{</span><span class="n">n</span><span class="p">{</span><span class="n">n</span><span class="p">}}</span> <span class="n">where</span> <span class="n">each</span> <span class="n">n</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">octal</span> <span class="n">digit</span> <span class="p">(</span><span class="mi">0</span><span class="o">-</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
<p>and hex character values of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">xh</span><span class="p">{</span><span class="n">h</span><span class="p">}</span> <span class="n">where</span> <span class="n">each</span> <span class="n">h</span> <span class="ow">is</span> <span class="n">a</span> <span class="nb">hex</span> <span class="n">digit</span> <span class="p">(</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">A</span><span class="o">-</span><span class="n">Fa</span><span class="o">-</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="setting-device-parameters">
<h3>4.11 Setting device parameters<a class="headerlink" href="#setting-device-parameters" title="Permalink to this heading">¶</a></h3>
<p id="set">The <code class="docutils literal notranslate"><span class="pre">SET</span></code> command (abbreviated <code class="docutils literal notranslate"><span class="pre">SE</span></code>) changes the status of one or more device parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">parameter</span><span class="o">&gt;</span><span class="p">{</span><span class="o">=&lt;</span><span class="n">value</span><span class="p">},{</span><span class="o">&lt;</span><span class="n">parameter</span><span class="o">&gt;</span><span class="p">{</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">},</span><span class="o">...</span><span class="p">}</span>
</pre></div>
</div>
<p>or one or more unit parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="o">&lt;</span><span class="n">unit</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">parameter</span><span class="o">&gt;</span><span class="p">{</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">},{</span><span class="o">&lt;</span><span class="n">parameter</span><span class="o">&gt;</span><span class="p">{</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">},</span><span class="o">...</span><span class="p">}</span>
</pre></div>
</div>
<p>Most parameters are simulator and device specific.
Disk drives, for example, can usually be set <code class="docutils literal notranslate"><span class="pre">WRITEENABLED</span></code> or write <code class="docutils literal notranslate"><span class="pre">LOCKED</span></code>;
if a device supports multiple drive types, the <code class="docutils literal notranslate"><span class="pre">SET</span></code> command can be used to specify the drive type.</p>
<p>All devices recognize the following parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OCT</span>      <span class="n">Sets</span> <span class="n">the</span> <span class="n">data</span> <span class="n">radix</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">DEC</span>      <span class="n">Sets</span> <span class="n">the</span> <span class="n">data</span> <span class="n">radix</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">HEX</span>      <span class="n">Sets</span> <span class="n">the</span> <span class="n">data</span> <span class="n">radix</span> <span class="o">=</span> <span class="mi">16</span>
</pre></div>
</div>
</section>
<section id="displaying-parameters-and-status">
<h3>4.12 Displaying parameters and status<a class="headerlink" href="#displaying-parameters-and-status" title="Permalink to this heading">¶</a></h3>
<p id="show">The <code class="docutils literal notranslate"><span class="pre">SHOW</span></code> command (abbreviated <code class="docutils literal notranslate"><span class="pre">SH</span></code>) displays the status of one or more device parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">modifiers</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">parameter</span><span class="o">&gt;</span><span class="p">{</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">},</span>
      <span class="p">{</span><span class="o">&lt;</span><span class="n">parameter</span><span class="o">&gt;</span><span class="p">{</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">},</span><span class="o">...</span><span class="p">}</span>
</pre></div>
</div>
<p>or one or more unit parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">modifiers</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">unit</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">parameter</span><span class="o">&gt;</span><span class="p">{</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">},</span>
      <span class="p">{</span><span class="o">&lt;</span><span class="n">parameter</span><span class="o">&gt;</span><span class="p">{</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">},</span><span class="o">...</span><span class="p">}</span>
</pre></div>
</div>
<p>There are two kinds of modifiers: switches and output file.
Switches have been described previously.
The output file modifier redirects command output to a file instead of the console.
An output file modifier consists of <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> followed by a valid filename.</p>
<p>All devices implement parameters
<code class="docutils literal notranslate"><span class="pre">RADIX</span></code> (the display radix),
<code class="docutils literal notranslate"><span class="pre">MODIFIERS</span></code> (list of valid modifiers), and
<code class="docutils literal notranslate"><span class="pre">NAMES</span></code> (logical name).
Other device and unit parameters are implementation-specific.</p>
<p><code class="docutils literal notranslate"><span class="pre">SHOW</span></code> is also used to display global simulation state:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">CONFIGURATION</span>      <span class="n">Shows</span> <span class="n">the</span> <span class="n">simulator</span> <span class="n">configuration</span> <span class="ow">and</span>
                        <span class="n">the</span> <span class="n">status</span> <span class="n">of</span> <span class="nb">all</span> <span class="n">devices</span> <span class="ow">and</span> <span class="n">units</span>
<span class="n">SHOW</span> <span class="n">DEVICES</span>            <span class="n">Shows</span> <span class="n">the</span> <span class="n">simulator</span> <span class="n">configuration</span>
<span class="n">SHOW</span> <span class="n">FEATURES</span>           <span class="n">Shows</span> <span class="n">the</span> <span class="n">simulator</span> <span class="n">configuration</span> <span class="k">with</span>
                        <span class="n">descriptions</span>
<span class="n">SHOW</span> <span class="n">MODIFIERS</span>          <span class="n">Shows</span> <span class="nb">all</span> <span class="n">available</span> <span class="n">modifiers</span>
<span class="n">SHOW</span> <span class="n">NAMES</span>              <span class="n">Show</span> <span class="nb">all</span> <span class="n">logical</span> <span class="n">names</span>
<span class="n">SHOW</span> <span class="n">QUEUE</span>              <span class="n">Shows</span> <span class="n">the</span> <span class="n">simulator</span> <span class="n">event</span> <span class="n">queue</span>
<span class="n">SHOW</span> <span class="n">TIME</span>               <span class="n">Shows</span> <span class="n">the</span> <span class="n">elapsed</span> <span class="n">time</span> <span class="n">since</span> <span class="n">the</span> <span class="n">last</span> <span class="n">RUN</span>
<span class="n">SHOW</span> <span class="n">VERSION</span>            <span class="n">Show</span> <span class="n">the</span> <span class="n">simulator</span> <span class="n">version</span> <span class="ow">and</span> <span class="n">options</span>
<span class="n">SHOW</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span>           <span class="n">Shows</span> <span class="n">the</span> <span class="n">status</span> <span class="n">of</span> <span class="n">the</span> <span class="n">named</span> <span class="n">device</span>
<span class="n">SHOW</span> <span class="o">&lt;</span><span class="n">unit</span><span class="o">&gt;</span>             <span class="n">Shows</span> <span class="n">the</span> <span class="n">status</span> <span class="n">of</span> <span class="n">the</span> <span class="n">named</span> <span class="n">unit</span>
<span class="n">SHOW</span> <span class="n">THROTTLE</span>           <span class="n">Shows</span> <span class="n">the</span> <span class="n">current</span> <span class="n">throttling</span> <span class="n">mode</span>
<span class="n">SHOW</span> <span class="n">SHOW</span>               <span class="n">Shows</span> <span class="n">the</span> <span class="n">show</span> <span class="n">options</span> <span class="k">for</span> <span class="nb">all</span> <span class="n">devices</span>
<span class="n">SHOW</span> <span class="n">ETHERNET</span>           <span class="n">Shows</span> <span class="n">the</span> <span class="n">status</span><span class="o">/</span><span class="n">availability</span> <span class="n">of</span> <span class="n">host</span>
                        <span class="n">Ethernet</span> <span class="n">devices</span>
<span class="n">SHOW</span> <span class="n">SERIAL</span>             <span class="n">Shows</span> <span class="n">the</span> <span class="n">status</span> <span class="n">of</span> <span class="n">host</span> <span class="n">serial</span> <span class="n">ports</span>
<span class="n">SHOW</span> <span class="n">MULTIPLEXER</span>        <span class="n">Shows</span> <span class="n">the</span> <span class="n">status</span> <span class="n">of</span> <span class="nb">all</span> <span class="n">multiplexer</span> <span class="n">devices</span>
                        <span class="n">which</span> <span class="n">have</span> <span class="n">been</span> <span class="n">attached</span>
<span class="n">SHOW</span> <span class="n">DEFAULT</span>            <span class="n">Shows</span> <span class="n">the</span> <span class="n">current</span> <span class="n">working</span> <span class="n">directory</span>
<span class="n">SHOW</span> <span class="n">DEBUG</span>              <span class="n">Shows</span> <span class="n">the</span> <span class="n">debug</span> <span class="n">state</span> <span class="n">of</span> <span class="n">the</span> <span class="n">simulator</span>
<span class="n">SHOW</span> <span class="n">LOG</span>                <span class="n">Shows</span> <span class="n">the</span> <span class="n">logging</span> <span class="n">state</span> <span class="n">of</span> <span class="n">the</span> <span class="n">simulator</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">DEVICES</span></code>, <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">CONFIGURATION</span></code>, <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">FEATURES</span></code> will normally display all devices which exist in the simulator.
These commands can optionally only display the enabled devices when the <code class="docutils literal notranslate"><span class="pre">-E</span></code> switch is on the command-line (i.e., <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">-E</span> <span class="pre">DEVICES</span></code>).</p>
<p><code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">QUEUE</span></code> and <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">TIME</span></code> display time in simulator-specific units;
typically, one time unit represents one instruction execution.</p>
</section>
<section id="altering-the-simulated-configuration">
<h3>4.13 Altering the simulated configuration<a class="headerlink" href="#altering-the-simulated-configuration" title="Permalink to this heading">¶</a></h3>
<p>In most simulators, the <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">&lt;device&gt;</span> <span class="pre">DISABLED</span></code> command removes the specified device from the configuration.
A <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code> device is invisible to running programs.
The device can still be <a class="reference internal" href="#reset"><code class="docutils literal notranslate"><span class="pre">RESET</span></code></a>, but it cannot be
<a class="reference internal" href="#attach"><code class="docutils literal notranslate"><span class="pre">ATTACH</span></code></a> ed, <a class="reference internal" href="#detach"><code class="docutils literal notranslate"><span class="pre">DETACH</span></code></a> ed, or <a class="reference internal" href="#boot"><code class="docutils literal notranslate"><span class="pre">BOOT</span></code></a> ed.
<code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">&lt;device&gt;</span> <span class="pre">ENABLED</span></code> restores a disabled device to a configuration.</p>
<p>Most multi-unit devices allow units to be enabled or disabled:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="o">&lt;</span><span class="n">unit</span><span class="o">&gt;</span> <span class="n">ENABLED</span>
<span class="n">SET</span> <span class="o">&lt;</span><span class="n">unit</span><span class="o">&gt;</span> <span class="n">DISABLED</span>
</pre></div>
</div>
<p>When a unit is disabled, it will not be displayed by <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">DEVICE</span></code>.</p>
<p id="assign">The standard device names can be supplemented with logical names.
Logical names must be unique within a simulator
(that is, they cannot be the same as an existing device name).
To assign a logical name to a device:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ASSIGN</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">log</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p id="deassign">To remove a logical name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DEASSIGN</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>To show the current logical name assignment, if any:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span> <span class="n">NAMES</span>
</pre></div>
</div>
<p>To show all logical names:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">NAMES</span>
</pre></div>
</div>
</section>
<section id="console-options">
<h3>4.14 Console options<a class="headerlink" href="#console-options" title="Permalink to this heading">¶</a></h3>
<p>Console options are controlled by the <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CONSOLE</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">TELNET</span><span class="o">=&lt;</span><span class="n">port</span><span class="o">&gt;</span>   <span class="n">Connect</span> <span class="n">console</span> <span class="n">terminal</span> <span class="n">to</span> <span class="n">Telnet</span> <span class="n">session</span> <span class="n">on</span> <span class="n">port</span>
<span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">NOTELNET</span>        <span class="n">Disable</span> <span class="n">console</span> <span class="n">Telnet</span>
</pre></div>
</div>
<p>The console terminal normally runs in the controlling window.
Optionally, the console terminal can be connected to a Telnet port.
This allows systems to emulate a VT100 using the built-in terminal emulation of the Telnet client.</p>
<p>Connections to the specified port, by default, will be unrestricted.
Connections from particular IPv4 or IPv6 addresses can be restricted or allowed based on rules you can add to the “port” specifier on the attach command.
You can add as many rules as you need to the attach command specified with <code class="docutils literal notranslate"><span class="pre">;ACCEPT=rule-detail</span></code> or <code class="docutils literal notranslate"><span class="pre">;REJECT=rule-detail</span></code> where <code class="docutils literal notranslate"><span class="pre">rule-detail</span></code> can be an IP address, hostname or network block in CIDR form.
Rules are interpreted in order and if, while processing the list, the end is reached the connection will be rejected.</p>
<p>Normally a console terminal configured to listen to on a Telnet port requires that a Telnet connection be active for the simulator to run.
A Telnet console can have its contents written to a buffer and which will allow the simulator to run without an active Telnet connection.
When a Telnet connection is established,
the buffer contents is presented to the Telnet session and execution continues as if the connection had been there all along.
Console buffering can be enabled by the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">TELNET</span><span class="o">=</span><span class="n">BUFFERED</span><span class="p">{</span><span class="o">=</span><span class="n">bufsiz</span><span class="p">}</span>  <span class="n">Enable</span> <span class="n">console</span> <span class="n">buffering</span> <span class="ow">and</span> <span class="n">optionally</span>
                                      <span class="nb">set</span> <span class="n">the</span> <span class="n">buffer</span> <span class="n">size</span> <span class="n">to</span> <span class="s1">&#39;bufsiz&#39;</span><span class="o">.</span> <span class="n">The</span> <span class="n">default</span>
                                      <span class="n">buffer</span> <span class="n">size</span> <span class="ow">is</span> <span class="mf">32768.</span>
<span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">TELNET</span><span class="o">=</span><span class="n">NOBUFFER</span>           <span class="n">Disable</span> <span class="n">console</span> <span class="n">buffering</span>
</pre></div>
</div>
<p>Output to the console Telnet session can be logged simultaneously to a file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">TELNET</span><span class="o">=</span><span class="n">LOG</span><span class="o">=&lt;</span><span class="n">filename</span><span class="o">&gt;</span>     <span class="n">Log</span> <span class="n">console</span> <span class="n">port</span> <span class="n">output</span> <span class="n">to</span> <span class="n">file</span>
<span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">TELNET</span><span class="o">=</span><span class="n">NOLOG</span>              <span class="n">Disable</span> <span class="n">logging</span>
</pre></div>
</div>
<p>The console provides a limited key remapping capability:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">WRU</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>               <span class="n">Interpret</span> <span class="n">ASCII</span> <span class="n">code</span> <span class="n">value</span> <span class="k">as</span> <span class="n">WRU</span>
<span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">BRK</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>               <span class="n">Interpret</span> <span class="n">ASCII</span> <span class="n">code</span> <span class="n">value</span> <span class="k">as</span> <span class="n">BREAK</span> <span class="p">(</span><span class="mi">0</span> <span class="n">disables</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">DEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>               <span class="n">Interpret</span> <span class="n">ASCII</span> <span class="n">code</span> <span class="n">value</span> <span class="k">as</span> <span class="n">DELETE</span>
<span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">PCHAR</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>             <span class="n">Bitmask</span> <span class="n">of</span> <span class="n">printable</span> <span class="n">characters</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>A simulator console can be connected to a serial port on the host system:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">SERIAL</span><span class="o">=</span><span class="n">ser0</span>               <span class="n">Connect</span> <span class="n">console</span> <span class="n">to</span> <span class="n">serial</span> <span class="n">port</span> <span class="n">ser0</span>
<span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">SERIAL</span><span class="o">=</span><span class="n">COM1</span>               <span class="n">Connect</span> <span class="n">console</span> <span class="n">to</span> <span class="n">serial</span> <span class="n">port</span> <span class="n">COM1</span>
<span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">SERIAL</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyS0</span>         <span class="n">Connect</span> <span class="n">console</span> <span class="n">to</span> <span class="n">serial</span> <span class="n">port</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyS0</span>
</pre></div>
</div>
<p>The available serial ports on the host system can be displayed with the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">SERIAL</span>
</pre></div>
</div>
<p>Serial port speed, character size, parity and stop bits can be indicated on the by appending the speed, character size, parity and stop bits to the serial port name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">SERIAL</span><span class="o">=</span><span class="n">ser0</span><span class="p">;</span><span class="mi">2400</span><span class="o">-</span><span class="mi">8</span><span class="n">N1</span>
</pre></div>
</div>
<p>This will connect at 2400 with 8-bit characters, no parity and 1 stop bit.
The default serial speed, character size, parity and stop bits is 9600-8N1.</p>
<p>Values are hexadecimal on hex CPUs, octal on all others.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">CONSOLE</span></code> command displays the current state of console options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">CONSOLE</span>               <span class="n">Show</span> <span class="nb">all</span> <span class="n">console</span> <span class="n">options</span>
<span class="n">SHOW</span> <span class="n">CONSOLE</span> <span class="n">TELNET</span>        <span class="n">Show</span> <span class="n">console</span> <span class="n">Telnet</span> <span class="n">state</span>
<span class="n">SHOW</span> <span class="n">CONSOLE</span> <span class="n">WRU</span>           <span class="n">Show</span> <span class="n">value</span> <span class="n">assigned</span> <span class="n">to</span> <span class="n">WRU</span>
<span class="n">SHOW</span> <span class="n">CONSOLE</span> <span class="n">BRK</span>           <span class="n">Show</span> <span class="n">value</span> <span class="n">assigned</span> <span class="n">to</span> <span class="n">BREAK</span>
<span class="n">SHOW</span> <span class="n">CONSOLE</span> <span class="n">DEL</span>           <span class="n">Show</span> <span class="n">value</span> <span class="n">assigned</span> <span class="n">to</span> <span class="n">DELETE</span>
<span class="n">SHOW</span> <span class="n">CONSOLE</span> <span class="n">PCHAR</span>         <span class="n">Show</span> <span class="n">value</span> <span class="n">assigned</span> <span class="n">to</span> <span class="n">PCHAR</span>
</pre></div>
</div>
<p>Both <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CONSOLE</span></code> and <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">CONSOLE</span></code> accept multiple parameters, separated by commas, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">WRU</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">DEL</span><span class="o">=</span><span class="mi">177</span>  <span class="n">Set</span> <span class="n">code</span> <span class="n">values</span> <span class="k">for</span> <span class="n">WRU</span> <span class="ow">and</span> <span class="n">DEL</span>
</pre></div>
</div>
</section>
<section id="remote-console">
<h3>4.15 Remote console<a class="headerlink" href="#remote-console" title="Permalink to this heading">¶</a></h3>
<p>During simulator execution,
it may occasionally be useful to enter commands to query or adjust some internal details of the simulator’s configuration or operation.
These activities could be achieved directly through the initiating session which started the simulator.
However, a simulator may be running in the context of a background process and not actually have an interactive interface to the initiating process,
or it may be inconvenient to access the initiating process.
To support circumstances like this,
a Remote Console facility can be enabled in the simulator.
The remote console capability is configured with the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">REMOTE</span> <span class="n">TELNET</span><span class="o">=&lt;</span><span class="n">port</span><span class="o">&gt;</span>        <span class="n">Enable</span> <span class="n">remote</span> <span class="n">console</span> <span class="n">to</span> <span class="n">connects</span> <span class="n">via</span> <span class="n">Telnet</span> <span class="n">to</span> <span class="n">port</span>
<span class="n">SET</span> <span class="n">REMOTE</span> <span class="n">BUFFERSIZE</span><span class="o">=</span><span class="n">bufsize</span>   <span class="n">Specify</span> <span class="n">remote</span> <span class="n">console</span> <span class="n">command</span> <span class="n">output</span> <span class="n">buffer</span> <span class="n">size</span>
<span class="n">SET</span> <span class="n">REMOTE</span> <span class="n">NOTELNET</span>             <span class="n">Disable</span> <span class="n">remote</span> <span class="n">console</span> <span class="n">Telnet</span>
<span class="n">SET</span> <span class="n">REMOTE</span> <span class="n">CONNECTIONS</span><span class="o">=</span><span class="n">n</span>        <span class="n">Specify</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">concurrent</span> <span class="n">remote</span> <span class="n">console</span> <span class="n">sessions</span> <span class="n">available</span>
<span class="n">SET</span> <span class="n">REMOTE</span> <span class="n">TIMEOUT</span><span class="o">=</span><span class="n">secs</span>         <span class="n">Specify</span> <span class="n">the</span> <span class="n">remote</span> <span class="n">console</span> <span class="n">idle</span> <span class="n">command</span> <span class="n">timeout</span>
</pre></div>
</div>
<p>Connections to the specified port, by default, will be unrestricted.
Connections from particular IPv4 or IPv6 addresses can be restricted or allowed based on rules you can add to the <code class="docutils literal notranslate"><span class="pre">port</span></code> specifier on the attach command.
You can add as many rules as you need to the attach command specified with <code class="docutils literal notranslate"><span class="pre">;ACCEPT=rule-detail</span></code> or <code class="docutils literal notranslate"><span class="pre">;REJECT=rule-detail</span></code> where <code class="docutils literal notranslate"><span class="pre">rule-detail</span></code> can be an IP address, hostname or network block in CIDR form.
Rules are interpreted in order and if, while processing the list, the end is reached the connection will be rejected.</p>
<p>The remote console configuration details can be viewed with the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">REMOTE</span>
</pre></div>
</div>
<p>The remote console facility has two modes of command input and execution:</p>
<dl class="simple">
<dt>Single Command Mode:</dt><dd><p>In single command mode you enter one command at a time and aren’t concerned about what the simulated system is doing while you enter that command.
The command is executed once you’ve hit return.</p>
</dd>
<dt>Multiple Command Mode:</dt><dd><p>In multiple command mode you initiate your activities by entering the WRU character (usually <code class="docutils literal notranslate"><span class="pre">^E</span></code>).
This will suspend the current simulator execution.
You then enter commands as needed and when you are done you enter a <a class="reference internal" href="#continue"><code class="docutils literal notranslate"><span class="pre">CONTINUE</span></code></a> command.
While entering Multiple Command commands,
if you fail to enter a complete command before the timeout
(specified by <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">REMOTE</span> <span class="pre">TIMEOUT=seconds</span></code>),
a <a class="reference internal" href="#continue"><code class="docutils literal notranslate"><span class="pre">CONTINUE</span></code></a> command is automatically processed and simulation proceeds.</p>
</dd>
</dl>
<p>A subset of normal SIMH commands are available for use in remote console sessions.</p>
<p>The Single Command Mode commands are:
<a class="reference internal" href="#attach"><code class="docutils literal notranslate"><span class="pre">ATTACH</span></code></a>,
<a class="reference internal" href="#detach"><code class="docutils literal notranslate"><span class="pre">DETACH</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">DIR</span></code>,
<a class="reference internal" href="#echo"><code class="docutils literal notranslate"><span class="pre">ECHO</span></code></a>,
<a class="reference internal" href="#help"><code class="docutils literal notranslate"><span class="pre">HELP</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">LS</span></code>,
<code class="docutils literal notranslate"><span class="pre">PWD</span></code>,
<a class="reference internal" href="#show"><code class="docutils literal notranslate"><span class="pre">SHOW</span></code></a></p>
<p>The Multiple Command Mode commands are:
<a class="reference internal" href="#assign"><code class="docutils literal notranslate"><span class="pre">ASSIGN</span></code></a>,
<a class="reference internal" href="#attach"><code class="docutils literal notranslate"><span class="pre">ATTACH</span></code></a>,
<a class="reference internal" href="#continue"><code class="docutils literal notranslate"><span class="pre">CONTINUE</span></code></a>,
<a class="reference internal" href="#deassign"><code class="docutils literal notranslate"><span class="pre">DEASSIGN</span></code></a>,
<a class="reference internal" href="#deposit"><code class="docutils literal notranslate"><span class="pre">DEPOSIT</span></code></a>,
<a class="reference internal" href="#detach"><code class="docutils literal notranslate"><span class="pre">DETACH</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">DIR</span></code>,
<a class="reference internal" href="#echo"><code class="docutils literal notranslate"><span class="pre">ECHO</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">EVALUATE</span></code>,
<a class="reference internal" href="#examine"><code class="docutils literal notranslate"><span class="pre">EXAMINE</span></code></a>,
<a class="reference internal" href="#help"><code class="docutils literal notranslate"><span class="pre">HELP</span></code></a>,
<a class="reference internal" href="#iexamine"><code class="docutils literal notranslate"><span class="pre">IEXAMINE</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">LS</span></code>,
<code class="docutils literal notranslate"><span class="pre">PWD</span></code>,
<a class="reference internal" href="#save"><code class="docutils literal notranslate"><span class="pre">SAVE</span></code></a>,
<a class="reference internal" href="#set"><code class="docutils literal notranslate"><span class="pre">SET</span></code></a>,
<a class="reference internal" href="#show"><code class="docutils literal notranslate"><span class="pre">SHOW</span></code></a>,
<a class="reference internal" href="#step"><code class="docutils literal notranslate"><span class="pre">STEP</span></code></a></p>
<p>A remote console session will close when a EOF character is entered (i.e. <code class="docutils literal notranslate"><span class="pre">^D</span></code> or <code class="docutils literal notranslate"><span class="pre">^Z</span></code>).</p>
<section id="master-mode">
<h4>4.15.1 Master mode<a class="headerlink" href="#master-mode" title="Permalink to this heading">¶</a></h4>
<p>Remote Console Master mode allows full control of simulator operation to performed over a remote TCP session.
This mode is potentially useful for applications like a simulated CPU front panel interface or remote debugging with a GDB “Serial Stub”.
Master mode is entered from a simulator command file with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">REMOTE</span> <span class="n">MASTER</span>
</pre></div>
</div>
<p>Operation in Remote Console Master mode requires that the simulator’s console port be serviced via a Telnet connect with a <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CONSOLE</span> <span class="pre">TELNET=port</span></code> command.
Both a Telnet connection to the console port <em>and</em> to the Remote Console port is required be a simulator will enter Master Mode.</p>
<p>A Master Mode session can return control to the initiating simulator command with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">REMOTE</span> <span class="n">NOMASTER</span>
</pre></div>
</div>
<p>The Remote Console Master Mode commands are:
<a class="reference internal" href="#assign"><code class="docutils literal notranslate"><span class="pre">ASSIGN</span></code></a>,
<a class="reference internal" href="#attach"><code class="docutils literal notranslate"><span class="pre">ATTACH</span></code></a>,
<a class="reference internal" href="#boot"><code class="docutils literal notranslate"><span class="pre">BOOT</span></code></a>,
<a class="reference internal" href="#break"><code class="docutils literal notranslate"><span class="pre">BREAK</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">CD</span></code>,
<a class="reference internal" href="#continue"><code class="docutils literal notranslate"><span class="pre">CONTINUE</span></code></a>,
<a class="reference internal" href="#deassign"><code class="docutils literal notranslate"><span class="pre">DEASSIGN</span></code></a>,
<a class="reference internal" href="#deposit"><code class="docutils literal notranslate"><span class="pre">DEPOSIT</span></code></a>,
<a class="reference internal" href="#detach"><code class="docutils literal notranslate"><span class="pre">DETACH</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">DIR</span></code>,
<a class="reference internal" href="#echo"><code class="docutils literal notranslate"><span class="pre">ECHO</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">EVALUATE</span></code>,
<a class="reference internal" href="#examine"><code class="docutils literal notranslate"><span class="pre">EXAMINE</span></code></a>,
<a class="reference internal" href="#exit"><code class="docutils literal notranslate"><span class="pre">EXIT</span></code></a>,
<a class="reference internal" href="#go"><code class="docutils literal notranslate"><span class="pre">GO</span></code></a>,
<a class="reference internal" href="#help"><code class="docutils literal notranslate"><span class="pre">HELP</span></code></a>,
<a class="reference internal" href="#iexamine"><code class="docutils literal notranslate"><span class="pre">IEXAMINE</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">LS</span></code>,
<a class="reference internal" href="#nobreak"><code class="docutils literal notranslate"><span class="pre">NOBREAK</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">PWD</span></code>,
<a class="reference internal" href="#run"><code class="docutils literal notranslate"><span class="pre">RUN</span></code></a>,
<a class="reference internal" href="#save"><code class="docutils literal notranslate"><span class="pre">SAVE</span></code></a>,
<a class="reference internal" href="#set"><code class="docutils literal notranslate"><span class="pre">SET</span></code></a>,
<a class="reference internal" href="#show"><code class="docutils literal notranslate"><span class="pre">SHOW</span></code></a>,
<a class="reference internal" href="#step"><code class="docutils literal notranslate"><span class="pre">STEP</span></code></a></p>
</section>
</section>
<section id="executing-command-files">
<h3>4.16 Executing command files<a class="headerlink" href="#executing-command-files" title="Permalink to this heading">¶</a></h3>
<p id="do">The simulator can execute command files with the <code class="docutils literal notranslate"><span class="pre">DO</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DO</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span> <span class="p">{</span><span class="n">arguments</span><span class="o">...</span><span class="p">}</span>    <span class="n">Execute</span> <span class="n">commands</span> <span class="ow">in</span> <span class="n">file</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">DO</span></code> command allows command files to contain substitutable arguments.
The string <code class="docutils literal notranslate"><span class="pre">%n</span></code>, where <em>n</em> is between 1 and 9, is replaced with argument <em>n</em> from the <code class="docutils literal notranslate"><span class="pre">DO</span></code> command line.
The string <code class="docutils literal notranslate"><span class="pre">%0</span></code> is replaced with <em>&lt;filename&gt;</em>.
The sequences <code class="docutils literal notranslate"><span class="pre">\%</span></code> and <code class="docutils literal notranslate"><span class="pre">\\</span></code> are replaced with the literal characters <code class="docutils literal notranslate"><span class="pre">%</span></code> and <code class="docutils literal notranslate"><span class="pre">\</span></code>, respectively.
Arguments with spaces can be enclosed in matching single or double quotation marks.</p>
<p>If the switch <code class="docutils literal notranslate"><span class="pre">-v</span></code> is specified, the commands in the file are echoed before they are executed.</p>
<p>If the switch <code class="docutils literal notranslate"><span class="pre">-e</span></code> is specified, command processing (including nested command invocations) will be aborted if a command error is encountered.
(Simulation stop never abort processing; use <a class="reference internal" href="#assert"><code class="docutils literal notranslate"><span class="pre">ASSERT</span></code></a> to catch unexpected stops).
Without the switch, all errors except <a class="reference internal" href="#assert"><code class="docutils literal notranslate"><span class="pre">ASSERT</span></code></a> failures will be ignored, and command processing will continue.</p>
<p><code class="docutils literal notranslate"><span class="pre">DO</span></code> commands may be nested up to ten invocations deep.</p>
<p>Several commands are particularly useful within command files.
While they may be executed interactively, they have only limited functionality when so used.</p>
<section id="default-command-file-executed-on-simulator-startup">
<h4>4.16.1 Default command file executed on simulator startup<a class="headerlink" href="#default-command-file-executed-on-simulator-startup" title="Permalink to this heading">¶</a></h4>
<p>When a simulator starts execution, the following sequence of SIMH command files are executed if they are found:</p>
<ol class="arabic simple">
<li><p>If a file named <code class="docutils literal notranslate"><span class="pre">simh.ini</span></code> is located in your HOME directory, it is executed.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">simh.ini</span></code> file in your HOME directory isn’t found, a file named <code class="docutils literal notranslate"><span class="pre">simh.ini</span></code> in your current working directory is executed if it exists.</p></li>
<li><p>If the simulator is invoked with any arguments, then the arguments are presumed to be a command file and possible arguments to that command file which is executed.</p></li>
<li><p>If the simulator is invoked without any arguments, then a command file with the same name as the simulator binary with <code class="docutils literal notranslate"><span class="pre">.ini</span></code> appended that is located in the current working directory is executed.</p></li>
</ol>
<p>Note, that up to 2 separate command files may be executed on simulator startup.
The <code class="docutils literal notranslate"><span class="pre">simh.ini</span></code> file allows the user to define local user preferences that align with their personal goals for simulator execution across all simulators that may be used on their system.</p>
</section>
<section id="change-command-execution-flow">
<h4>4.16.2 Change command execution flow<a class="headerlink" href="#change-command-execution-flow" title="Permalink to this heading">¶</a></h4>
<p id="goto">Commands in a command file execute in sequence until either an error trap occurs (when a command completes with an error status),
or when an explicit request is made to start command execution elsewhere with the <code class="docutils literal notranslate"><span class="pre">GOTO</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GOTO</span> <span class="o">&lt;</span><span class="n">label</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Labels are lines in a command file which the first non whitespace character is a <code class="docutils literal notranslate"><span class="pre">:</span></code>.
The target of a <code class="docutils literal notranslate"><span class="pre">GOTO</span></code> is the first matching label in the current do command file which is encountered.
Since labels don’t do anything else besides being the targets of <code class="docutils literal notranslate"><span class="pre">goto</span></code>’s,
they could also be used to provide comments in do command files.</p>
</section>
<section id="subroutine-calls">
<h4>4.16.3 Subroutine calls<a class="headerlink" href="#subroutine-calls" title="Permalink to this heading">¶</a></h4>
<p>Control can be transferred to a labeled subroutine with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CALL</span> <span class="o">&lt;</span><span class="n">label</span><span class="o">&gt;</span>
<span class="n">EXIT</span>

<span class="p">:</span><span class="n">label</span>
<span class="n">ECHO</span> <span class="n">subroutine</span> <span class="n">called</span>
<span class="n">RETURN</span>
</pre></div>
</div>
</section>
<section id="pausing-command-execution">
<h4>4.16.4 Pausing command execution<a class="headerlink" href="#pausing-command-execution" title="Permalink to this heading">¶</a></h4>
<p>A simulator command file may wait for a specific period of time with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SLEEP</span> <span class="n">NUMBER</span><span class="p">[</span><span class="n">SUFFIX</span><span class="p">]</span><span class="o">...</span>
</pre></div>
</div>
<p>Pause for <em>NUMBER</em> seconds.
<em>SUFFIX</em> may be <code class="docutils literal notranslate"><span class="pre">s</span></code> for seconds (the default),
<code class="docutils literal notranslate"><span class="pre">m</span></code> for minutes,
<code class="docutils literal notranslate"><span class="pre">h</span></code> for hours or
<code class="docutils literal notranslate"><span class="pre">d</span></code> for days.
<em>NUMBER</em> may be an arbitrary floating point number.
Given two or more arguments, pause for the amount of time specified by the sum of their values.  Note: A <code class="docutils literal notranslate"><span class="pre">SLEEP</span></code> command is interruptible with SIGINT (<code class="docutils literal notranslate"><span class="pre">^C</span></code>).</p>
</section>
<section id="displaying-arbitrary-text">
<h4>4.16.5 Displaying arbitrary text<a class="headerlink" href="#displaying-arbitrary-text" title="Permalink to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">ECHO</span></code> and <code class="docutils literal notranslate"><span class="pre">ECHOF</span></code> commands are useful ways of annotating command files.</p>
<section id="echo-command">
<h5>4.16.5.1 <code class="docutils literal notranslate"><span class="pre">ECHO</span></code> command<a class="headerlink" href="#echo-command" title="Permalink to this heading">¶</a></h5>
<p id="echo"><code class="docutils literal notranslate"><span class="pre">ECHO</span></code> prints out its argument on the console (and log) followed by a newline.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ECHO</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>            <span class="n">Output</span> <span class="n">string</span> <span class="n">to</span> <span class="n">console</span>
</pre></div>
</div>
<p>If there is no argument, <code class="docutils literal notranslate"><span class="pre">ECHO</span></code> prints a blank line on the console.
This may be used to provide spacing in the console display or log.</p>
</section>
<section id="echof-command">
<h5>4.16.5.2 <code class="docutils literal notranslate"><span class="pre">ECHOF</span></code> command<a class="headerlink" href="#echof-command" title="Permalink to this heading">¶</a></h5>
<p id="echof"><code class="docutils literal notranslate"><span class="pre">ECHOF</span></code> prints out its argument on the console (and log) followed by a newline.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ECHOF</span> <span class="p">{</span><span class="o">-</span><span class="n">n</span><span class="p">}</span> <span class="s2">&quot;string&quot;</span><span class="o">|&lt;</span><span class="n">string</span><span class="o">&gt;</span>            <span class="n">Output</span> <span class="n">to</span> <span class="n">console</span>
<span class="n">ECHOF</span> <span class="p">{</span><span class="o">-</span><span class="n">n</span><span class="p">}</span> <span class="n">dev</span><span class="p">:</span><span class="n">line</span> <span class="s2">&quot;string&quot;</span><span class="o">|&lt;</span><span class="n">string</span><span class="o">&gt;</span>   <span class="n">Output</span> <span class="n">to</span> <span class="n">specified</span> <span class="n">line</span>
</pre></div>
</div>
<p>If there is no argument, <code class="docutils literal notranslate"><span class="pre">ECHOF</span></code> prints a blank line.
The <code class="docutils literal notranslate"><span class="pre">-n</span></code> switch suppresses the output of a newline character.
If the string to be output is surrounded by quotes,
the string within the quotes is interpreted as described in <a class="reference internal" href="#id3">4.10.3</a> prior to being output (without the surrounding quotes).</p>
<p>A command alias can be used to replace the <code class="docutils literal notranslate"><span class="pre">ECHO</span></code> command with the <code class="docutils literal notranslate"><span class="pre">ECHOF</span></code> command as described in <a class="reference internal" href="#id5">4.16.9</a>.</p>
</section>
</section>
<section id="testing-simulator-state">
<h4>4.16.6 Testing simulator state<a class="headerlink" href="#testing-simulator-state" title="Permalink to this heading">¶</a></h4>
<p id="assert">The <code class="docutils literal notranslate"><span class="pre">ASSERT</span></code> command tests a simulator state condition expression and halts command file execution if the condition is false:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ASSERT</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">-</span><span class="n">expression</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>If the result of the condition is false, an “Assertion failed” message is printed, and any running command file is aborted.
Otherwise, the command has no effect.</p>
<p id="else"><span id="if"></span>The <code class="docutils literal notranslate"><span class="pre">IF</span></code> command tests a simulator state condition expression and executes one or more commands if the condition is true:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>IF &lt;condition-expression&gt; &lt;action&gt;{; &lt;action&gt;…}
{ELSE &lt;action&gt;{; &lt;action&gt;…}}
</pre></div>
</div>
<p>If the result of the condition is true, the action command(s) are executed.
Otherwise, the command has no effect.
An optional <code class="docutils literal notranslate"><span class="pre">ELSE</span></code> command immediately following an <code class="docutils literal notranslate"><span class="pre">IF</span></code> command will have its command arguments executed if the <code class="docutils literal notranslate"><span class="pre">IF</span></code> condition wasn’t satisfied.</p>
<p>If an action command must contain a semicolon, that action command should be enclosed in quotes so that the entire action command can be distinguished from the action separator.</p>
<section id="condition-expressions">
<h5>4.16.6.1 Condition expressions<a class="headerlink" href="#condition-expressions" title="Permalink to this heading">¶</a></h5>
<section id="internal-simulator-variables-expressions">
<h6>4.16.6.1.1 Internal simulator variables expressions<a class="headerlink" href="#internal-simulator-variables-expressions" title="Permalink to this heading">¶</a></h6>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">NOT</span><span class="p">}</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">reg</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="n">logical</span><span class="o">-</span><span class="n">op</span><span class="o">&gt;&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;</span><span class="n">conditional</span><span class="o">-</span><span class="n">op</span><span class="o">&gt;&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">&lt;dev&gt;</span></code> is not specified, CPU is assumed.
<code class="docutils literal notranslate"><span class="pre">&lt;reg&gt;</span></code> is a register (scalar or subscripted) belonging to the indicated device.
The <code class="docutils literal notranslate"><span class="pre">&lt;conditional-op&gt;</span></code> and optional <code class="docutils literal notranslate"><span class="pre">&lt;logical-op&gt;</span></code> are the same as those used for “search specifiers” by the <a class="reference internal" href="#examine"><code class="docutils literal notranslate"><span class="pre">EXAMINE</span></code></a> and <a class="reference internal" href="#deposit"><code class="docutils literal notranslate"><span class="pre">DEPOSIT</span></code></a> commands (see above).
The <code class="docutils literal notranslate"><span class="pre">&lt;value&gt;</span></code> s are expressed in the radix specified for <code class="docutils literal notranslate"><span class="pre">&lt;reg&gt;</span></code>, not in the radix for the device.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">&lt;logical-op&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;value&gt;</span></code> are specified, the target register value is first altered as indicated.
The result is then compared to the <code class="docutils literal notranslate"><span class="pre">&lt;value&gt;</span></code> via the <code class="docutils literal notranslate"><span class="pre">&lt;conditional-op&gt;</span></code>.
If the <code class="docutils literal notranslate"><span class="pre">NOT</span></code> unary operator precedes the expression, the results value is inverted.</p>
</section>
<section id="c-style-expressions">
<h6>4.16.6.1.2 C style expressions<a class="headerlink" href="#c-style-expressions" title="Permalink to this heading">¶</a></h6>
<p>Comparisons can optionally be done with complete C style computational expressions which leverage the C operations in the below table and can optionally reference any combination of values that are constants or contained in environment variables or simulator registers.
C style expression evaluation is initiated by enclosing the expression in parenthesis.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">(</span></code></p></td>
<td><p>Open parenthesis</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">)</span></code></p></td>
<td><p>Close parenthesis</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Subtraction</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td><p>Addition</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">*</span></code></p></td>
<td><p>Multiplication</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">/</span></code></p></td>
<td><p>Division</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%</span></code></p></td>
<td><p>Modulus</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code></p></td>
<td><p>Logical AND</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">||</span></code></p></td>
<td><p>Logical OR</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&amp;</span></code></p></td>
<td><p>Bitwise AND</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">|</span></code></p></td>
<td><p>Bitwise inclusive OR</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">^</span></code></p></td>
<td><p>Bitwise exclusive OR</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code></p></td>
<td><p>Bitwise right shift</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code></p></td>
<td><p>Bitwise left shift</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">==</span></code></p></td>
<td><p>Equality</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">!=</span></code></p></td>
<td><p>Inequality</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;=</span></code></p></td>
<td><p>Less than or equal</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;</span></code></p></td>
<td><p>Less than</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;=</span></code></p></td>
<td><p>Greater than or equal</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;</span></code></p></td>
<td><p>Greater than</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">!</span></code></p></td>
<td><p>Logical negation</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">~</span></code></p></td>
<td><p>Bitwise compliment</p></td>
</tr>
</tbody>
</table>
</section>
<section id="string-comparison-expressions">
<h6>4.16.6.1.3 String comparison expressions<a class="headerlink" href="#string-comparison-expressions" title="Permalink to this heading">¶</a></h6>
<p>String values can be compared with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">-</span><span class="n">i</span><span class="p">}</span> <span class="p">{</span><span class="n">NOT</span><span class="p">}</span> <span class="s2">&quot;&lt;string1&gt;&quot;</span><span class="o">|</span><span class="n">EnvVarName1</span> <span class="o">&lt;</span><span class="n">compare</span><span class="o">-</span><span class="n">op</span><span class="o">&gt;</span> <span class="s2">&quot;&lt;string2&gt;&quot;</span><span class="o">|</span><span class="n">EnvVarName2</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-i</span></code> switch, if present, causes comparisons to be case insensitive.
The <code class="docutils literal notranslate"><span class="pre">-w</span></code> switch, if present, causes comparisons to allow arbitrary runs of whitespace to be equivalent to a single space.
The <code class="docutils literal notranslate"><span class="pre">-i</span></code> and <code class="docutils literal notranslate"><span class="pre">-w</span></code> switches may be combined.
<code class="docutils literal notranslate"><span class="pre">&lt;string1&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;string2&gt;</span></code> are quoted string values which may have environment variables substituted as desired.
Either string may be an environment variable name whose expanded value will be used in place of the explicitly quoted string.
<code class="docutils literal notranslate"><span class="pre">&lt;compare-op&gt;</span></code> may be one of:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">==</span></code></p></td>
<td><p>Equal</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">EQU</span></code></p></td>
<td><p>Equal</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">!=</span></code></p></td>
<td><p>Not equal</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NEQ</span></code></p></td>
<td><p>Not equal</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;</span></code></p></td>
<td><p>Less than</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LSS</span></code></p></td>
<td><p>Less than</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;=</span></code></p></td>
<td><p>Less than or equal</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LEQ</span></code></p></td>
<td><p>Less than or equal</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;</span></code></p></td>
<td><p>Greater than</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">GTR</span></code></p></td>
<td><p>Greater than</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;=</span></code></p></td>
<td><p>Greater than or equal</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">GEQ</span></code></p></td>
<td><p>Greater than or equal</p></td>
</tr>
</tbody>
</table>
<p>Comparisons are generic.
This means that if both <code class="docutils literal notranslate"><span class="pre">string1</span></code> and <code class="docutils literal notranslate"><span class="pre">string2</span></code> are comprised of all numeric digits,
then the strings are converted to numbers and a numeric comparison is performed.
For example: <code class="docutils literal notranslate"><span class="pre">&quot;+1&quot;</span> <span class="pre">EQU</span> <span class="pre">&quot;1&quot;</span></code> will be true.</p>
</section>
<section id="file-existence-test">
<h6>4.16.6.1.4 File existence test<a class="headerlink" href="#file-existence-test" title="Permalink to this heading">¶</a></h6>
<p>File existence can be determined with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">NOT</span><span class="p">}</span> <span class="n">EXIST</span> <span class="s2">&quot;&lt;filespec&gt;&quot;</span>

<span class="p">{</span><span class="n">NOT</span><span class="p">}</span> <span class="n">EXIST</span> <span class="o">&lt;</span><span class="n">filespec</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Specifies a true (false {NOT}) condition if the file exists.</p>
</section>
<section id="file-comparison-test">
<h6>4.16.6.1.5 File comparison test<a class="headerlink" href="#file-comparison-test" title="Permalink to this heading">¶</a></h6>
<p>Files can have their contents compared with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">F</span><span class="p">{</span><span class="n">W</span><span class="p">}</span> <span class="p">{</span><span class="n">NOT</span><span class="p">}</span> <span class="s2">&quot;&lt;filespec1&gt;&quot;</span> <span class="o">==</span> <span class="s2">&quot;&lt;filespec2&gt;&quot;</span>
</pre></div>
</div>
<p>Specifies a true (false {NOT}) condition if the indicated files have the same contents.
If the <code class="docutils literal notranslate"><span class="pre">-W</span></code> switch is present, allows arbitrary runs of whitespace to be considered a single space during file content comparison.</p>
</section>
</section>
<section id="example-test-of-simulator-state">
<h5>4.16.6.2 Example test of simulator state<a class="headerlink" href="#example-test-of-simulator-state" title="Permalink to this heading">¶</a></h5>
<p>A command file might be used to bootstrap an operating system that halts after the initial load from disk.
The <a class="reference internal" href="#assert"><code class="docutils literal notranslate"><span class="pre">ASSERT</span></code></a> command is then used to confirm that the load completed successfully by examining the CPU’s “A” register for the expected value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">;</span> <span class="n">OS</span> <span class="n">bootstrap</span> <span class="n">command</span> <span class="n">file</span>
<span class="p">;</span>
<span class="n">ATTACH</span> <span class="n">DS0</span> <span class="n">os</span><span class="o">.</span><span class="n">disk</span>
<span class="n">BOOT</span> <span class="n">DS</span>
<span class="p">;</span> <span class="n">A</span> <span class="n">register</span> <span class="n">contains</span> <span class="n">error</span> <span class="n">code</span><span class="p">;</span> <span class="mi">0</span> <span class="o">=</span> <span class="n">good</span> <span class="n">boot</span>
<span class="n">ASSERT</span> <span class="n">A</span><span class="o">=</span><span class="mi">0</span>
<span class="n">ATTACH</span> <span class="n">MT0</span> <span class="n">sys</span><span class="o">.</span><span class="n">tape</span>
<span class="n">ATTACH</span> <span class="n">MT1</span> <span class="n">user</span><span class="o">.</span><span class="n">tape</span>
<span class="n">RUN</span>
</pre></div>
</div>
<p>In the example, if the A register is not 0, the <code class="docutils literal notranslate"><span class="pre">ASSERT</span> <span class="pre">A=0</span></code> command will be echoed, the command file will be aborted with an “Assertion failed” message.
Otherwise, the command file will continue to bring up the operating system.</p>
<p>Alternative, the <a class="reference internal" href="#if"><code class="docutils literal notranslate"><span class="pre">IF</span></code></a> command could be used to solve the same problem:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">;</span> <span class="n">OS</span> <span class="n">bootstrap</span> <span class="n">command</span> <span class="n">file</span>
<span class="p">;</span>
<span class="n">ATTACH</span> <span class="n">DS0</span> <span class="n">os</span><span class="o">.</span><span class="n">disk</span>
<span class="n">BOOT</span> <span class="n">DS</span>
<span class="p">;</span> <span class="n">A</span> <span class="n">register</span> <span class="n">contains</span> <span class="n">error</span> <span class="n">code</span><span class="p">;</span> <span class="mi">0</span> <span class="o">=</span> <span class="n">good</span> <span class="n">boot</span>
<span class="n">IF</span> <span class="n">NOT</span> <span class="n">A</span><span class="o">=</span><span class="mi">0</span> <span class="n">ECHO</span> <span class="n">Assertion</span> <span class="n">Failed</span><span class="p">;</span> <span class="n">EXIT</span> <span class="n">AFAIL</span>
<span class="n">ATTACH</span> <span class="n">MT0</span> <span class="n">sys</span><span class="o">.</span><span class="n">tape</span>
<span class="n">ATTACH</span> <span class="n">MT1</span> <span class="n">user</span><span class="o">.</span><span class="n">tape</span>
<span class="n">RUN</span>
</pre></div>
</div>
<p>Alternative, the <a class="reference internal" href="#if"><code class="docutils literal notranslate"><span class="pre">IF</span></code></a> command could have an arbitrarily complex C expression syntax to solve the same problem:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">;</span> <span class="n">OS</span> <span class="n">bootstrap</span> <span class="n">command</span> <span class="n">file</span>
<span class="p">;</span>
<span class="n">ATTACH</span> <span class="n">DS0</span> <span class="n">os</span><span class="o">.</span><span class="n">disk</span>
<span class="n">BOOT</span> <span class="n">DS</span>
<span class="p">;</span> <span class="n">A</span> <span class="n">register</span> <span class="n">contains</span> <span class="n">error</span> <span class="n">code</span><span class="p">;</span> <span class="mi">0</span> <span class="o">=</span> <span class="n">good</span> <span class="n">boot</span>
<span class="n">IF</span> <span class="n">NOT</span> <span class="p">(((</span><span class="n">A</span><span class="o">*</span><span class="mi">256</span><span class="p">)</span><span class="o">&gt;&gt;</span><span class="mi">7</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="n">ECHO</span> <span class="n">Assertion</span> <span class="n">Failed</span><span class="p">;</span> <span class="n">EXIT</span> <span class="n">AFAIL</span>
<span class="n">ATTACH</span> <span class="n">MT0</span> <span class="n">sys</span><span class="o">.</span><span class="n">tape</span>
<span class="n">ATTACH</span> <span class="n">MT1</span> <span class="n">user</span><span class="o">.</span><span class="n">tape</span>
<span class="n">RUN</span>
</pre></div>
</div>
</section>
</section>
<section id="trapping-on-command-completion-conditions">
<h4>4.16.7 Trapping on command completion conditions<a class="headerlink" href="#trapping-on-command-completion-conditions" title="Permalink to this heading">¶</a></h4>
<p>Error traps can be taken when any command returns a non success status.
Actions to be performed for particular status returns are specified with the <a class="reference internal" href="#on"><code class="docutils literal notranslate"><span class="pre">ON</span></code></a> command.</p>
<section id="enabling-error-traps">
<h5>4.16.7.1 Enabling Error Traps<a class="headerlink" href="#enabling-error-traps" title="Permalink to this heading">¶</a></h5>
<p>Error trapping is enabled with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">on</span>
</pre></div>
</div>
<p>Error trapping is initially disabled.</p>
</section>
<section id="disabling-error-traps">
<h5>4.16.7.2 Disabling error traps<a class="headerlink" href="#disabling-error-traps" title="Permalink to this heading">¶</a></h5>
<p>Error trapping is disabled with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">noon</span>
</pre></div>
</div>
</section>
<section id="on-command">
<h5>4.16.7.3 <code class="docutils literal notranslate"><span class="pre">ON</span></code> command<a class="headerlink" href="#on-command" title="Permalink to this heading">¶</a></h5>
<p id="on">To set the action(s) to take when a specific error status is returned by a command in the currently running do command file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">on</span> <span class="o">&lt;</span><span class="n">statusvalue</span><span class="o">&gt;</span> <span class="n">commandtoprocess</span><span class="p">{;</span> <span class="n">additionalcommandtoprocess</span><span class="p">}</span>
</pre></div>
</div>
<p>To clear the action(s) taken take when a specific error status is returned:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">on</span> <span class="o">&lt;</span><span class="n">statusvalue</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>To set the default action(s) to take when any otherwise unspecified error status is returned by a command in the currently running do command file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">on</span> <span class="n">error</span> <span class="n">commandtoprocess</span><span class="p">{;</span> <span class="n">additionalcommandtoprocess</span><span class="p">}</span>
</pre></div>
</div>
<p>To clear the default action(s) taken when any otherwise unspecified error status is returned:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">on</span> <span class="n">error</span>
</pre></div>
</div>
<section id="parameters">
<h6>4.16.7.3.1 Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading">¶</a></h6>
<p>Error traps can be taken for any command which returns a status other than <code class="docutils literal notranslate"><span class="pre">SCPE_STEP</span></code>, <code class="docutils literal notranslate"><span class="pre">SCPE_OK</span></code>, and <code class="docutils literal notranslate"><span class="pre">SCPE_EXIT</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">ON</span></code> traps can specify any of these status values:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">NXM</span></code>,
<code class="docutils literal notranslate"><span class="pre">UNATT</span></code>,
<code class="docutils literal notranslate"><span class="pre">IOERR</span></code>,
<code class="docutils literal notranslate"><span class="pre">CSUM</span></code>,
<code class="docutils literal notranslate"><span class="pre">FMT</span></code>,
<code class="docutils literal notranslate"><span class="pre">NOATT</span></code>,
<code class="docutils literal notranslate"><span class="pre">OPENERR</span></code>,
<code class="docutils literal notranslate"><span class="pre">MEM</span></code>,
<code class="docutils literal notranslate"><span class="pre">ARG</span></code>,
<code class="docutils literal notranslate"><span class="pre">STEP</span></code>,
<code class="docutils literal notranslate"><span class="pre">UNK</span></code>,
<code class="docutils literal notranslate"><span class="pre">RO</span></code>,
<code class="docutils literal notranslate"><span class="pre">INCOMP</span></code>,
<code class="docutils literal notranslate"><span class="pre">STOP</span></code>,
<code class="docutils literal notranslate"><span class="pre">TTIERR</span></code>,
<code class="docutils literal notranslate"><span class="pre">TTOERR</span></code>,
<code class="docutils literal notranslate"><span class="pre">EOF</span></code>,
<code class="docutils literal notranslate"><span class="pre">REL</span></code>,
<code class="docutils literal notranslate"><span class="pre">NOPARAM</span></code>,
<code class="docutils literal notranslate"><span class="pre">ALATT</span></code>,
<code class="docutils literal notranslate"><span class="pre">TIMER</span></code>,
<code class="docutils literal notranslate"><span class="pre">SIGERR</span></code>,
<code class="docutils literal notranslate"><span class="pre">TTYERR</span></code>,
<code class="docutils literal notranslate"><span class="pre">SUB</span></code>,
<code class="docutils literal notranslate"><span class="pre">NOFNC</span></code>,
<code class="docutils literal notranslate"><span class="pre">UDIS</span></code>,
<code class="docutils literal notranslate"><span class="pre">NORO</span></code>,
<code class="docutils literal notranslate"><span class="pre">INVSW</span></code>,
<code class="docutils literal notranslate"><span class="pre">MISVAL</span></code>,
<code class="docutils literal notranslate"><span class="pre">2FARG</span></code>,
<code class="docutils literal notranslate"><span class="pre">2MARG</span></code>,
<code class="docutils literal notranslate"><span class="pre">NXDEV</span></code>,
<code class="docutils literal notranslate"><span class="pre">NXUN</span></code>,
<code class="docutils literal notranslate"><span class="pre">NXREG</span></code>,
<code class="docutils literal notranslate"><span class="pre">NXPAR</span></code>,
<code class="docutils literal notranslate"><span class="pre">NEST</span></code>,
<code class="docutils literal notranslate"><span class="pre">IERR</span></code>,
<code class="docutils literal notranslate"><span class="pre">MTRLNT</span></code>,
<code class="docutils literal notranslate"><span class="pre">LOST</span></code>,
<code class="docutils literal notranslate"><span class="pre">TTMO</span></code>,
<code class="docutils literal notranslate"><span class="pre">STALL</span></code>,
<code class="docutils literal notranslate"><span class="pre">AFAIL</span></code>,
<code class="docutils literal notranslate"><span class="pre">NOTATT</span></code>,
<code class="docutils literal notranslate"><span class="pre">AMBREG</span></code></p>
</div></blockquote>
<p>These values can be indicated by name or by their internal numeric value (not recommended).</p>
<section id="control-c-trapping">
<h6 aria-level="7">CONTROL-C Trapping<a class="headerlink" href="#control-c-trapping" title="Permalink to this heading">¶</a></h6>
<p>A special <code class="docutils literal notranslate"><span class="pre">ON</span></code> trap is available to describe action(s) to be taken when <code class="docutils literal notranslate"><span class="pre">CONTROL_C</span></code> (aka SIGINT) occurs during the execution of SIMH commands and/or command procedures.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">on</span> <span class="n">CONTROL_C</span> <span class="o">&lt;</span><span class="n">action</span><span class="o">&gt;</span>    <span class="n">Perform</span> <span class="n">action</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">after</span> <span class="n">CTRL</span><span class="o">+</span><span class="n">C</span>
<span class="n">on</span> <span class="n">CONTROL_C</span>             <span class="n">Restore</span> <span class="n">default</span> <span class="n">CTRL</span><span class="o">+</span><span class="n">C</span> <span class="n">action</span>
</pre></div>
</div>
<p>The default <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">CONTROL_C</span></code> handler will exit nested <a class="reference internal" href="#do"><code class="docutils literal notranslate"><span class="pre">DO</span></code></a> command procedures and return to the <code class="docutils literal notranslate"><span class="pre">sim&gt;</span></code> prompt.</p>
<p>Note 1: When a simulator is executing instructions entering CTRL+C will cause the CNTL+C character to be delivered to the simulator as input.
The simulator instruction execution can be stopped by entering the WRU character (usually CTRL+E).  Once instruction execution has stopped, CTRL+C can be entered and potentially acted on by the <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">CONTROL_C</span></code> trap handler.
Note 2: The <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">CONTROL_C</span></code> trapping is not affected by the <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">ON</span></code> and <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">NOON</span></code> commands.</p>
</section>
</section>
</section>
</section>
<section id="command-arguments">
<h4>4.16.8 Command arguments<a class="headerlink" href="#command-arguments" title="Permalink to this heading">¶</a></h4>
<p>Token <code class="docutils literal notranslate"><span class="pre">%0</span></code> expands to the command filename.
Token <code class="docutils literal notranslate"><span class="pre">%n</span></code> (<em>n</em> being a single digit) expands to the <em>n</em>’th argument
Token <code class="docutils literal notranslate"><span class="pre">%*</span></code> expands to the whole set of arguments (<code class="docutils literal notranslate"><span class="pre">%1</span></code> … <code class="docutils literal notranslate"><span class="pre">%9</span></code>)</p>
<p>The input sequence <code class="docutils literal notranslate"><span class="pre">%%</span></code> represents a literal <code class="docutils literal notranslate"><span class="pre">%</span></code>.
All other character combinations are rendered literally.</p>
<p>Omitted parameters result in null-string substitutions.</p>
<p>Tokens preceeded and followed by <code class="docutils literal notranslate"><span class="pre">%</span></code> characters are expanded as environment variables,
and if an environment variable isn’t found then it can be one of the available built-in variables.</p>
<section id="do-command-argument-manipulation">
<h5>4.16.8.1 DO command argument manipulation<a class="headerlink" href="#do-command-argument-manipulation" title="Permalink to this heading">¶</a></h5>
<p id="shift">The <code class="docutils literal notranslate"><span class="pre">SHIFT</span></code> command will shift the <code class="docutils literal notranslate"><span class="pre">%1</span></code> thru <code class="docutils literal notranslate"><span class="pre">%9</span></code> arguments to the left one position.</p>
</section>
<section id="built-in-variables">
<h5>4.16.8.2 Built-in variables<a class="headerlink" href="#built-in-variables" title="Permalink to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%DATE%</span></code></p></td>
<td colspan="3"><p><em>yyyy</em>-<em>mm</em>-<em>dd</em></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%TIME%</span></code></p></td>
<td colspan="3"><p><em>hh</em>:<em>mm</em>:<em>ss</em></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%DATETIME%</span></code></p></td>
<td colspan="3"><p><em>yyyy</em>-<em>mm</em>-<em>ddThh</em>:<em>mm</em>:<em>ss</em></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%LDATE%</span></code></p></td>
<td><p><em>mm</em>/<em>dd</em>/<em>yy</em></p></td>
<td colspan="2"><p>(Locale formatted)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%LTIME%</span></code></p></td>
<td><p><em>hh</em>:<em>mm</em>:<em>ss</em> <em>am/pm</em></p></td>
<td colspan="2"><p>(Locale formatted)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%CTIME%</span></code></p></td>
<td><p><em>Www</em> <em>Mmm</em> <em>dd</em> <em>hh</em>:<em>mm</em>:<em>ss</em> <em>yyyy</em></p></td>
<td colspan="2"><p>(Locale formatted)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%DATE_YYYY%</span></code></p></td>
<td><p><em>yyyy</em></p></td>
<td colspan="2"><p>(0000-9999)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%DATE_YY%</span></code></p></td>
<td><p><em>yy</em></p></td>
<td colspan="2"><p>(00-99)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%DATE_MM%</span></code></p></td>
<td><p><em>mm</em></p></td>
<td colspan="2"><p>(01-12)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%DATE_MMM%</span></code></p></td>
<td><p><em>mmm</em></p></td>
<td colspan="2"><p>(JAN-DEC)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%DATE_MONTH%</span></code></p></td>
<td><p><em>month</em></p></td>
<td colspan="2"><p>(January-December)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%DATE_DD%</span></code></p></td>
<td><p><em>dd</em></p></td>
<td colspan="2"><p>(01-31)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%DATE_WW%</span></code></p></td>
<td><p><em>ww</em></p></td>
<td><p>(01-53)</p></td>
<td><p>ISO 8601 week number</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%DATE_WYYYY%</span></code></p></td>
<td><p><em>yyyy</em></p></td>
<td><p>(0000-9999)</p></td>
<td><p>ISO 8601 week year number</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%DATE_D%</span></code></p></td>
<td><p><em>d</em></p></td>
<td><p>(1-7)</p></td>
<td><p>ISO 8601 day of week</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%DATE_JJJ%</span></code></p></td>
<td><p><em>jjj</em></p></td>
<td><p>(001-366)</p></td>
<td><p>Day of year</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%DATE_19XX_YY%</span></code></p></td>
<td><p><em>yy</em></p></td>
<td colspan="2"><p>Year prior to 2000 with the same calendar
days as the current year.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%DATE_19XX_YYYY%</span></code></p></td>
<td><p><em>yyyy</em></p></td>
<td colspan="2"><p>Year prior to 2000 with the same calendar
days as the current year.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%TIME_HH%</span></code></p></td>
<td><p><em>hh</em></p></td>
<td colspan="2"><p>(00-23)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%TIME_MM%</span></code></p></td>
<td><p><em>mm</em></p></td>
<td colspan="2"><p>(00-59)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%TIME_SS%</span></code></p></td>
<td><p><em>ss</em></p></td>
<td colspan="2"><p>(00-59)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%TIME_MSEC%</span></code></p></td>
<td><p><em>msec</em></p></td>
<td colspan="2"><p>(000-999)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%STATUS%</span></code></p></td>
<td colspan="3"><p>Status value from the last command executed.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%TSTATUS%</span></code></p></td>
<td colspan="3"><p>The text form of the last status value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%SIM_VERIFY%</span></code></p></td>
<td colspan="3"><p>The Verify/Verbose mode of the current <a class="reference internal" href="#do"><code class="docutils literal notranslate"><span class="pre">DO</span></code></a> command file.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%SIM_VERBOSE%</span></code></p></td>
<td colspan="3"><p>The Verify/Verbose mode of the current <a class="reference internal" href="#do"><code class="docutils literal notranslate"><span class="pre">DO</span></code></a> command file.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%SIM_QUIET%</span></code></p></td>
<td colspan="3"><p>The Quiet mode of the current Do command file.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%SIM_MESSAGE%</span></code></p></td>
<td colspan="3"><p>The message display status of the current <a class="reference internal" href="#do"><code class="docutils literal notranslate"><span class="pre">DO</span></code></a> command file.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%SIM_NAME%</span></code></p></td>
<td colspan="3"><p>The name of the computer that is being simulated.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">%SIM_BIN_NAME%</span></code></p></td>
<td colspan="3"><p>The name of the simulator program binary.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%SIM_BIN_PATH%</span></code></p></td>
<td colspan="3"><p>The full path of the simulator program binary.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="environment-variables">
<h5>4.16.8.3 Environment variables<a class="headerlink" href="#environment-variables" title="Permalink to this heading">¶</a></h5>
<p>Environment variables can be explicitly defined and subsequently available for command substitution:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">ENV</span> <span class="n">variablename</span><span class="o">=</span><span class="n">value</span>
</pre></div>
</div>
<section id="gathering-user-input-into-an-environment-variable">
<h6>4.16.8.3.1 Gathering user input into an environment variable<a class="headerlink" href="#gathering-user-input-into-an-environment-variable" title="Permalink to this heading">¶</a></h6>
<p>Input from a user can be obtained by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">ENV</span> <span class="o">-</span><span class="n">p</span> <span class="s2">&quot;Prompt String&quot;</span> <span class="n">name</span><span class="o">=</span><span class="n">default</span>
</pre></div>
</div>
<p>The <cite>-p</cite> switch indicates that the user should be prompted with the indicated prompt string and the input provided will be saved in the environment variable <code class="docutils literal notranslate"><span class="pre">name</span></code>.
If no input is provided, the value specified as <code class="docutils literal notranslate"><span class="pre">default</span></code> will be used.</p>
</section>
<section id="arithmetic-expressions">
<h6>4.16.8.3.2 Arithmetic expressions<a class="headerlink" href="#arithmetic-expressions" title="Permalink to this heading">¶</a></h6>
<p>Arithmetic computations into a variable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">ENVIRONMENT</span> <span class="o">-</span><span class="n">A</span> <span class="n">name</span><span class="o">=</span><span class="n">expression</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Expression</span></code> can contain any of these C language operators:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">(</span></code></p></td>
<td><p>Open parenthesis</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">)</span></code></p></td>
<td><p>Close parenthesis</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Subtraction</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td><p>Addition</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">*</span></code></p></td>
<td><p>Multiplication</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">/</span></code></p></td>
<td><p>Division</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%</span></code></p></td>
<td><p>Modulus</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code></p></td>
<td><p>Logical AND</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">||</span></code></p></td>
<td><p>Logical OR</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&amp;</span></code></p></td>
<td><p>Bitwise AND</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">|</span></code></p></td>
<td><p>Bitwise inclusive OR</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">^</span></code></p></td>
<td><p>Bitwise exclusive OR</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code></p></td>
<td><p>Bitwise right shift</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code></p></td>
<td><p>Bitwise left shift</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">==</span></code></p></td>
<td><p>Equality</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">!=</span></code></p></td>
<td><p>Inequality</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;=</span></code></p></td>
<td><p>Less than or equal</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;</span></code></p></td>
<td><p>Less than</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;=</span></code></p></td>
<td><p>Greater than or equal</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;</span></code></p></td>
<td><p>Greater than</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">!</span></code></p></td>
<td><p>Logical negation</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">~</span></code></p></td>
<td><p>Bitwise compliment</p></td>
</tr>
</tbody>
</table>
<p>Operator precedence is consistent with C language precedence.
Expression can contain arbitrary combinations of constant values, simulator registers and environment variables.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sim</span><span class="o">&gt;</span> <span class="n">SET</span> <span class="n">ENV</span> <span class="o">-</span><span class="n">A</span> <span class="n">A</span><span class="o">=</span><span class="mi">7</span><span class="o">+</span><span class="mi">2</span>
<span class="n">sim</span><span class="o">&gt;</span> <span class="n">ECHO</span> <span class="n">A</span><span class="o">=%</span><span class="n">A</span><span class="o">%</span>
<span class="n">A</span><span class="o">=</span><span class="mi">9</span>
<span class="n">sim</span><span class="o">&gt;</span> <span class="n">SET</span> <span class="n">ENV</span> <span class="o">-</span><span class="n">A</span> <span class="n">A</span><span class="o">=</span><span class="n">A</span><span class="o">-</span><span class="mi">1</span>
<span class="n">sim</span><span class="o">&gt;</span> <span class="n">ECHO</span> <span class="n">A</span><span class="o">=%</span><span class="n">A</span><span class="o">%</span>
<span class="n">A</span><span class="o">=</span><span class="mi">8</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="command-aliases">
<span id="id5"></span><h4>4.16.9 Command aliases<a class="headerlink" href="#command-aliases" title="Permalink to this heading">¶</a></h4>
<p>Commands can be aliases with environment variables.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sim</span><span class="o">&gt;</span> <span class="nb">set</span> <span class="n">env</span> <span class="n">echo</span><span class="o">=</span><span class="n">echof</span>
<span class="n">sim</span><span class="o">&gt;</span> <span class="n">echo</span> <span class="s2">&quot;Hello there&quot;</span>
<span class="n">Hello</span> <span class="n">there</span>
</pre></div>
</div>
</section>
</section>
<section id="executing-system-commands">
<h3>4.17 Executing system commands<a class="headerlink" href="#executing-system-commands" title="Permalink to this heading">¶</a></h3>
<p>The simulator can execute operating system commands with the <code class="docutils literal notranslate"><span class="pre">!</span></code> (spawn) command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>! &lt;host operating system command&gt;
</pre></div>
</div>
<p>If no operating system command is provided, the simulator attempts to launch the host operating system’s command shell.</p>
</section>
<section id="getting-help">
<h3>4.18 Getting help<a class="headerlink" href="#getting-help" title="Permalink to this heading">¶</a></h3>
<p id="help">The <code class="docutils literal notranslate"><span class="pre">HELP</span></code> command prints out information about a command or about all commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HELP</span>                        <span class="n">Print</span> <span class="nb">all</span> <span class="n">HELP</span> <span class="n">messages</span>
<span class="n">HELP</span> <span class="o">&lt;</span><span class="n">command</span><span class="o">&gt;</span>              <span class="n">Print</span> <span class="n">HELP</span> <span class="k">for</span> <span class="n">command</span>
<span class="n">HELP</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span>               <span class="n">Print</span> <span class="n">HELP</span> <span class="k">for</span> <span class="n">device</span>
<span class="n">HELP</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span> <span class="n">REGISTERS</span>     <span class="n">Print</span> <span class="n">HELP</span> <span class="k">for</span> <span class="n">device</span> <span class="n">register</span> <span class="n">variables</span>
<span class="n">HELP</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span> <span class="n">ATTACH</span>        <span class="n">Print</span> <span class="n">HELP</span> <span class="k">for</span> <span class="n">device</span> <span class="n">specific</span> <span class="n">attach</span>
<span class="n">HELP</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span> <span class="n">SET</span>           <span class="n">Print</span> <span class="n">HELP</span> <span class="k">for</span> <span class="n">device</span> <span class="n">specific</span> <span class="n">SET</span> <span class="n">commands</span>
<span class="n">HELP</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span> <span class="n">SHOW</span>          <span class="n">Print</span> <span class="n">HELP</span> <span class="k">for</span> <span class="n">device</span> <span class="n">specific</span> <span class="n">SHOW</span> <span class="n">commands</span>
</pre></div>
</div>
</section>
<section id="recording-simulator-activities">
<h3>4.19 Recording simulator activities<a class="headerlink" href="#recording-simulator-activities" title="Permalink to this heading">¶</a></h3>
<p>The interactions performed with the simulator (at the <code class="docutils literal notranslate"><span class="pre">sim&gt;</span></code> prompt) and the output that those interactions produce can be recorded to a log file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">LOG</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>          <span class="n">Direct</span> <span class="n">log</span> <span class="n">output</span> <span class="n">to</span> <span class="n">file</span>
<span class="n">SET</span> <span class="n">LOG</span> <span class="n">STDERR</span>              <span class="n">Direct</span> <span class="n">log</span> <span class="n">output</span> <span class="n">to</span> <span class="n">stderr</span>
<span class="n">SET</span> <span class="n">LOG</span> <span class="n">DEBUG</span>               <span class="n">Direct</span> <span class="n">log</span> <span class="n">output</span> <span class="n">to</span> <span class="n">debug</span> <span class="n">file</span>
<span class="n">SET</span> <span class="n">NOLOG</span>                   <span class="n">Disable</span> <span class="n">output</span> <span class="n">logging</span>
</pre></div>
</div>
<p>Output produced by the simulated console device will also be written to the configured log file if the console is not provided via a Telnet session (i.e., <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CONSOLE</span> <span class="pre">TELNET=port</span></code>).
The output produced by a console Telnet session can also be written to the simulator log file with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CONSOLE</span> <span class="n">TELNET</span><span class="o">=</span><span class="n">LOG</span><span class="o">=</span><span class="n">LOG</span>  <span class="n">Direct</span> <span class="n">log</span> <span class="n">output</span> <span class="n">to</span> <span class="n">log</span> <span class="n">file</span>
</pre></div>
</div>
<section id="id6">
<h4>4.19.1 Switches<a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h4>
<p>By default, log output is written at the end of the specified log file.
A new log file can be created if the <code class="docutils literal notranslate"><span class="pre">-N</span></code> switch is used on the command-line.</p>
</section>
</section>
<section id="controlling-debugging">
<h3>4.20 Controlling debugging<a class="headerlink" href="#controlling-debugging" title="Permalink to this heading">¶</a></h3>
<p>Some simulated devices may provide debug printouts to help in diagnosing complicated problems.
Debug output may be sent to a variety of places, or disabled entirely:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">DEBUG</span> <span class="n">STDOUT</span>            <span class="n">Direct</span> <span class="n">debug</span> <span class="n">output</span> <span class="n">to</span> <span class="n">stdout</span>
<span class="n">SET</span> <span class="n">DEBUG</span> <span class="n">STDERR</span>            <span class="n">Direct</span> <span class="n">debug</span> <span class="n">output</span> <span class="n">to</span> <span class="n">stderr</span>
<span class="n">SET</span> <span class="n">DEBUG</span> <span class="n">LOG</span>               <span class="n">Direct</span> <span class="n">debug</span> <span class="n">output</span> <span class="n">to</span> <span class="n">log</span> <span class="n">file</span>
<span class="n">SET</span> <span class="n">DEBUG</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>        <span class="n">Direct</span> <span class="n">debug</span> <span class="n">output</span> <span class="n">to</span> <span class="n">file</span>
<span class="n">SET</span> <span class="n">NODEBUG</span>                 <span class="n">Disable</span> <span class="n">debug</span> <span class="n">output</span>
</pre></div>
</div>
<section id="id7">
<h4>4.20.1 Switches<a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h4>
<p>Debug message output contains a timestamp which indicates the number of simulated instructions which have been executed prior to the debug event.</p>
<p>Debug message output can be enhanced to contain additional, potentially useful information.</p>
<dl class="option-list">
<dt><kbd><span class="option">-f</span></kbd></dt>
<dd><p>Suppress the internal logic which coalesces successive identical debug output lines
into one followed by an indicator of how many times the same line was output. This
mode is most appropriate when output is being displayed in real time to STDOUT or STDERR.</p>
</dd>
<dt><kbd><span class="option">-t</span></kbd></dt>
<dd><p>Cause debug output to contain a time-of-day displayed as <code class="docutils literal notranslate"><span class="pre">hh:mm:ss.msec</span></code>.</p>
</dd>
<dt><kbd><span class="option">-a</span></kbd></dt>
<dd><p>Cause debug output to contain a time of day displayed as <code class="docutils literal notranslate"><span class="pre">seconds.msec</span></code>.</p>
</dd>
<dt><kbd><span class="option">-r</span></kbd></dt>
<dd><p>Cause the time-of-day displayed due to the <code class="docutils literal notranslate"><span class="pre">-t</span></code> or <code class="docutils literal notranslate"><span class="pre">-a</span></code> switches to be relative
to the start time of debugging. If neither <code class="docutils literal notranslate"><span class="pre">-t</span></code> or <code class="docutils literal notranslate"><span class="pre">-a</span></code> is explicitly specified,
<code class="docutils literal notranslate"><span class="pre">-t</span></code> is implied.</p>
</dd>
<dt><kbd><span class="option">-p</span></kbd></dt>
<dd><p>Add the output of the PC (Program Counter) to each debug message.</p>
</dd>
<dt><kbd><span class="option">-n</span></kbd></dt>
<dd><p>Cause a new/empty file to be written to. The default is to append to an existing debug log file.</p>
</dd>
<dt><kbd><span class="option">-d</span></kbd></dt>
<dd><p>Cause data blob output to also display the data as RADIX-50 characters.</p>
</dd>
<dt><kbd><span class="option">-e</span></kbd></dt>
<dd><p>Cause data blob output to also display the data as EBCDIC characters.</p>
</dd>
</dl>
</section>
<section id="device-debug-options">
<h4>4.20.2 Device debug options<a class="headerlink" href="#device-debug-options" title="Permalink to this heading">¶</a></h4>
<p>If debug output is enabled, individual devices can be controlled with the <a class="reference internal" href="#set"><code class="docutils literal notranslate"><span class="pre">SET</span></code></a> command.
If a device has only a single debug flag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span> <span class="n">DEBUG</span>              <span class="n">Enable</span> <span class="n">device</span> <span class="n">debug</span> <span class="n">output</span>
<span class="n">SET</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span> <span class="n">NODEBUG</span>            <span class="n">Disable</span> <span class="n">device</span> <span class="n">debug</span> <span class="n">output</span>
</pre></div>
</div>
<p>If the device has individual, named debug flags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span> <span class="n">DEBUG</span>              <span class="n">Enable</span> <span class="nb">all</span> <span class="n">debug</span> <span class="n">flags</span>
<span class="n">SET</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span> <span class="n">DEBUG</span><span class="o">=</span><span class="n">n1</span><span class="p">;</span><span class="n">n2</span><span class="p">;</span><span class="o">...</span>    <span class="n">Enable</span> <span class="n">debug</span> <span class="n">flags</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="o">...</span>
<span class="n">SET</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span> <span class="n">NODEBUG</span><span class="o">=</span><span class="n">n1</span><span class="p">;</span><span class="n">n2</span><span class="p">;</span><span class="o">...</span>  <span class="n">Disable</span> <span class="n">debug</span> <span class="n">flags</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="o">...</span>
<span class="n">SET</span> <span class="o">&lt;</span><span class="n">device</span><span class="o">&gt;</span> <span class="n">NODEBUG</span>            <span class="n">Disable</span> <span class="nb">all</span> <span class="n">debug</span> <span class="n">flags</span>
</pre></div>
</div>
<p>If debug output is directed to stdout, it will be intermixed with normal simulator output.</p>
</section>
<section id="displaying-debug-settings">
<h4>4.20.3 Displaying debug settings<a class="headerlink" href="#displaying-debug-settings" title="Permalink to this heading">¶</a></h4>
<p>The current debug settings for output destination, options and device specific debug settings can be displayed with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">DEBUG</span>
</pre></div>
</div>
</section>
</section>
<section id="exiting-the-simulator">
<h3>4.21 Exiting the simulator<a class="headerlink" href="#exiting-the-simulator" title="Permalink to this heading">¶</a></h3>
<p id="bye"><span id="quit"></span><span id="exit"></span><code class="docutils literal notranslate"><span class="pre">EXIT</span></code> (synonyms <code class="docutils literal notranslate"><span class="pre">QUIT</span></code> and <code class="docutils literal notranslate"><span class="pre">BYE</span></code>) returns control to the operating system
An optional numeric exit status may be provided on the <code class="docutils literal notranslate"><span class="pre">EXIT</span></code> command line that an operating system script may act on.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EXIT</span> <span class="p">{</span><span class="n">status</span><span class="p">}</span>    <span class="n">Return</span> <span class="n">to</span> <span class="n">the</span> <span class="n">operating</span> <span class="n">system</span>
</pre></div>
</div>
</section>
<section id="manipulating-files-within-the-simulator">
<h3>4.22 Manipulating files within the simulator<a class="headerlink" href="#manipulating-files-within-the-simulator" title="Permalink to this heading">¶</a></h3>
<p>Tools to manipulate file containers and to transfer files/data into or out of a simulated environment are provided.</p>
<p>In general, these are tools natively found on the host operating system.
They are explicitly support directly from SCP to allow for platform neutral scripts that either test or build running environments for SIMH users.</p>
<section id="manipulating-file-archives">
<h4>4.22.1 Manipulating file archives<a class="headerlink" href="#manipulating-file-archives" title="Permalink to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">tar</span></code> command is provided to pack unpack archives as needed.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>tar -czf xyz.tar.gz *.dsk   <span class="c1"># Archive disk image files</span>
tar -xf xyz.tar             <span class="c1"># Extract files from an archive</span>
</pre></div>
</div>
</section>
<section id="transferring-data-from-the-web">
<h4>4.22.2 Transferring data from the web<a class="headerlink" href="#transferring-data-from-the-web" title="Permalink to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">curl</span></code> command is provided to access data across the web.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl -L https://github.com/open-simh/simh/archive/master.zip --output master.zip
</pre></div>
</div>
</section>
</section>
</section>
<section id="appendix-1-file-representations">
<h2>Appendix 1: File Representations<a class="headerlink" href="#appendix-1-file-representations" title="Permalink to this heading">¶</a></h2>
<p>All file representations are little-endian.
On big-endian hosts, the simulator automatically performs any required byte swapping.</p>
<section id="a-1-hard-disks">
<h3>A.1 Hard disks<a class="headerlink" href="#a-1-hard-disks" title="Permalink to this heading">¶</a></h3>
<p>Hard disks are represented as unstructured binary files of 16b data items for the 12b and 16b simulators, of 32b data items for the 18b, 24b, and 32b simulators, and 64b for the 36b simulators.
Device simulations which use the <code class="docutils literal notranslate"><span class="pre">sim_disk</span></code> library can also have hard disks which are Virtual Hard Disks (as described by the Microsoft Open Specification) and for Windows and Linux hosts can be raw host disks and/or CDROM devices.
Disk containers may have 512 bytes of metadata beyond the emulated capacity of the drive.
If present, the metadata describes details about the actual drive being emulated and potential additional parameters which may be useful in simulation.</p>
</section>
<section id="a-2-floppy-disks">
<h3>A.2 Floppy disks<a class="headerlink" href="#a-2-floppy-disks" title="Permalink to this heading">¶</a></h3>
<p>Floppy disks are represented as unstructured binary files of 8b data items.
They are nearly identical to the floppy disk images for Doug Jones’ PDP-8 simulator but lack the initial 256 byte header.
A utility for converting between the two formats is easily written.</p>
</section>
<section id="a-3-magnetic-tapes">
<h3>A.3 Magnetic tapes<a class="headerlink" href="#a-3-magnetic-tapes" title="Permalink to this heading">¶</a></h3>
<p>SIMH format magnetic tapes are represented as unstructured binary files of 8b data items.
Each record starts with a 32b record header, in little-endian format.
If the record header is not a special header, it is followed by n 8b bytes of data, followed by a repeat of the 32b record header.
A 1 in the high order bit of the record header indicates an error in the record.
If the byte count is odd, the record is padded to even length; the pad byte is undefined.</p>
<p>Special record headers occur only once and have no data.
The currently defined special headers are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x00000000</span>      <span class="n">File</span> <span class="n">mark</span>
<span class="mh">0xFFFFFFFF</span>      <span class="n">End</span> <span class="n">of</span> <span class="n">medium</span>
<span class="mh">0xFFFFFFFE</span>      <span class="n">Erase</span> <span class="n">gap</span>
</pre></div>
</div>
<p>Magnetic tapes are endian-independent and consistent across simulator families.
A magnetic tape produced by the Nova simulator will appear to have its 16b words byte swapped if read by the PDP-11 simulator.</p>
<p>SIMH can read and write E11-format magnetic tape images.
E11 format differs from SIMH format only for odd-length records;
the data portion of E11 records is not padded with an extra byte.</p>
<p>SIMH can read TPC-format magnetic tape images.
TPC format uses a 16b record header, with 0x0000 denoting file mark.
The record header is not repeated at the end of the record.
Odd-length records are padded with an extra byte.
Some TPC formatted tapes have an end-of-medium indicated as a record length of 0xFFFF with no data following the record length.</p>
<p>SIMH can read Pierce-format seven-track magnetic tape images.
Pierce format uses only 6 data bits, and one parity bit, in each byte.
The high order bit indicates start of record.
End-of-file is indicated by a record of one (occasionally two) bytes consisting of code 017 (octal).</p>
<p>SIMH can read and write AWS format tape images.
AWS format uses a 3 16b (little-endian) word record header which are a next record size, previous record size and a flag word.
The flag word uses value 0x40 to flag tape marks, and 0xA0 for data records.</p>
<p>SIMH can directly read from TAR files.
TAR files are read directly and presented through the tape interface as tape records of a fixed size.
The default TAR record size is 10240.
A specific record size can be specified by using the <code class="docutils literal notranslate"><span class="pre">-B</span></code> switch on the <a class="reference internal" href="#attach"><code class="docutils literal notranslate"><span class="pre">ATTACH</span></code></a> command.
Since the specified input file is merely presented as fixed sized records to the simulated system reading from a tape, other data could also be presented via this same mechanism.
For example, if a system was able to read 80 byte card images from a tape drive, a binary input file could be attached with a <code class="docutils literal notranslate"><span class="pre">-B 80</span></code> and it would be read 80 bytes at a time.</p>
<p>SIMH can present the content of local text and binary files on a pseudo tape device.
This is achieved by using one of ANSI-VMS, ANSI-RT11, ANSI-RSTS or ANSI-RSX11 tape formats.
The attach command for any ANSI format tape takes a list of file names (which may contain wildcards) and makes them available to a simulated system via the attached tape device presented as an ANSI labeled tape with each file having its attributes presented to the simulated OS.
Text files can contain LF or CRLF line endings and they will be visible to an operating system which can read an ANSI tape as normal data in the expected form.
Binary files are presented as fixed-sized 512-byte records.</p>
</section>
<section id="a-4-line-printers">
<h3>A.4 Line printers<a class="headerlink" href="#a-4-line-printers" title="Permalink to this heading">¶</a></h3>
<p>Line printer output is represented by an ASCII file of lines separated by the newline character.  Overprinting is represented by a line ending in return rather than newline.</p>
</section>
<section id="a-5-dectapes">
<h3>A.5 DECtapes<a class="headerlink" href="#a-5-dectapes" title="Permalink to this heading">¶</a></h3>
<p>DECtapes are structured as fixed length blocks.
PDP-1/4/7/9/15 DECtapes use 578 blocks of 256 32b words.
Each 32b word contains 18b (6 lines) of data.
PDP-11 DECtapes use 578 blocks of 256 16b words.
Each 16b word contains 6 lines of data, with 2b omitted.
This is compatible with native PDP-11 DECtape dump facilities, and with John Wilson’s PUTR Program.
PDP-8 DECtapes use 1474 blocks of 129 16b words.
Each 16b word contains 12b (4 lines) of data.
PDP-8 OS/8 does not use the 129th word of each block, and OS/8 DECtape dumps contain only 128 words per block.
A utility, <code class="docutils literal notranslate"><span class="pre">DTOS8CVT.C</span></code>, is provided to convert OS/8 DECtape dumps to simulator format.</p>
<p>A known issue in DECtape format is that when a block is recorded in one direction and read in the other, the bits in a word are scrambled (to the complement obverse).
The PDP-11 deals with this problem by performing an automatic complement obverse on reverse writes and reads.
The other systems leave this problem to software.</p>
<p>The simulator represents this difference as follows.
On the PDP-11, all data is represented in normal form.
Data reads and writes are not direction sensitive; read all and write all are direction sensitive.
Real DECtapes that are read forward will generate images with the correct representation of the data.</p>
<p>On the other systems, forward write creates data in normal form, while reverse write creates data in complement obverse form.
Forward read (and read all) performs no transformations, while reverse read (and read all) changes data to the complement obverse.
Real DECtapes that are read forward will generate data in normal form for blocks written forward, and complement obverse data for blocks written in reverse, corresponding to the simulator format.</p>
</section>
</section>
<section id="appendix-2-debug-status">
<h2>Appendix 2: Debug status<a class="headerlink" href="#appendix-2-debug-status" title="Permalink to this heading">¶</a></h2>
<p>The debug status of each simulated CPU and device is as follows:</p>
<aside class="topic">
<p class="topic-title">Legend</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Y</p></td>
<td><p>Runs operating system or sample program</p></td>
</tr>
<tr class="row-even"><td><p>D</p></td>
<td><p>Runs diagnostics</p></td>
</tr>
<tr class="row-odd"><td><p>H</p></td>
<td><p>Runs hand-generated test cases</p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>Untested</p></td>
</tr>
<tr class="row-odd"><td><p>—</p></td>
<td><p>Not applicable</p></td>
</tr>
</tbody>
</table>
</aside>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Device</p></th>
<th class="head" colspan="18"><p>System</p></th>
</tr>
<tr class="row-even"><th class="head"><p></p></th>
<th class="head"><p>PDP-8</p></th>
<th class="head"><p>PDP-11</p></th>
<th class="head"><p>Nova</p></th>
<th class="head"><p>PDP-1</p></th>
<th class="head"><p>18b PDP</p></th>
<th class="head"><p>1401</p></th>
<th class="head"><p>2100</p></th>
<th class="head"><p>PDP-10</p></th>
<th class="head"><p>H316</p></th>
<th class="head"><p>MicroVAX 3900</p></th>
<th class="head"><p>GRI</p></th>
<th class="head"><p>1620</p></th>
<th class="head"><p>i16</p></th>
<th class="head"><p>i32</p></th>
<th class="head"><p>SDS940</p></th>
<th class="head"><p>LGP-30</p></th>
<th class="head"><p>3000</p></th>
<th class="head"><p>780</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>CPU</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>Y</p></td>
<td><p>D</p></td>
<td><p>Y</p></td>
<td><p>D</p></td>
<td><p>H</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
</tr>
<tr class="row-even"><td><p>FPU</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>D</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
</tr>
<tr class="row-odd"><td><p>EIS/CIS</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
</tr>
<tr class="row-even"><td><p>Console</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>Y</p></td>
<td><p>D</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>H</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
</tr>
<tr class="row-odd"><td><p>Paper tape</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>N</p></td>
<td><p>H</p></td>
<td><p>—</p></td>
<td><p>H</p></td>
<td><p>Y</p></td>
<td><p>D</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>H</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>Card reader</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
</tr>
<tr class="row-odd"><td><p>Line printer</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>D</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
</tr>
<tr class="row-even"><td><p>Clock</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>—</p></td>
<td><p>D</p></td>
<td><p>Y</p></td>
<td><p>N</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
</tr>
<tr class="row-odd"><td><p>Extra terminal</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>H</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
</tr>
<tr class="row-even"><td><p>Hard disk</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>H</p></td>
<td><p>D</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
</tr>
<tr class="row-odd"><td><p>Fixed disk</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>H</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>H</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>Floppy disk</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>D</p></td>
<td><p>D</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
</tr>
<tr class="row-odd"><td><p>Drum</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>H</p></td>
<td><p>H</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>H</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>DECtape</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>H</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>Mag tape</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>Y</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>D</p></td>
<td><p>Y</p></td>
<td><p>H</p></td>
<td><p>—</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
</tr>
</tbody>
</table>
</section>
<section id="revision-history-covering-rev-2-0-to-rev-3-5">
<h2>Revision history (covering Rev 2.0 to Rev 3.5)<a class="headerlink" href="#revision-history-covering-rev-2-0-to-rev-3-5" title="Permalink to this heading">¶</a></h2>
<p>Starting with Rev 2.7, detailed revision histories can be found in file <code class="docutils literal notranslate"><span class="pre">sim_rev.h</span></code>.</p>
<dl class="simple">
<dt>Rev 3.5, Sep, 05</dt><dd><ul class="simple">
<li><p>Overhauled sources for readability</p></li>
<li><p>Added VAX-11/780</p></li>
</ul>
</dd>
<dt>Rev 3.4, May, 05</dt><dd><ul class="simple">
<li><p>Revised memory interaction model</p></li>
</ul>
</dd>
<dt>Rev 3.3, Nov, 04</dt><dd><ul class="simple">
<li><p>Added PDP-11/VAX DHQ11 support</p></li>
<li><p>Added PDP-11/VAX TM02/TM03 support</p></li>
<li><p>Added PDP-11 model-specific emulation support</p></li>
<li><p>Added full VAX support</p></li>
<li><p>Replaced SET ONLINE/OFFLINE with SET ENABLED/DISABLED</p></li>
</ul>
</dd>
<dt>Rev 3.2, Apr, 04</dt><dd><ul class="simple">
<li><p>Added LGP-30/LGP-21 simulator</p></li>
<li><p>Added global SHOW modifier capability</p></li>
<li><p>Added global SET DEBUG modifier</p></li>
<li><p>Added global SHOW DEBUG,RADIX,MODIFIERS,NAME modifiers</p></li>
<li><p>Added VAX extended physical memory support (Mark Pizzolato)</p></li>
<li><p>Added VAX RXV21 support</p></li>
<li><p>Revised terminal multiplexer library to support variable number of lines per multiplexer</p></li>
<li><p>Added PDP-15 LT19 support (1-16 terminals)</p></li>
</ul>
</dd>
<dt>Rev 3.1, Dec, 03</dt><dd><ul class="simple">
<li><p>Added Alpha/VMS, FreeBSD, macOS Ethernet library support</p></li>
<li><p>Added Eclipse floating point and interval timer support (from Charles Owen)</p></li>
<li><p>Added PDP-1 parallel drum support</p></li>
<li><p>Added PDP-8 TSC8-75 and TD8E support</p></li>
<li><p>Added H316/516 DMA/DMC, magtape, fixed head disk support</p></li>
<li><p>Added PDP-8, PDP-15, 32b Interdata instruction history support</p></li>
</ul>
</dd>
<dt>Rev 3.0, May, 03</dt><dd><ul class="simple">
<li><p>Added logical name support</p></li>
<li><p>Added instruction history support</p></li>
<li><p>Added multiple tape format support</p></li>
<li><p>Added 64b address support</p></li>
<li><p>Added PDP-4 EAE support</p></li>
<li><p>Added PDP-15 FP15 and XVM support</p></li>
</ul>
</dd>
<dt>Rev 2.10, Nov, 02</dt><dd><ul class="simple">
<li><p>Added Telnet console capability, removed VT emulation</p></li>
<li><p>Added DO with substitutable arguments (from Brian Knittel)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">.ini</span></code> initialization file (from Hans Pufal)</p></li>
<li><p>Added quiet mode (from Brian Knittel)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">!</span></code> command (from Mark Pizzolato)</p></li>
<li><p>Added Telnet BREAK support (from Mark Pizzolato)</p></li>
<li><p>Added device enable/disable support</p></li>
<li><p>Added optional simulator hooks for input, output, commands</p></li>
<li><p>Added breakpoint actions</p></li>
<li><p>Added magnetic tape simulation library</p></li>
<li><p>Added PDP-11 KW11P programmable clock</p></li>
<li><p>Added PDP-11 RK611/RK06/RK07 disk</p></li>
<li><p>Added PDP-11/VAX TMSCP tape</p></li>
<li><p>Added PDP-11/VAX DELQA Ethernet support (from David Hittner)</p></li>
<li><p>Added PDP-11/PDP-10 RX211/RX02 floppy disk</p></li>
<li><p>Added PDP-11/VAX autoconfiguration support</p></li>
<li><p>Added PDP-10/PDP-11/VAX variable vector support</p></li>
<li><p>Added PDP-1 DECtape</p></li>
<li><p>Added PDP-1, PDP-4 Type 24 serial drum support</p></li>
<li><p>Added PDP-8 RX28 support</p></li>
<li><p>Added PDP-9 RB09 fixed head disk, LP09 line printer</p></li>
<li><p>Added HP2100 12845A line printer</p></li>
<li><p>Added HP2100 13183 magtape support</p></li>
<li><p>Added HP2100 boot ROM support</p></li>
<li><p>Added HP2100 interprocessor link support</p></li>
<li><p>Added IBM 1620</p></li>
<li><p>Added SDS 940</p></li>
<li><p>Added Interdata 16b and 32b systems</p></li>
<li><p>Added 16b DECtape file format support</p></li>
<li><p>Added support for statically buffered devices</p></li>
<li><p>Added magnetic tape end of medium support</p></li>
<li><p>Added 50/60Hz support to line frequency clocks</p></li>
<li><p>Added 7B/8B support to terminals and multiplexers</p></li>
<li><p>Added BREAK support to terminals and multiplexers</p></li>
</ul>
</dd>
<dt>Rev 2.9, Jan, 02</dt><dd><ul class="simple">
<li><p>Added circular register arrays</p></li>
<li><p>Replaced ENABLE/DISABLE with SET ENABLED/DISABLED</p></li>
<li><p>Replaced LOG/NOLOG with SET LOG/NOLOG</p></li>
<li><p>Generalized the timer calibration package</p></li>
<li><p>Added additional routines to the multiplexer library</p></li>
<li><p>Added SET DISCONNECT, SHOW STATISTICS commands to multiplexers</p></li>
<li><p>Re-implemented PDP-8 TTX as a unified multiplexer</p></li>
<li><p>Implemented a PC queue in most simulators</p></li>
<li><p>Added VAX simulator</p></li>
<li><p>Added GRI-909 simulator</p></li>
<li><p>Added Peter Schorn’s MITS 8080/Z80 simulator</p></li>
<li><p>Added Brian Knittel’s IBM 1130 simulator</p></li>
<li><p>Added HP2100 DQ, DR, MS, MUX devices</p></li>
<li><p>Added SET VT/NOVT commands</p></li>
</ul>
</dd>
<dt>Rev 2.8, Dec, 01</dt><dd><ul class="simple">
<li><p>Added DO command</p></li>
<li><p>Added general breakpoint facility</p></li>
<li><p>Added extended SET/SHOW capability</p></li>
<li><p>Replaced ADD/REMOVE with SET ONLINE/OFFLINE</p></li>
<li><p>Added global register name recognition</p></li>
<li><p>Added unit-based register arrays</p></li>
<li><p>Added Charles Owen’s System 3 simulator</p></li>
<li><p>Added PDP-11 I/O bus map</p></li>
<li><p>Added PDP-11/VAX RQDX3</p></li>
<li><p>Added PDP-8 RL8A</p></li>
<li><p>Revised 18b PDP interrupt structure</p></li>
<li><p>Revised directory and documentation structure</p></li>
<li><p>Added support for MINGW environment</p></li>
</ul>
</dd>
<dt>Rev 2.7, Sep, 01</dt><dd><ul class="simple">
<li><p>Added DZ11 (from Thord Nilson and Art Krewat) to PDP-11, PDP-10</p></li>
<li><p>Added additional terminals to PDP-8</p></li>
<li><p>Added TSS/8 packed character format to PDP-8</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">sim_sock</span></code> and <code class="docutils literal notranslate"><span class="pre">sim_tmxr</span></code> libraries</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">sim_qcount</span></code> and simulator exit detach all facilities</p></li>
<li><p>Added Macintosh <code class="docutils literal notranslate"><span class="pre">sim_sock</span></code> support (from Peter Schorn)</p></li>
<li><p>Added simulator revision level, SHOW version</p></li>
<li><p>Changed <code class="docutils literal notranslate"><span class="pre">int64</span></code>/<code class="docutils literal notranslate"><span class="pre">uint64</span></code> to <code class="docutils literal notranslate"><span class="pre">t_int64</span></code>/<code class="docutils literal notranslate"><span class="pre">t_uint64</span></code> for Windows</p></li>
<li><p>Fixed bug in PDP-11 interrupt acknowledge</p></li>
<li><p>Fixed bugs in PDP-11 TS NXM check, boot code, error status; added extended characteristics and status</p></li>
<li><p>Fixed bug in PDP-11 TC stop, stop all functions</p></li>
<li><p>Fixed receive interrupt while disconnected bug in DZ11</p></li>
<li><p>Fixed multi-unit operation bugs, interrupt bugs in PDP-11</p></li>
<li><p>RP, PDP-10 RP, PDP-10 TU</p></li>
<li><p>Fixed carrier detect bug in PDP-11, PDP-10 DZ</p></li>
<li><p>Fixed bug in PDP-8 reset routine</p></li>
<li><p>Fixed conditional in PDP-18b CPU</p></li>
<li><p>Fixed SC = 0 bug in PDP-18b EAE</p></li>
<li><p>Fixed bug in PDP-7 LPT</p></li>
<li><p>Upgraded Nova second terminal to use sim_tmxr</p></li>
<li><p>Upgraded PDP-18b second terminal to use sim_tmxr</p></li>
<li><p>Upgraded PDP-11 LTC to full KW11-L</p></li>
<li><p>Removed hack multiple console support</p></li>
</ul>
</dd>
<dt>Rev 2.6b, Aug, 01</dt><dd><ul class="simple">
<li><p>Added H316/516 simulator</p></li>
<li><p>Added Macintosh support from Louis Chrétien, Peter Schorn, and Ben Supnik</p></li>
<li><p>Added bad block table option to PDP-11 RL, RP</p></li>
<li><p>Removed register in declarations</p></li>
<li><p>Fixed bugs found by Peter Schorn</p>
<ul>
<li><p>endian error in PDP-10, PDP-11 RP</p></li>
<li><p>space reverse error in PDP-11 TS</p></li>
<li><p>symbolic input in 1401</p></li>
</ul>
</li>
<li><p>Fixed bug in PDP-1 RIM loader found by Derek Peschel</p></li>
<li><p>Fixed bug in Nova fixed head disk</p></li>
</ul>
</dd>
<dt>Rev 2.6a, Jun, 01</dt><dd><ul class="simple">
<li><p>Added PDP-9, PDP-15 API option</p></li>
<li><p>Added PDP-9, PDP-15 second terminal</p></li>
<li><p>Added PDP-10 option for TOPS-20 V4.1 bug fix</p></li>
<li><p>Added PDP-10 FE CTRL-C option for Windows</p></li>
<li><p>Added console logging</p></li>
<li><p>Added multiple console support</p></li>
<li><p>Added comment recognition</p></li>
<li><p>Increased size of string buffers for long path names</p></li>
<li><p>Fixed bug in big-endian I/O found by Dave Conroy</p></li>
<li><p>Fixed DECtape reset in PDP-8, PDP-11, PDP-9/15</p></li>
<li><p>Fixed RIM loader PC handling in PDP-9/15</p></li>
<li><p>Fixed indirect pointers in PDP-10 paging</p></li>
<li><p>Fixed SSC handling in PDP-10 TM02/TU45</p></li>
<li><p>Fixed JMS to non-existent memory in PDP-8</p></li>
<li><p>Fixed error handling on command file</p></li>
</ul>
</dd>
<dt>Rev 2.6, May, 01</dt><dd><ul class="simple">
<li><p>Added ENABLE/DISABLE devices</p></li>
<li><p>Added SHOW DEVICES</p></li>
<li><p>Added examination/modification of register arrays</p></li>
<li><p>Added PDP-10 simulator</p></li>
<li><p>Added clock autocalibration to SCP, Nova, PDP-8, PDP-11, PDP-18b</p></li>
<li><p>Added PDP-8, PDP-11, PDP-9/15 DECtape</p></li>
<li><p>Added PDP-8 DF32</p></li>
<li><p>Added 4k Disk Monitor boot to PDP-8 RF08 and DF32</p></li>
<li><p>Added PDP-4/7 funny format loader support</p></li>
<li><p>Added extension handling to the PDP-8 and -9/15 loaders</p></li>
<li><p>Added PDP-11 TS11/TSV05</p></li>
<li><p>Added integer interval timer to SCP</p></li>
<li><p>Added filename argument to LOAD/DUMP</p></li>
<li><p>Revised magnetic tape and DECtape bootstraps to rewind before first instruction</p></li>
<li><p>Fixed 3 cycle data break sequence in PDP-8 RF</p></li>
<li><p>Fixed 3 cycle data break sequence in 18b PDP LP, MT, RF</p></li>
<li><p>Fixed CS1.TRE write, CS2.MXF,UPE write, and CS2.UAI in PDP-11 RP</p></li>
<li><p>Fixed 4M memory size definition in PDP-11</p></li>
<li><p>Fixed attach bug in RESTORE</p></li>
<li><p>Fixed detach bug for buffered devices</p></li>
<li><p>Updated copyright notices, fixed comments</p></li>
</ul>
</dd>
<dt>Rev 2.5a, Dec, 00</dt><dd><ul class="simple">
<li><p>Added CMD flop to HP paper tape and line printer</p></li>
<li><p>Added status input for HP paper tape punch and TTY</p></li>
<li><p>Added Charles Owen’s 1401 mag tape boot routine</p></li>
<li><p>Added Bruce Ray’s Nova plotter and second terminal modules</p></li>
<li><p>Added Charles Owen’s Eclipse CPU support</p></li>
<li><p>Added PDP-9/PDP-15 RIM/BIN loader support</p></li>
<li><p>Added PDP-9/PDP-15 extend/bank initial state registers</p></li>
<li><p>Added PDP-9/PDP-15 half/full duplex support</p></li>
<li><p>Moved software documentation to a separate file</p></li>
<li><p>Fixed SCP handling of devices without units</p></li>
<li><p>Fixed FLG, FBF initialization in many HP peripherals</p></li>
<li><p>Fixed 1401 bugs found by Charles Owen</p>
<ul>
<li><p>4, 7 char NOPs are legal</p></li>
<li><p>1 char B is chained BCE</p></li>
<li><p>MCE moves whole character, not digit, after first</p></li>
</ul>
</li>
<li><p>Fixed Nova bugs found by Bruce Ray</p>
<ul>
<li><p>traps implemented on Nova 3 as well as Nova 4</p></li>
<li><p>DIV and DIVS 0/0 set carry</p></li>
<li><p>RETN sets SP from FP at outset</p></li>
<li><p>IORST does not clear carry</p></li>
<li><p>Nova 4 implements two undocumented instructions</p></li>
</ul>
</li>
<li><p>Fixed bugs in 18b PDP’s</p>
<ul>
<li><p>XCT indirect address calculation</p></li>
<li><p>missing index instructions in PDP-15</p></li>
<li><p>bank mode handling in PDP-15</p></li>
</ul>
</li>
</ul>
</dd>
<dt>Rev 2.5, Nov, 00</dt><dd><ul class="simple">
<li><p>Removed Digital and Compaq from copyrights, as authorized by Compaq Sr VP Bill Strecker</p></li>
<li><p>Revised save/restore format for 64b simulators</p></li>
<li><p>Added examine to file</p></li>
<li><p>Added unsigned integer data types to sim_defs</p></li>
<li><p>Added Nova 3 and Nova 4 instructions to Nova CPU</p></li>
<li><p>Added HP2100</p></li>
<li><p>Fixed indirect loop through autoinc/dec in Nova CPU</p></li>
<li><p>Fixed MDV enabled test in Nova CPU</p></li>
</ul>
</dd>
<dt>Rev 2.4, Jan, 99</dt><dd><ul class="simple">
<li><p>Placed all sources under X11-like open source license</p></li>
<li><p>Added DUMP command, revised sim_load interface</p></li>
<li><p>Added SHOW MODIFIERS command</p></li>
<li><p>Revised magnetic tape format to include record error flag</p></li>
<li><p>Fixed 64b problems in SCP</p></li>
<li><p>Fixed big endian problem in PDP-11 bad block routine</p></li>
<li><p>Fixed interrupt on error bug in PDP-11 RP/RM disks</p></li>
<li><p>Fixed ROL/ROR inversion in PDP-11 symbolic routines</p></li>
</ul>
</dd>
<dt>Rev 2.3d, Sep, 98</dt><dd><ul class="simple">
<li><p>Added BeOS support</p></li>
<li><p>Added radix commands and switches</p></li>
<li><p>Added PDP-11 CIS support</p></li>
<li><p>Added RT11 V5.3 to distribution kits</p></li>
<li><p>Fixed “shift 32” bugs in SCP, PDP-11 floating point</p></li>
<li><p>Fixed bug in PDP-11 paper tape reader</p></li>
<li><p>Fixed bug in <code class="docutils literal notranslate"><span class="pre">^D</span></code> handling</p></li>
</ul>
</dd>
<dt>Rev 2.3c, May, 98</dt><dd><ul class="simple">
<li><p>Fixed bug in PDP-11 DIV overflow check</p></li>
<li><p>Fixed bugs in PDP-11 magnetic tape bootstrap</p></li>
<li><p>Fixed bug in PDP-11 magnetic tape unit select</p></li>
<li><p>Replaced UNIX V7 disk images</p></li>
</ul>
</dd>
<dt>Rev 2.3b, May, 98</dt><dd><ul class="simple">
<li><p>Added switch recognition to all simulator commands</p></li>
<li><p>Added RIM loader to PDP-8 paper tape reader and loader</p></li>
<li><p>Added second block bootstrap to PDP-11 magnetic tape</p></li>
<li><p>Fixed bug in PDP-8 RF bootstrap</p></li>
<li><p>Fixed bug in PDP-11 symbolic display</p></li>
<li><p>Fixed bugs in PDP-11 floating point (LDEXP, STEXP, MODf, STCfi, overflow handling)</p></li>
</ul>
</dd>
<dt>Rev 2.3a, Nov, 97</dt><dd><ul class="simple">
<li><p>Added search capability</p></li>
<li><p>Added bad block table command to PDP-11 disks</p></li>
<li><p>Added bootstrap to PDP-11 magnetic tape</p></li>
<li><p>Added additional Nova moving head disks</p></li>
<li><p>Added RT-11 sample software</p></li>
<li><p>Fixed bugs in PDP-11 RM/RP disks</p></li>
<li><p>Fixed bugs in Nova moving head disks</p></li>
<li><p>Fixed endian dependence in 18b PDP RIM loader</p></li>
</ul>
</dd>
<dt>Rev 2.3, Mar, 97</dt><dd><ul class="simple">
<li><p>Added PDP-11 RP</p></li>
<li><p>Added PDP-1</p></li>
<li><p>Changed UNIX terminal I/O to TERMIOS</p></li>
<li><p>Changed magnetic tape format to double ended</p></li>
<li><p>Changed PDP-8 current page mnemonic from T to C</p></li>
<li><p>Added endian independent I/O routines</p></li>
<li><p>Added precise integer data types</p></li>
<li><p>Fixed bug in <code class="docutils literal notranslate"><span class="pre">sim_poll_kbd</span></code></p></li>
<li><p>Fixed bug in PDP-8 binary loader</p></li>
<li><p>Fixed bugs in TM11 magnetic tape</p></li>
<li><p>Fixed bug in RX11 bootstrap</p></li>
<li><p>Fixed bug in 18b PDP ADD</p></li>
<li><p>Fixed bug in 18b PDP paper tape reader</p></li>
<li><p>Fixed bug in PDP-4 console</p></li>
<li><p>Fixed bug in PDP-4, 7 line printer</p></li>
</ul>
</dd>
<dt>Rev 2.2d, Dec, 96</dt><dd><ul class="simple">
<li><p>Added ADD/REMOVE commands</p></li>
<li><p>Added unit enable/disable support to device simulators</p></li>
<li><p>Added features for IBM 1401 project</p></li>
<li><p>Added switch recognition for symbolic input</p></li>
<li><p>Fixed bug in variable length IEXAMINE</p></li>
<li><p>Fixed LCD bug in RX8E</p></li>
<li><p>Initial changes for Win32</p></li>
<li><p>Added IBM 1401</p></li>
</ul>
</dd>
<dt>Rev 2.2b, Apr, 96</dt><dd><ul class="simple">
<li><p>Added PDP-11 dynamic memory size support</p></li>
</ul>
</dd>
<dt>Rev 2.2a, Feb, 96</dt><dd><ul class="simple">
<li><p>New endian independent magnetic tape format</p></li>
</ul>
</dd>
<dt>Rev 2.2 Jan, 96</dt><dd><ul class="simple">
<li><p>Added register buffers for save/restore</p></li>
<li><p>Added 18b PDP’s</p></li>
<li><p>Guaranteed TTI, CLK times are non-zero</p></li>
<li><p>Fixed breakpoint/RUN interaction bug</p></li>
<li><p>Fixed magnetic tape backspace to EOF bug</p></li>
<li><p>Fixed ISZ/DCA inversion in PDP-8 symbol table</p></li>
<li><p>Fixed sixbit conversion in PDP-8 examine/deposit</p></li>
<li><p>Fixed origin increment bug in PDP-11 binary loader</p></li>
<li><p>Fixed GCC longjmp optimization bug in PDP-11 CPU</p></li>
<li><p>Fixed unit number calculation bug in SCP and in Nova, PDP-11, 18b PDP moving head disks</p></li>
</ul>
</dd>
<dt>Rev 2.1 Dec, 95</dt><dd><ul class="simple">
<li><p>Fixed PTR bug (setting done on EOF) in PDP-8, Nova</p></li>
<li><p>Fixed RX bug (setting error on INIT if drive 1 is not attached) in PDP-8, PDP-11</p></li>
<li><p>Fixed RF treatment of photocell flag in PDP-8</p></li>
<li><p>Fixed autosize bug (always chose smallest disk if new file) in PDP-11, Nova</p></li>
<li><p>Fixed not attached bug (reported as not attachable) in most mass storage devices</p></li>
<li><p>Fixed Nova boot ROMs</p></li>
<li><p>Fixed bug in RESTORE (didn’t requeue if delay = 0)</p></li>
<li><p>Fixed bug in RESTORE (clobbered device position)</p></li>
<li><p>Declared static constant arrays as static const</p></li>
<li><p>Added PDP-8, Nova magnetic tape simulators</p></li>
<li><p>Added Dasher mode to Nova terminal simulator</p></li>
<li><p>Added Linux support</p></li>
</ul>
</dd>
<dt>Rev 2.0 May, 95</dt><dd><ul class="simple">
<li><p>Added symbolic assembly/disassembly</p></li>
</ul>
</dd>
</dl>
</section>
<section id="acknowledgements">
<h2>Acknowledgements<a class="headerlink" href="#acknowledgements" title="Permalink to this heading">¶</a></h2>
<p>SIMH would not have been possible without help from around the world.
I would like to acknowledge the help of the following people,
all of whom donated their time and talent to this “computer archaeology” project:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Bill Ackerman</p></td>
<td><p>PDP-1 consulting</p></td>
</tr>
<tr class="row-even"><td><p>Alan Bawden</p></td>
<td><p>ITS consulting</p></td>
</tr>
<tr class="row-odd"><td><p>Winfried Bergmann</p></td>
<td><p>Linux port testing</p></td>
</tr>
<tr class="row-even"><td><p>Phil Budne</p></td>
<td><p>Solaris port testing</p></td>
</tr>
<tr class="row-odd"><td><p>Max Burnet</p></td>
<td><p>PDP information, documentation, and software</p></td>
</tr>
<tr class="row-even"><td><p>J. David Bryan</p></td>
<td><p>HP Simulators</p></td>
</tr>
<tr class="row-odd"><td><p>Robert Alan Byer</p></td>
<td><p>VMS socket support and testing</p></td>
</tr>
<tr class="row-even"><td><p>James Carpenter</p></td>
<td><p>Linux port testing</p></td>
</tr>
<tr class="row-odd"><td><p>Chip Charlot</p></td>
<td><p>PDP-11 RT-11, RSTS/E, RSX-11M legal permissions</p></td>
</tr>
<tr class="row-even"><td><p>Louis Chrétien</p></td>
<td><p>Macintosh porting</p></td>
</tr>
<tr class="row-odd"><td><p>Dave Conroy</p></td>
<td><p>HP 21xx documentation, PDP-10, PDP-18b debugging</p></td>
</tr>
<tr class="row-even"><td><p>L Peter Deutsch</p></td>
<td><p>PDP-1 LISP software</p></td>
</tr>
<tr class="row-odd"><td><p>Ethan Dicks</p></td>
<td><p>PDP-11 2.9 BSD debugging</p></td>
</tr>
<tr class="row-even"><td><p>John Dundas</p></td>
<td><p>PDP-11 CPU debugging, programmable clock simulator</p></td>
</tr>
<tr class="row-odd"><td><p>Jonathan Engdahl</p></td>
<td><p>PDP-11 device debugging</p></td>
</tr>
<tr class="row-even"><td><p>Carl Friend</p></td>
<td><p>Nova and Interdata documentation, and RDOS software</p></td>
</tr>
<tr class="row-odd"><td><p>Megan Gentry</p></td>
<td><p>PDP-11 integer debugging</p></td>
</tr>
<tr class="row-even"><td><p>Dave Gesswein</p></td>
<td><p>PDP-8 and PDP-9.15 documentation, PDP-8 DECtape, disk, and paper-tape images, PDP-9/15 DECtape images</p></td>
</tr>
<tr class="row-odd"><td><p>Dick Greeley</p></td>
<td><p>PDP-8 OS/8 and PDP-10 TOPS-10/20 legal permissions</p></td>
</tr>
<tr class="row-even"><td><p>Gordon Greene</p></td>
<td><p>PDP-1 LISP machine readable source</p></td>
</tr>
<tr class="row-odd"><td><p>Lynne Grettum</p></td>
<td><p>PDP-11 RT-11, RSTS/E, RSX-11M legal permissions</p></td>
</tr>
<tr class="row-even"><td><p>Franc Grootjen</p></td>
<td><p>PDP-11 2.11 BSD debugging</p></td>
</tr>
<tr class="row-odd"><td><p>Doug Gwyn</p></td>
<td><p>Portability debugging</p></td>
</tr>
<tr class="row-even"><td><p>Kevin Handy</p></td>
<td><p>TS11/TSV05 documentation, make file</p></td>
</tr>
<tr class="row-odd"><td><p>Ken Harrenstein</p></td>
<td><p>KLH PDP-10 simulator</p></td>
</tr>
<tr class="row-even"><td><p>Bill Haygood</p></td>
<td><p>PDP-8 information, simulator, and software</p></td>
</tr>
<tr class="row-odd"><td><p>Wolfgang Helbig</p></td>
<td><p>DZ11 implementation</p></td>
</tr>
<tr class="row-even"><td><p>Mark Hittinger</p></td>
<td><p>PDP-10 debugging</p></td>
</tr>
<tr class="row-odd"><td><p>Dave Hittner</p></td>
<td><p>SCP debugging, DEQNA emulator and Ethernet library</p></td>
</tr>
<tr class="row-even"><td><p>Sellam Ismail</p></td>
<td><p>GRI-909 documentation</p></td>
</tr>
<tr class="row-odd"><td><p>Jay Jaeger</p></td>
<td><p>IBM 1401 consulting</p></td>
</tr>
<tr class="row-even"><td><p>Doug Jones</p></td>
<td><p>PDP-8 information, simulator, and software</p></td>
</tr>
<tr class="row-odd"><td><p>Brian Knittel</p></td>
<td><p>IBM 1130 simulator, SCP extensions for GUI support</p></td>
</tr>
<tr class="row-even"><td><p>Al Kossow</p></td>
<td><p>HP 21xx, Varian 620, TI 990, Interdata, DEC documentation and software</p></td>
</tr>
<tr class="row-odd"><td><p>Arthur Krewat</p></td>
<td><p>DZ11 changes for the PDP-10</p></td>
</tr>
<tr class="row-even"><td><p>Mirian Crzig Lennox</p></td>
<td><p>ITS and DZ11 debugging</p></td>
</tr>
<tr class="row-odd"><td><p>Don Lewine</p></td>
<td><p>Nova documentation and legal permissions</p></td>
</tr>
<tr class="row-even"><td><p>Tim Litt</p></td>
<td><p>PDP-10 hardware documentation and schematics, tape images, and software sources</p></td>
</tr>
<tr class="row-odd"><td><p>Tim Markson</p></td>
<td><p>DZ11 debugging</p></td>
</tr>
<tr class="row-even"><td><p>Bill McDermith</p></td>
<td><p>HP 2100 debugging, 12565A simulator</p></td>
</tr>
<tr class="row-odd"><td><p>Scott McGregor</p></td>
<td><p>PDP-11 UNIX legal permissions</p></td>
</tr>
<tr class="row-even"><td><p>Jeff Moffatt</p></td>
<td><p>HP 2100 information, documentation, and software</p></td>
</tr>
<tr class="row-odd"><td><p>Alec Muffett</p></td>
<td><p>Solaris port testing</p></td>
</tr>
<tr class="row-even"><td><p>Terry Newton</p></td>
<td><p>HP 21MX debugging</p></td>
</tr>
<tr class="row-odd"><td><p>Thord Nilson</p></td>
<td><p>DZ11 implementation</p></td>
</tr>
<tr class="row-even"><td><p>Charles Owen</p></td>
<td><p>Nova moving head disk debugging, Altair simulator, Eclipse simulator, IBM System 3 simulator, IBM 1401 diagnostics, debugging, and magtape boot</p></td>
</tr>
<tr class="row-odd"><td><p>Sergio Pedraja</p></td>
<td><p>MinGW environment debugging</p></td>
</tr>
<tr class="row-even"><td><p>Derek Peschel</p></td>
<td><p>PDP-10 debugging</p></td>
</tr>
<tr class="row-odd"><td><p>Paul Pierce</p></td>
<td><p>IBM 1401 diagnostics, media recovery</p></td>
</tr>
<tr class="row-even"><td><p>Mark Pizzolato</p></td>
<td><p>SCP, Ethernet, and VAX simulator improvements</p></td>
</tr>
<tr class="row-odd"><td><p>Hans Pufal</p></td>
<td><p>PDP-10 debugging, PDP-15 bootstrap, DOS-15 recovery, DOS-15 documentation, PDP-9 restoration</p></td>
</tr>
<tr class="row-even"><td><p>Bruce Ray</p></td>
<td><p>Software, documentation, bug fixes, and new devices for the Nova, OS/2 porting</p></td>
</tr>
<tr class="row-odd"><td><p>Craig St Clair</p></td>
<td><p>DEC documentation</p></td>
</tr>
<tr class="row-even"><td><p>Richard Schedler</p></td>
<td><p>Public repository maintenance</p></td>
</tr>
<tr class="row-odd"><td><p>Peter Schorn</p></td>
<td><p>Macintosh porting</p></td>
</tr>
<tr class="row-even"><td><p>Stephen Schultz</p></td>
<td><p>PDP-11 2.11 BSD debugging</p></td>
</tr>
<tr class="row-odd"><td><p>Olaf Seibert</p></td>
<td><p>NetBSD port testing</p></td>
</tr>
<tr class="row-even"><td><p>Brian &amp; Barry Silverman</p></td>
<td><p>PDP-1 simulator and software</p></td>
</tr>
<tr class="row-odd"><td><p>Tim Shoppa</p></td>
<td><p>Nova documentation, RDOS software, PDP-10 and PDP-11 software archive, hosting for SIMH site</p></td>
</tr>
<tr class="row-even"><td><p>Van Snyder</p></td>
<td><p>IBM 1401 zero footprint bootstraps</p></td>
</tr>
<tr class="row-odd"><td><p>Michael Somos</p></td>
<td><p>PDP-1 debugging</p></td>
</tr>
<tr class="row-even"><td><p>Hans-Michael Stahl</p></td>
<td><p>OS/2 port testing, TERMIOS implementation</p></td>
</tr>
<tr class="row-odd"><td><p>Tim Stark</p></td>
<td><p>TS10 PDP-10 simulator</p></td>
</tr>
<tr class="row-even"><td><p>Larry Stewart</p></td>
<td><p>Initial suggestion for the project</p></td>
</tr>
<tr class="row-odd"><td><p>Bill Strecker</p></td>
<td><p>Permission to revert copyrights</p></td>
</tr>
<tr class="row-even"><td><p>Chris Suddick</p></td>
<td><p>PDP-11 floating point debugging</p></td>
</tr>
<tr class="row-odd"><td><p>Ben Supnik</p></td>
<td><p>Macintosh timing routine</p></td>
</tr>
<tr class="row-even"><td><p>Bob Supnik</p></td>
<td><p>SIMH simulators</p></td>
</tr>
<tr class="row-odd"><td><p>Ben Thomas</p></td>
<td><p>VMS character-by-character I/O routines</p></td>
</tr>
<tr class="row-even"><td><p>Warren Toomey</p></td>
<td><p>PDP-11 UNIX software</p></td>
</tr>
<tr class="row-odd"><td><p>Deb Toivonen</p></td>
<td><p>DEC documentation</p></td>
</tr>
<tr class="row-even"><td><p>Mike Umbricht</p></td>
<td><p>DEC documentation, H316 documentation and schematics</p></td>
</tr>
<tr class="row-odd"><td><p>Leendert van Doorn</p></td>
<td><p>PDP-11 UNIX V6 debugging, TERMIOS implementation</p></td>
</tr>
<tr class="row-even"><td><p>Fred van Kempen</p></td>
<td><p>Ethernet code, RK611 emulator, PDP-11 debugging, VAX/Ultrix debugging</p></td>
</tr>
<tr class="row-odd"><td><p>Holger Veit</p></td>
<td><p>OS/2 socket support</p></td>
</tr>
<tr class="row-even"><td><p>David Waks</p></td>
<td><p>PDP-8 ESI-X and PDP-7 SIM8 software</p></td>
</tr>
<tr class="row-odd"><td><p>Tom West</p></td>
<td><p>Nova documentation</p></td>
</tr>
<tr class="row-even"><td><p>Adrian Wise</p></td>
<td><p>H316 simulator, documentation, and software</p></td>
</tr>
<tr class="row-odd"><td><p>John Wilson</p></td>
<td><p>PDP-11 simulator and software</p></td>
</tr>
<tr class="row-even"><td><p>Joe Young</p></td>
<td><p>RP debugging on Ultrix-11 and BSD</p></td>
</tr>
<tr class="row-odd"><td><p>Jordi Guillaumes i Pons</p></td>
<td><p>Testing and CR11/CD11 fixes</p></td>
</tr>
</tbody>
</table>
<p>In addition, the following companies have graciously licensed their software at no cost for hobbyist use:</p>
<ul class="simple">
<li><p>Data General Corporation</p></li>
<li><p>Digital Equipment Corporation</p></li>
<li><p>Compaq Computer Corporation</p></li>
<li><p>Mentec Corporation</p></li>
<li><p>The Santa Cruz Operation</p></li>
<li><p>Caldera Corporation</p></li>
<li><p>Hewlett-Packard Corporation</p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Python</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">SimH Users' Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-a-simulator">1. Running a simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compiling-a-simulator">2. Compiling a simulator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#compiling-under-unix-linux-macos">2.1 Compiling under Unix/Linux/macOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compiling-under-windows">2.2 Compiling under Windows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#compiling-with-ethernet-support">2.2.1 Compiling with Ethernet support</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiling-under-visual-c">2.2.2 Compiling under Visual C++</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#using-the-predefined-project-definitions">2.2.2.1 Using the predefined project definitions</a></li>
<li class="toctree-l5"><a class="reference internal" href="#defining-your-own-visual-c-project-definitions">2.2.2.2 Defining your own Visual C++ project definitions</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#compiling-under-mingw">2.2.3 Compiling under MinGW</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#compiling-under-openvms">2.3 Compiling under OpenVMS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#simulator-conventions">3. Simulator Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#commands">4. Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#loading-and-saving-programs">4.1 Loading and saving programs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#saving-and-restoring-state">4.2 Saving and restoring state</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resetting-devices">4.3 Resetting devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#connecting-and-disconnecting-devices">4.4 Connecting and disconnecting devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examining-and-changing-state">4.5 Examining and changing state</a></li>
<li class="toctree-l3"><a class="reference internal" href="#evaluating-instructions">4.6 Evaluating instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-a-simulated-program">4.7 Running a simulated program</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#controlling-the-simulation-rate">4.7.1 Controlling the simulation rate</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#stopping-the-simulator">4.8 Stopping the simulator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#simulator-detected-stop-conditions">4.8.1 Simulator detected stop conditions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-specified-stop-conditions">4.8.2 User-specified stop conditions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#breakpoints">4.8.3 Breakpoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="#execution-time-limits">4.8.4 Execution time limits</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#halt-on-output-data">4.9 Halt on output data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#switches">4.9.1 Switches</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#escaping-string-data">4.9.1.1 Escaping string data</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#determining-which-output-matched">4.9.2 Determining which output matched</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#injecting-input-data">4.10 Injecting input data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#delay">4.10.1 Delay</a></li>
<li class="toctree-l4"><a class="reference internal" href="#after">4.10.2 After</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">4.10.3 Escaping string data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#setting-device-parameters">4.11 Setting device parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#displaying-parameters-and-status">4.12 Displaying parameters and status</a></li>
<li class="toctree-l3"><a class="reference internal" href="#altering-the-simulated-configuration">4.13 Altering the simulated configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#console-options">4.14 Console options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#remote-console">4.15 Remote console</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#master-mode">4.15.1 Master mode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#executing-command-files">4.16 Executing command files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-command-file-executed-on-simulator-startup">4.16.1 Default command file executed on simulator startup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#change-command-execution-flow">4.16.2 Change command execution flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#subroutine-calls">4.16.3 Subroutine calls</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pausing-command-execution">4.16.4 Pausing command execution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#displaying-arbitrary-text">4.16.5 Displaying arbitrary text</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#echo-command">4.16.5.1 <code class="docutils literal notranslate"><span class="pre">ECHO</span></code> command</a></li>
<li class="toctree-l5"><a class="reference internal" href="#echof-command">4.16.5.2 <code class="docutils literal notranslate"><span class="pre">ECHOF</span></code> command</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#testing-simulator-state">4.16.6 Testing simulator state</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#condition-expressions">4.16.6.1 Condition expressions</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#internal-simulator-variables-expressions">4.16.6.1.1 Internal simulator variables expressions</a></li>
<li class="toctree-l6"><a class="reference internal" href="#c-style-expressions">4.16.6.1.2 C style expressions</a></li>
<li class="toctree-l6"><a class="reference internal" href="#string-comparison-expressions">4.16.6.1.3 String comparison expressions</a></li>
<li class="toctree-l6"><a class="reference internal" href="#file-existence-test">4.16.6.1.4 File existence test</a></li>
<li class="toctree-l6"><a class="reference internal" href="#file-comparison-test">4.16.6.1.5 File comparison test</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#example-test-of-simulator-state">4.16.6.2 Example test of simulator state</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#trapping-on-command-completion-conditions">4.16.7 Trapping on command completion conditions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#enabling-error-traps">4.16.7.1 Enabling Error Traps</a></li>
<li class="toctree-l5"><a class="reference internal" href="#disabling-error-traps">4.16.7.2 Disabling error traps</a></li>
<li class="toctree-l5"><a class="reference internal" href="#on-command">4.16.7.3 <code class="docutils literal notranslate"><span class="pre">ON</span></code> command</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#parameters">4.16.7.3.1 Parameters</a><ul>
<li class="toctree-l7"><a class="reference internal" href="#control-c-trapping">CONTROL-C Trapping</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#command-arguments">4.16.8 Command arguments</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#do-command-argument-manipulation">4.16.8.1 DO command argument manipulation</a></li>
<li class="toctree-l5"><a class="reference internal" href="#built-in-variables">4.16.8.2 Built-in variables</a></li>
<li class="toctree-l5"><a class="reference internal" href="#environment-variables">4.16.8.3 Environment variables</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#gathering-user-input-into-an-environment-variable">4.16.8.3.1 Gathering user input into an environment variable</a></li>
<li class="toctree-l6"><a class="reference internal" href="#arithmetic-expressions">4.16.8.3.2 Arithmetic expressions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#command-aliases">4.16.9 Command aliases</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#executing-system-commands">4.17 Executing system commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-help">4.18 Getting help</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recording-simulator-activities">4.19 Recording simulator activities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id6">4.19.1 Switches</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#controlling-debugging">4.20 Controlling debugging</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id7">4.20.1 Switches</a></li>
<li class="toctree-l4"><a class="reference internal" href="#device-debug-options">4.20.2 Device debug options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#displaying-debug-settings">4.20.3 Displaying debug settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#exiting-the-simulator">4.21 Exiting the simulator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#manipulating-files-within-the-simulator">4.22 Manipulating files within the simulator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#manipulating-file-archives">4.22.1 Manipulating file archives</a></li>
<li class="toctree-l4"><a class="reference internal" href="#transferring-data-from-the-web">4.22.2 Transferring data from the web</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#appendix-1-file-representations">Appendix 1: File Representations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#a-1-hard-disks">A.1 Hard disks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#a-2-floppy-disks">A.2 Floppy disks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#a-3-magnetic-tapes">A.3 Magnetic tapes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#a-4-line-printers">A.4 Line printers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#a-5-dectapes">A.5 DECtapes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#appendix-2-debug-status">Appendix 2: Debug status</a></li>
<li class="toctree-l2"><a class="reference internal" href="#revision-history-covering-rev-2-0-to-rev-3-5">Revision history (covering Rev 2.0 to Rev 3.5)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="simh_swre.html">SimH Sample Software Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_faq.html">SimH FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="nova_doc.html">Data General Nova</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp11_doc.html">Digital Equipment Corporation PDP-11</a></li>
<li class="toctree-l1"><a class="reference internal" href="vax780_doc.html">Digital Equipment Corporation VAX-11/780</a></li>
<li class="toctree-l1"><a class="reference internal" href="vax_doc.html">Digital Equipment Corporation MicroVAX 3900</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Simulator Documentation</a></li>
      <li>Next: <a href="simh_swre.html" title="next chapter"><span class="sectnum">1. </span>SimH sample software packages</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/simh_doc.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>