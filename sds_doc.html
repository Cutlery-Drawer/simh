
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>1. SDS 940 simulator usage &#8212; Python  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="1. XDS Sigma 32b simulator usage" href="sigma_doc.html" />
    <link rel="prev" title="1. LGP simulator usage" href="lgp_doc.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="sds-940-simulator-usage">
<h1><span class="sectnum">1. </span>SDS 940 simulator usage<a class="headerlink" href="#sds-940-simulator-usage" title="Permalink to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2014-04-20</p>
</dd>
<dt class="field-even">Revision<span class="colon">:</span></dt>
<dd class="field-even"><p>$Format:%H$</p>
</dd>
<dt class="field-odd">Copyright<span class="colon">:</span></dt>
<dd class="field-odd"><p>See <a class="reference external" href="../LICENSE.txt">LICENSE.txt</a> for terms of use.</p>
</dd>
</dl>
<aside class="topic">
<p class="topic-title"><strong>Copyright notice</strong></p>
<p>The following copyright notice applies to the SIMH source, binary, and documentation:</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the “Software”),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
<p>Except as contained in this notice, the names of The Authors shall not be
used in advertising or otherwise to promote the sale, use or other dealings
in this Software without prior written authorization from the Authors.</p>
</aside>
<nav class="contents local" id="contents">
<ul class="auto-toc simple">
<li><p><a class="reference internal" href="#simulator-files" id="id1"><span class="sectnum">1.1. </span>Simulator files</a></p></li>
<li><p><a class="reference internal" href="#sds-940-features" id="id2"><span class="sectnum">1.2. </span>SDS 940 features</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#cpu" id="id3"><span class="sectnum">1.2.1. </span><code class="docutils literal notranslate"><span class="pre">CPU</span></code></a></p></li>
<li><p><a class="reference internal" href="#channels-chan" id="id4"><span class="sectnum">1.2.2. </span>Channels (<code class="docutils literal notranslate"><span class="pre">CHAN</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#console-input-tti" id="id5"><span class="sectnum">1.2.3. </span>Console input (<code class="docutils literal notranslate"><span class="pre">TTI</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#console-output-tto" id="id6"><span class="sectnum">1.2.4. </span>Console output (<code class="docutils literal notranslate"><span class="pre">TTO</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#paper-tape-reader-ptr" id="id7"><span class="sectnum">1.2.5. </span>Paper tape reader (<code class="docutils literal notranslate"><span class="pre">PTR</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#paper-tape-punch-ptp" id="id8"><span class="sectnum">1.2.6. </span>Paper tape punch (<code class="docutils literal notranslate"><span class="pre">PTP</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#line-printer-lpt" id="id9"><span class="sectnum">1.2.7. </span>Line printer (<code class="docutils literal notranslate"><span class="pre">LPT</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#real-time-clock-rtc" id="id10"><span class="sectnum">1.2.8. </span>Real-time clock (<code class="docutils literal notranslate"><span class="pre">RTC</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#terminal-multiplexer-mux" id="id11"><span class="sectnum">1.2.9. </span>Terminal multiplexer (<code class="docutils literal notranslate"><span class="pre">MUX</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#project-genie-drum-drm" id="id12"><span class="sectnum">1.2.10. </span>Project Genie drum (<code class="docutils literal notranslate"><span class="pre">DRM</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#rapid-access-fixed-head-disk-rad" id="id13"><span class="sectnum">1.2.11. </span>Rapid access (fixed-head) disk (<code class="docutils literal notranslate"><span class="pre">RAD</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#moving-head-disk-dsk" id="id14"><span class="sectnum">1.2.12. </span>Moving head disk (<code class="docutils literal notranslate"><span class="pre">DSK</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#magnetic-tape-mt" id="id15"><span class="sectnum">1.2.13. </span>Magnetic tape (<code class="docutils literal notranslate"><span class="pre">MT</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#symbolic-display-and-input" id="id16"><span class="sectnum">1.3. </span>Symbolic display and input</a></p></li>
</ul>
</nav>
<p>This memorandum documents the SDS 940 simulator.</p>
<section id="simulator-files">
<h2><span class="sectnum">1.1. </span>Simulator files<a class="headerlink" href="#simulator-files" title="Permalink to this heading">¶</a></h2>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">sim/</span></code></dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">scp.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_console.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_defs.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_fio.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_rev.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_sock.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_tape.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_timer.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_tmxr.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">scp.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_console.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_fio.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_sock.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_tape.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_timer.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_tmxr.c</span></code></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sim/sds/</span></code></dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">sds_defs.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sds_cpu.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sds_drm.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sds_dsk.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sds_io.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sds_lp.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sds_mt.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sds_mux.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sds_rad.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sds_stddev.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sds_sys.c</span></code></div>
</div>
</dd>
</dl>
</section>
<section id="sds-940-features">
<h2><span class="sectnum">1.2. </span>SDS 940 features<a class="headerlink" href="#sds-940-features" title="Permalink to this heading">¶</a></h2>
<p>The SDS-940 simulator is configured as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Device name(s)</p></th>
<th class="head"><p>Simulates</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#cpu"><code class="docutils literal notranslate"><span class="pre">CPU</span></code></a></p></td>
<td><p>SDS-940 CPU with 16KW to 64KW of memory</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#chan"><code class="docutils literal notranslate"><span class="pre">CHAN</span></code></a></p></td>
<td><p>I/O channels</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ptr"><code class="docutils literal notranslate"><span class="pre">PTR</span></code></a></p></td>
<td><p>Paper tape reader</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ptp"><code class="docutils literal notranslate"><span class="pre">PTP</span></code></a></p></td>
<td><p>Paper tape punch</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tti"><code class="docutils literal notranslate"><span class="pre">TTI</span></code></a></p></td>
<td><p>Console input</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#tto"><code class="docutils literal notranslate"><span class="pre">TTO</span></code></a></p></td>
<td><p>Console output</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#lpt"><code class="docutils literal notranslate"><span class="pre">LPT</span></code></a></p></td>
<td><p>Line printer</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rtc"><code class="docutils literal notranslate"><span class="pre">RTC</span></code></a></p></td>
<td><p>Real-time clock</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mux"><code class="docutils literal notranslate"><span class="pre">MUX</span></code></a></p></td>
<td><p>Terminal multiplexor</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#drm"><code class="docutils literal notranslate"><span class="pre">DRM</span></code></a></p></td>
<td><p>Project Genie drum</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#rad"><code class="docutils literal notranslate"><span class="pre">RAD</span></code></a></p></td>
<td><p>Fixed head disk</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dsk"><code class="docutils literal notranslate"><span class="pre">DSK</span></code></a></p></td>
<td><p>9164/9165 rapid access (moving head) disk</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mt"><code class="docutils literal notranslate"><span class="pre">MT</span></code></a></p></td>
<td><p>Magnetic tape</p></td>
</tr>
</tbody>
</table>
<p>Most devices can be disabled or enabled with the <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">&lt;dev&gt;</span> <span class="pre">DISABLED</span></code> and <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">&lt;dev&gt;</span> <span class="pre">ENABLED</span></code> commands,
respectively.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">LOAD</span></code> command is used to load a line printer carriage-control tape.
The <code class="docutils literal notranslate"><span class="pre">DUMP</span></code> command is not implemented.</p>
<section id="cpu">
<h3><span class="sectnum">1.2.1. </span><code class="docutils literal notranslate"><span class="pre">CPU</span></code><a class="headerlink" href="#cpu" title="Permalink to this heading">¶</a></h3>
<p>The CPU options set the size of main memory and the configuration of peripherals.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CPU</span> <span class="mi">16</span><span class="n">K</span>                   <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">16</span><span class="n">KW</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">32</span><span class="n">K</span>                   <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">32</span><span class="n">KW</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">48</span><span class="n">K</span>                   <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">48</span><span class="n">KW</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">64</span><span class="n">K</span>                   <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">64</span><span class="n">KW</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">GENIE</span>                 <span class="n">Enable</span> <span class="n">DRM</span><span class="p">,</span> <span class="nb">set</span> <span class="n">terminal</span> <span class="n">mux</span> <span class="n">to</span> <span class="n">GENIE</span> <span class="n">mode</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">SDS</span>                   <span class="n">Disable</span> <span class="n">DRM</span><span class="p">,</span> <span class="nb">set</span> <span class="n">terminal</span> <span class="n">mux</span> <span class="n">to</span> <span class="n">SDS</span> <span class="n">mode</span>
</pre></div>
</div>
<p>If memory size is being reduced,
and the memory being truncated contains non-zero data,
the simulator asks for confirmation.
Data in the truncated portion of memory is lost.
Initial memory size is 64KW.</p>
<p>CPU registers include the visible state of the processor as well as the control registers for the interrupt system.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">P</span></code></p></td>
<td><p>14</p></td>
<td><p>Program counter</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">A</span></code></p></td>
<td><p>24</p></td>
<td><p>Accumulator A</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">B</span></code></p></td>
<td><p>24</p></td>
<td><p>Accumulator B</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">X</span></code></p></td>
<td><p>24</p></td>
<td><p>Index register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OV</span></code></p></td>
<td><p>1</p></td>
<td><p>Overflow indicator</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EM2</span></code></p></td>
<td><p>3</p></td>
<td><p>Memory extension, quadrant 2</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">EM3</span></code></p></td>
<td><p>3</p></td>
<td><p>Memory extension, quadrant 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RL1</span></code></p></td>
<td><p>24</p></td>
<td><p>User relocation register 1</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RL2</span></code></p></td>
<td><p>24</p></td>
<td><p>User relocation register 2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RL4</span></code></p></td>
<td><p>12</p></td>
<td><p>Kernel relocation register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NML</span></code></p></td>
<td><p>1</p></td>
<td><p>Normal mode flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">USR</span></code></p></td>
<td><p>1</p></td>
<td><p>User mode flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MONUSR</span></code></p></td>
<td><p>1</p></td>
<td><p>Monitor-to-user trap enable</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ION</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INTDEF</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt defer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INTREQ</span></code></p></td>
<td><p>32</p></td>
<td><p>Interrupt request flags</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">APIACT</span></code></p></td>
<td><p>5</p></td>
<td><p>Highest active API level</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">APIREQ</span></code></p></td>
<td><p>5</p></td>
<td><p>Highest requesting API level</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">XFRREQ</span></code></p></td>
<td><p>32</p></td>
<td><p>Device transfer request flags</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BPT</span></code></p></td>
<td><p>4</p></td>
<td><p>Breakpoint switches</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ALERT</span></code></p></td>
<td><p>6</p></td>
<td><p>Outstanding alert number</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_INVINS</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on invalid instruction</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_INVDEV</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on invalid device number</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_INVIOP</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on invalid I/O operation</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INDLIM</span></code></p></td>
<td><p>8</p></td>
<td><p>Maximum indirect nesting depth</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EXULIM</span></code></p></td>
<td><p>8</p></td>
<td><p>Maximum execute nesting depth</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PCQ[0:63]</span></code></p></td>
<td><p>14</p></td>
<td><p>P prior to last branch or interrupt; most recent P change first</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WRU</span></code></p></td>
<td><p>8</p></td>
<td><p>Interrupt character</p></td>
</tr>
</tbody>
</table>
<p>The CPU can maintain a history of the most recently executed instructions.
This is controlled by the <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">HISTORY</span></code> and <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">CPU</span> <span class="pre">HISTORY</span></code> commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CPU</span> <span class="n">HISTORY</span>              <span class="n">Clear</span> <span class="n">history</span> <span class="n">buffer</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">HISTORY</span><span class="o">=</span><span class="mi">0</span>            <span class="n">Disable</span> <span class="n">history</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">HISTORY</span><span class="o">=</span><span class="n">n</span>            <span class="n">Enable</span> <span class="n">history</span><span class="p">,</span> <span class="n">length</span> <span class="o">=</span> <span class="n">n</span>
<span class="n">SHOW</span> <span class="n">CPU</span> <span class="n">HISTORY</span>             <span class="n">Print</span> <span class="n">CPU</span> <span class="n">history</span>
<span class="n">SHOW</span> <span class="n">CPU</span> <span class="n">HISTORY</span><span class="o">=</span><span class="n">n</span>           <span class="n">Print</span> <span class="n">first</span> <span class="n">n</span> <span class="n">entries</span> <span class="n">of</span> <span class="n">CPU</span> <span class="n">history</span>
</pre></div>
</div>
<p>The maximum length for the history is 65536 entries,
the minimum length is 64 entries.
This history records the CPU mode when the instruction was executed (normal, monitor or user).
The <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">HISTORY</span></code> command accepts one switch value to optionally suppress recording of instructions in a particular CPU mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="o">-</span><span class="n">n</span> <span class="n">CPU</span> <span class="n">HISTORY</span><span class="o">=</span><span class="n">n</span>         <span class="n">Don</span><span class="s1">&#39;t record if in normal mode</span>
<span class="n">SET</span> <span class="o">-</span><span class="n">m</span> <span class="n">CPU</span> <span class="n">HISTORY</span><span class="o">=</span><span class="n">n</span>         <span class="n">Don</span><span class="s1">&#39;t record if in monitor mode</span>
<span class="n">SET</span> <span class="o">-</span><span class="n">u</span> <span class="n">CPU</span> <span class="n">HISTORY</span><span class="o">=</span><span class="n">n</span>         <span class="n">Don</span><span class="s1">&#39;t record if in user mode</span>
</pre></div>
</div>
<p>The SDS 940 simulator implements four types of execution breakpoints,
controlled by command-line switches:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-e</span></code></p></td>
<td><p>Break if <code class="docutils literal notranslate"><span class="pre">P</span></code> equals address, unqualified by machine mode</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-m</span></code></p></td>
<td><p>Break if <code class="docutils literal notranslate"><span class="pre">P</span></code> equals address, machine in monitor mode</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-n</span></code></p></td>
<td><p>Break if <code class="docutils literal notranslate"><span class="pre">P</span></code> equals address, machine in normal (SDS 930) mode</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-u</span></code></p></td>
<td><p>Break if <code class="docutils literal notranslate"><span class="pre">P</span></code> equals address, machine in user mode</p></td>
</tr>
</tbody>
</table>
<p>Breakpoint commands default to <code class="docutils literal notranslate"><span class="pre">-e</span></code> behavior if no switch is specified.</p>
<section id="next-command">
<h4><span class="sectnum">1.2.1.1. </span>Next command<a class="headerlink" href="#next-command" title="Permalink to this heading">¶</a></h4>
<p>The Next command is supported to step over a <code class="docutils literal notranslate"><span class="pre">BRM</span></code>, <code class="docutils literal notranslate"><span class="pre">POP</span></code>, or <code class="docutils literal notranslate"><span class="pre">SYSPOP</span></code> instruction by installing temporary breakpoints at <code class="docutils literal notranslate"><span class="pre">P</span></code>+1 and <code class="docutils literal notranslate"><span class="pre">P</span></code>+2
(and <code class="docutils literal notranslate"><span class="pre">P</span></code>+3 in the case of a <code class="docutils literal notranslate"><span class="pre">BRM</span></code>)
and then executing the Go command.
The temporary breakpoints are removed should execution be interrupted for any other reason.
For other instructions,
Next is converted to a Step command.</p>
<p>Like the Step command,
the Next command accepts a repeat count as an argument.
Given this code sequence:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1532</span><span class="p">:</span> <span class="n">BRM</span>   <span class="mi">1220</span>  <span class="o">&lt;--</span> <span class="n">P</span>
<span class="mi">1533</span><span class="p">:</span> <span class="n">LDA</span>   <span class="mi">4663</span>
<span class="mi">1534</span><span class="p">:</span> <span class="n">POP</span>   <span class="mi">3214</span>
<span class="mi">1535</span><span class="p">:</span> <span class="n">BRU</span>   <span class="mi">4436</span>  <span class="o">&lt;--</span> <span class="n">non</span><span class="o">-</span><span class="n">skip</span> <span class="k">return</span> <span class="kn">from</span> <span class="nn">POP</span>
<span class="mi">1536</span><span class="p">:</span> <span class="n">BRM</span>   <span class="mi">3260</span>  <span class="o">&lt;--</span> <span class="n">skip</span> <span class="k">return</span> <span class="kn">from</span> <span class="nn">POP</span>
<span class="mi">1537</span><span class="p">:</span> <span class="n">ZRO</span>   <span class="mi">3455</span>  <span class="o">&lt;--</span> <span class="n">argument</span> <span class="n">to</span> <span class="n">subroutine</span>
<span class="mi">1540</span><span class="p">:</span> <span class="n">BRU</span>   <span class="mi">1600</span>  <span class="o">&lt;--</span> <span class="n">error</span> <span class="k">return</span>
<span class="mi">1541</span><span class="p">:</span> <span class="n">STA</span>   <span class="mi">4652</span>  <span class="o">&lt;--</span> <span class="n">normal</span> <span class="k">return</span>
</pre></div>
</div>
<p>The following behavior would be observed for various Next commands executed when <code class="docutils literal notranslate"><span class="pre">P</span></code>=1532:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Step</p></td>
<td><p>Advance to location 1220</p></td>
</tr>
<tr class="row-even"><td><p>Next</p></td>
<td><p>Advance to location 1533</p></td>
</tr>
<tr class="row-odd"><td><p>Next 2</p></td>
<td><p>Advance to location 1534</p></td>
</tr>
<tr class="row-even"><td><p>Next 3</p></td>
<td><p>Advance to location 1535 or 1536,
depending on whether <code class="docutils literal notranslate"><span class="pre">POP</span></code> skips on return</p></td>
</tr>
</tbody>
</table>
<p>With <code class="docutils literal notranslate"><span class="pre">P</span></code>=1536,
the behavior is thus:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Step</p></td>
<td><p>Advance to location 3260</p></td>
</tr>
<tr class="row-even"><td><p>Next</p></td>
<td><p>Advance to location 1540 or 1541</p></td>
</tr>
</tbody>
</table>
<p>Unlike the Step command,
a side-effect of using temporary breakpoints is that diversions into interrupt or trap code become invisible.
With a Step command,
execution dutifully follows into the interrupt or trap routine.</p>
<p>Next command accepts two mutually exclusive switches to modify its behavior.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-f</span></code> switch (“forward”) instructs the Next command to set temporary breakpoint(s) following the current location,
regardless of instruction type.
This is useful at the bottom of loops or to avoid going off into unrelated code should an interrupt or memory paging trap occur.
In this example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1532</span>  <span class="n">BRX</span>   <span class="mi">1220</span>  <span class="o">&lt;--</span> <span class="n">P</span>
<span class="mi">1533</span>  <span class="n">LDA</span>   <span class="mi">4663</span>
</pre></div>
</div>
<p>a normal Next would advance to either location 1220 or 1533 depending upon the value in the <code class="docutils literal notranslate"><span class="pre">X</span></code> register
(it is converted to a Step).
However, Next <code class="docutils literal notranslate"><span class="pre">-f</span></code> would only advance to location 1533,
allowing the loop code at 1220 to be executed as many times as specified by <code class="docutils literal notranslate"><span class="pre">X</span></code>.
Note that if the loop code branches elsewhere,
rather than make the <code class="docutils literal notranslate"><span class="pre">BRX</span></code> test,
control will be lost unless caught by another breakpoint.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-a</span></code> switch (“atomic”) alters Next behavior to be more like a Step command,
but using temporary breakpoints.
That is,
it will plant a breakpoint at the effective address of a <code class="docutils literal notranslate"><span class="pre">BRM</span></code> or <code class="docutils literal notranslate"><span class="pre">BRX</span></code> instruction to catch any transfer there.
Its primary use is to step through code ignoring interrupts and traps.</p>
<p>The behavior of various alternative forms of Next are illustrated in this table for different opcodes,
showing where temporary breakpoints are placed.
<em>“Step”</em> means Next is converted to a Step command.
<em>“LDA, etc.”</em> means all non-skipping,
non-branching opcodes,
including I/O instructions.
<em>“SKx”</em> means all Skip instructions.
The behavior of Next with an <code class="docutils literal notranslate"><span class="pre">EXU</span></code> (execute) instruction is dependent on the instruction that is eventually executed.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head stub"><p>Opcode</p></th>
<th class="head"><p>Next</p></th>
<th class="head"><p>Next <code class="docutils literal notranslate"><span class="pre">-a</span></code> (Atomic)</p></th>
<th class="head"><p>Next <code class="docutils literal notranslate"><span class="pre">-f</span></code> (Forward)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p>Bad op</p></th>
<td><p>Step</p></td>
<td><p>Step</p></td>
<td><p>Step</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">BRI</span></code></p></th>
<td><p>Step</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EA</span></code></p></td>
<td><p>Step</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">BRM</span></code>, <code class="docutils literal notranslate"><span class="pre">SBRM</span></code></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">P</span></code>+1, <code class="docutils literal notranslate"><span class="pre">P</span></code>+2, <code class="docutils literal notranslate"><span class="pre">P</span></code>+3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EA</span></code>+1, <code class="docutils literal notranslate"><span class="pre">P</span></code>+1, <code class="docutils literal notranslate"><span class="pre">P</span></code>+2, <code class="docutils literal notranslate"><span class="pre">P</span></code>+3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">P</span></code>+1, <code class="docutils literal notranslate"><span class="pre">P</span></code>+2, <code class="docutils literal notranslate"><span class="pre">P</span></code>+3</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">BRR</span></code></p></th>
<td><p>Step</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EA</span></code></p></td>
<td><p>Step</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">BRU</span></code></p></th>
<td><p>Step</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EA</span></code></p></td>
<td><p>Step</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">BRX</span></code></p></th>
<td><p>Step</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EA</span></code>, <code class="docutils literal notranslate"><span class="pre">P</span></code>+1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">P</span></code>+1</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">EXU</span></code></p></th>
<td><p>?</p></td>
<td><p>?</p></td>
<td><p>?</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">HLT</span></code></p></th>
<td><p>Step</p></td>
<td><p>Step</p></td>
<td><p>Step</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">LDA</span></code>, etc</p></th>
<td><p>Step</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">P</span></code>+1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">P</span></code>+1</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">SKx</span></code></p></th>
<td><p>Step</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">P</span></code>+1, <code class="docutils literal notranslate"><span class="pre">P</span></code>+2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">P</span></code>+1, <code class="docutils literal notranslate"><span class="pre">P</span></code>+2</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">POP</span></code></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">P</span></code>+1, <code class="docutils literal notranslate"><span class="pre">P</span></code>+2</p></td>
<td><p>100+<code class="docutils literal notranslate"><span class="pre">OP</span></code>, <code class="docutils literal notranslate"><span class="pre">P</span></code>+1, <code class="docutils literal notranslate"><span class="pre">P</span></code>+2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">P</span></code>+1, <code class="docutils literal notranslate"><span class="pre">P</span></code>+2</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">SYSPOP</span></code></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">P</span></code>+1, <code class="docutils literal notranslate"><span class="pre">P</span></code>+2</p></td>
<td><p>100+<code class="docutils literal notranslate"><span class="pre">OP</span></code>, <code class="docutils literal notranslate"><span class="pre">P</span></code>+1, <code class="docutils literal notranslate"><span class="pre">P</span></code>+2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">P</span></code>+1, <code class="docutils literal notranslate"><span class="pre">P</span></code>+2</p></td>
</tr>
</tbody>
</table>
<p>Note that these temporary breakpoints are CPU-mode insensitive,
so there is the potential for conflict if execution in a different CPU mode should encounter an instruction address numerically equal to any of these temporary breakpoints.</p>
<span class="target" id="chan"><span id="channels"></span></span></section>
</section>
<section id="channels-chan">
<h3><span class="sectnum">1.2.2. </span>Channels (<code class="docutils literal notranslate"><span class="pre">CHAN</span></code>)<a class="headerlink" href="#channels-chan" title="Permalink to this heading">¶</a></h3>
<p>The SDS 940 has up to eight I/O channels,
designated W, Y, C, D, E, F, G, and H.
W, Y, C, and D are time-multiplexed communications channels (<code class="docutils literal notranslate"><span class="pre">TMCC</span></code>);
E, F, G, and H are direct access communications channels (<code class="docutils literal notranslate"><span class="pre">DACC</span></code>).
Unlike real SDS 940 channels,
the simulated channels handle 6b, 12b, and 24b transfers simultaneously.
The association between a device and a channel is displayed by the <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">&lt;dev&gt;</span> <span class="pre">CHAN</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">LPT</span> <span class="n">CHAN</span>
<span class="n">channel</span><span class="o">=</span><span class="n">W</span>
</pre></div>
</div>
<p>The user can change the association with the <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">&lt;dev&gt;</span> <span class="pre">CHAN=&lt;chan&gt;</span></code> command,
where <code class="docutils literal notranslate"><span class="pre">&lt;chan&gt;</span></code> is a channel letter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">LPT</span> <span class="n">CHAN</span><span class="o">=</span><span class="n">E</span>
<span class="n">SHOW</span> <span class="n">LPT</span> <span class="n">CHAN</span>
<span class="n">channel</span><span class="o">=</span><span class="n">E</span>
</pre></div>
</div>
<p>Each channel has nine registers.
The registers are arrays,
with entry [0] for channel W,
entry [1] for channel Y, etc.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">UAR[0:7]</span></code></p></td>
<td><p>6</p></td>
<td><p>Unit address register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WCR[0:7]</span></code></p></td>
<td><p>15</p></td>
<td><p>Word count register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MAR[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Memory address register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DCR[0:7]</span></code></p></td>
<td><p>6</p></td>
<td><p>Data chaining register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WAR[0:7]</span></code></p></td>
<td><p>24</p></td>
<td><p>Word assembly register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CPW[0:7]</span></code></p></td>
<td><p>2</p></td>
<td><p>Characters per word</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CNT[0:7]</span></code></p></td>
<td><p>3</p></td>
<td><p>Character count</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MODE[0:7]</span></code></p></td>
<td><p>12</p></td>
<td><p>Channel mode (from <code class="docutils literal notranslate"><span class="pre">EOM</span></code> instruction)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FLAG[0:7]</span></code></p></td>
<td><p>9</p></td>
<td><p>Channel flags</p></td>
</tr>
</tbody>
</table>
<p>The user can display all the registers in a channel with the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">CHAN</span> <span class="n">channel</span><span class="o">-</span><span class="n">letter</span>
</pre></div>
</div>
<span class="target" id="tti"><span id="console-input"></span></span></section>
<section id="console-input-tti">
<h3><span class="sectnum">1.2.3. </span>Console input (<code class="docutils literal notranslate"><span class="pre">TTI</span></code>)<a class="headerlink" href="#console-input-tti" title="Permalink to this heading">¶</a></h3>
<p>The console input (<code class="docutils literal notranslate"><span class="pre">TTI</span></code>) polls the console keyboard for input.
It implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>6</p></td>
<td><p>Data buffer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XFR</span></code></p></td>
<td><p>1</p></td>
<td><p>Transfer ready flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Number of characters input</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Polling interval</p></td>
</tr>
</tbody>
</table>
<p>By default,
the console input is assigned to channel W.</p>
<span class="target" id="tto"><span id="console-output"></span></span></section>
<section id="console-output-tto">
<h3><span class="sectnum">1.2.4. </span>Console output (<code class="docutils literal notranslate"><span class="pre">TTO</span></code>)<a class="headerlink" href="#console-output-tto" title="Permalink to this heading">¶</a></h3>
<p>The console output (<code class="docutils literal notranslate"><span class="pre">TTO</span></code>) writes to the simulator console window.
It implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>6</p></td>
<td><p>Data buffer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XFR</span></code></p></td>
<td><p>1</p></td>
<td><p>Transfer ready flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Number of characters output</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Time from I/O initiation to interrupt</p></td>
</tr>
</tbody>
</table>
<p>By default,
the console output is assigned to channel W.</p>
<span class="target" id="ptr"><span id="paper-tape-reader"></span></span></section>
<section id="paper-tape-reader-ptr">
<h3><span class="sectnum">1.2.5. </span>Paper tape reader (<code class="docutils literal notranslate"><span class="pre">PTR</span></code>)<a class="headerlink" href="#paper-tape-reader-ptr" title="Permalink to this heading">¶</a></h3>
<p>The paper tape reader (<code class="docutils literal notranslate"><span class="pre">PTR</span></code>) reads data from a disk file.
The <code class="docutils literal notranslate"><span class="pre">POS</span></code> register specifies the number of the next data item to be read.
Thus, by changing <code class="docutils literal notranslate"><span class="pre">POS</span></code>,
the user can backspace or advance the reader.</p>
<p>The paper tape reader implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>6</p></td>
<td><p>Data buffer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XFR</span></code></p></td>
<td><p>1</p></td>
<td><p>Transfer ready flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SOR</span></code></p></td>
<td><p>1</p></td>
<td><p>Start of record flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CHAN</span></code></p></td>
<td><p>4</p></td>
<td><p>Active channel</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Position in the input file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Time from I/O initiation to interrupt</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>The paper-tape reader supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.
<code class="docutils literal notranslate"><span class="pre">BOOT PTR</span></code> simulates the standard console fill sequence.</p>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>Not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Out of tape</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>End of file</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Out of tape</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>x</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
<p>By default,
the paper tape reader is assigned to channel W.</p>
<span class="target" id="ptp"><span id="paper-tape-punch"></span></span></section>
<section id="paper-tape-punch-ptp">
<h3><span class="sectnum">1.2.6. </span>Paper tape punch (<code class="docutils literal notranslate"><span class="pre">PTP</span></code>)<a class="headerlink" href="#paper-tape-punch-ptp" title="Permalink to this heading">¶</a></h3>
<p>The paper tape punch (<code class="docutils literal notranslate"><span class="pre">PTP</span></code>) writes data to a disk file.
The <code class="docutils literal notranslate"><span class="pre">POS</span></code> register specifies the number of the next data item to be written.
Thus, by changing <code class="docutils literal notranslate"><span class="pre">POS</span></code>,
the user can backspace or advance the punch.</p>
<p>The paper tape punch implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>6</p></td>
<td><p>Data buffer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XFR</span></code></p></td>
<td><p>1</p></td>
<td><p>Transfer ready flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LDR</span></code></p></td>
<td><p>1</p></td>
<td><p>Punch leader flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CHAN</span></code></p></td>
<td><p>4</p></td>
<td><p>Active channel</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Position in the output file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Time from I/O initiation to interrupt</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>Not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Out of tape</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>x</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
<p>By default,
the paper tape punch is assigned to channel W.</p>
<span class="target" id="lpt"><span id="line-printer"></span></span></section>
<section id="line-printer-lpt">
<h3><span class="sectnum">1.2.7. </span>Line printer (<code class="docutils literal notranslate"><span class="pre">LPT</span></code>)<a class="headerlink" href="#line-printer-lpt" title="Permalink to this heading">¶</a></h3>
<p>The line printer (<code class="docutils literal notranslate"><span class="pre">LPT</span></code>) writes data to a disk file.
The <code class="docutils literal notranslate"><span class="pre">POS</span></code> register specifies the number of the next data item to be written.
Thus, by changing <code class="docutils literal notranslate"><span class="pre">POS</span></code>,
the user can backspace or advance the printer.</p>
<p>The line printer implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF[0:131]</span></code></p></td>
<td><p>8</p></td>
<td><p>Data buffer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BPTR</span></code></p></td>
<td><p>8</p></td>
<td><p>Buffer pointer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">XFR</span></code></p></td>
<td><p>1</p></td>
<td><p>Transfer ready flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CHAN</span></code></p></td>
<td><p>4</p></td>
<td><p>Active channel</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CCT[0:131]</span></code></p></td>
<td><p>8</p></td>
<td><p>Carriage control tape</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CCTP</span></code></p></td>
<td><p>8</p></td>
<td><p>Pointer into carriage control tape</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CCTL</span></code></p></td>
<td><p>8</p></td>
<td><p>Length of carriage control tape</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SPCINST</span></code></p></td>
<td><p>24</p></td>
<td><p>Spacing instruction</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Position in the output file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Inter-character time</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Print time</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Space time</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>Not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Out of paper</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>x</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
<p>By default,
the line printer is assigned to channel W.</p>
<span class="target" id="rtc"><span id="real-time-clock"></span></span></section>
<section id="real-time-clock-rtc">
<h3><span class="sectnum">1.2.8. </span>Real-time clock (<code class="docutils literal notranslate"><span class="pre">RTC</span></code>)<a class="headerlink" href="#real-time-clock-rtc" title="Permalink to this heading">¶</a></h3>
<p>The real-time clock (<code class="docutils literal notranslate"><span class="pre">RTC</span></code>) frequency can be adjusted as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">RTC</span> <span class="mi">60</span><span class="n">HZ</span>                 <span class="n">Set</span> <span class="n">frequency</span> <span class="n">to</span> <span class="mi">60</span><span class="n">Hz</span>
<span class="n">SET</span> <span class="n">RTC</span> <span class="mi">50</span><span class="n">HZ</span>                 <span class="n">Set</span> <span class="n">frequency</span> <span class="n">to</span> <span class="mi">50</span><span class="n">Hz</span>
</pre></div>
</div>
<p>The default is 60Hz.</p>
<p>The clock implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PIE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Tick interval</p></td>
</tr>
</tbody>
</table>
<p>The real-time clock autocalibrates;
the clock interval is adjusted up or down so that the clock tracks actual elapsed time.</p>
<span class="target" id="muxl"><span id="mux"></span><span id="terminal-multiplexer"></span></span></section>
<section id="terminal-multiplexer-mux">
<h3><span class="sectnum">1.2.9. </span>Terminal multiplexer (<code class="docutils literal notranslate"><span class="pre">MUX</span></code>)<a class="headerlink" href="#terminal-multiplexer-mux" title="Permalink to this heading">¶</a></h3>
<p>The terminal multiplexer provides 32 asynchronous interfaces.
In Genie mode,
the interfaces are hard-wired;
in SDS mode,
they implement modem control.
The multiplexer has two controllers:
<code class="docutils literal notranslate"><span class="pre">MUX</span></code> for the scanner,
and <code class="docutils literal notranslate"><span class="pre">MUXL</span></code> for the individual lines.
The terminal multiplexer performs input and output through Telnet sessions connected to a user-specified port.
The <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> command specifies the port to be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATTACH</span> <span class="n">MUX</span> <span class="o">&lt;</span><span class="n">port</span><span class="o">&gt;</span>            <span class="n">Set</span> <span class="n">up</span> <span class="n">listening</span> <span class="n">port</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">port</span></code> is a decimal number between 1 and 65535 that is not being used for other TCP/IP activities.</p>
<p>Each line (each unit of <code class="docutils literal notranslate"><span class="pre">MUXL</span></code>) supports one option:
<code class="docutils literal notranslate"><span class="pre">UC</span></code>,
when set,
causes lowercase input characters to be automatically converted to uppercase.
In addition,
each line supports output logging.
The <code class="docutils literal notranslate"><span class="pre">SET MUXLn LOG</span></code> command enables logging on a line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">MUXLn</span> <span class="n">filename</span>           <span class="n">Log</span> <span class="n">output</span> <span class="n">of</span> <span class="n">line</span> <span class="n">n</span> <span class="n">to</span> <span class="n">filename</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">SET MUXLn NOLOG</span></code> command disables logging and closes the open log file, if any.</p>
<p>Once <code class="docutils literal notranslate"><span class="pre">MUX</span></code> is attached and the simulator is running,
the multiplexor listens for connections on the specified port.
It assumes that the incoming connections are Telnet connections.
The connections remain open until disconnected,
either by the Telnet client,
a <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">MUX</span> <span class="pre">DISCONNECT</span></code> command,
or a <code class="docutils literal notranslate"><span class="pre">DETACH</span> <span class="pre">MUX</span></code> command.</p>
<p>Other special multiplexer commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">MUX</span> <span class="n">CONNECTIONS</span>         <span class="n">Show</span> <span class="n">current</span> <span class="n">connections</span>
<span class="n">SHOW</span> <span class="n">MUX</span> <span class="n">STATISTICS</span>          <span class="n">Show</span> <span class="n">statistics</span> <span class="k">for</span> <span class="n">active</span> <span class="n">connections</span>
<span class="n">SET</span> <span class="n">MUXLn</span> <span class="n">DISCONNECT</span>         <span class="n">Disconnect</span> <span class="n">the</span> <span class="n">specified</span> <span class="n">line</span>
</pre></div>
</div>
<p>The controller (<code class="docutils literal notranslate"><span class="pre">MUX</span></code>) implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STA[0:31]</span></code></p></td>
<td><p>6</p></td>
<td><p>Status, lines 0 to 31</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RBUF[0:31]</span></code></p></td>
<td><p>8</p></td>
<td><p>Receive buffer, lines 0 to 31</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">XBUF[0:31]</span></code></p></td>
<td><p>8</p></td>
<td><p>Transmit buffer, lines 0 to 31</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">FLAGS[0:127]</span></code></p></td>
<td><p>1</p></td>
<td><p>Line flags, 0 to 3 for line 0,
4 to 7 for line 1, etc</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SCAN</span></code></p></td>
<td><p>7</p></td>
<td><p>Scanner current flag number</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SLCK</span></code></p></td>
<td><p>1</p></td>
<td><p>Scanner locked flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TPS</span></code></p></td>
<td><p>8</p></td>
<td><p>Character polls per second</p></td>
</tr>
</tbody>
</table>
<p>The lines (<code class="docutils literal notranslate"><span class="pre">MUXL</span></code>) implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME[0:31]</span></code></p></td>
<td><p>24</p></td>
<td><p>Transmit time, lines 0 to 31</p></td>
</tr>
</tbody>
</table>
<p>The terminal multiplexor does not support save and restore.
All open connections are lost when the simulator shuts down or <code class="docutils literal notranslate"><span class="pre">MUX</span></code> is detached.</p>
<span class="target" id="drm"><span id="project-genie-drum"></span></span></section>
<section id="project-genie-drum-drm">
<h3><span class="sectnum">1.2.10. </span>Project Genie drum (<code class="docutils literal notranslate"><span class="pre">DRM</span></code>)<a class="headerlink" href="#project-genie-drum-drm" title="Permalink to this heading">¶</a></h3>
<p>The Project Genie drum (<code class="docutils literal notranslate"><span class="pre">DRM</span></code>) implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DA</span></code></p></td>
<td><p>19</p></td>
<td><p>Drum address</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CA</span></code></p></td>
<td><p>16</p></td>
<td><p>Core address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WC</span></code></p></td>
<td><p>14</p></td>
<td><p>Word count</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PAR</span></code></p></td>
<td><p>12</p></td>
<td><p>Cumulative sector parity</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RW</span></code></p></td>
<td><p>1</p></td>
<td><p>Read/write flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STA</span></code></p></td>
<td><p>2</p></td>
<td><p>Drum state</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">FTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Channel program fetch time</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">XTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Interword transfer time</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>Not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Drum not ready</p></td>
</tr>
</tbody>
</table>
<p>Drum data files are buffered in memory;
therefore,
end-of-file and OS I/O errors cannot occur.
Unlike conventional SDS 940 devices,
the Project Genie drum does not use a channel.</p>
<span class="target" id="rad"><span id="rapid-access-disk"></span><span id="rapid-access-fixed-head-disk"></span></span></section>
<section id="rapid-access-fixed-head-disk-rad">
<h3><span class="sectnum">1.2.11. </span>Rapid access (fixed-head) disk (<code class="docutils literal notranslate"><span class="pre">RAD</span></code>)<a class="headerlink" href="#rapid-access-fixed-head-disk-rad" title="Permalink to this heading">¶</a></h3>
<p>The rapid access disk (<code class="docutils literal notranslate"><span class="pre">RAD</span></code>) implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DA</span></code></p></td>
<td><p>15</p></td>
<td><p>Disk address</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SA</span></code></p></td>
<td><p>6</p></td>
<td><p>Sector word address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BP</span></code></p></td>
<td><p>1</p></td>
<td><p>Sector byte pointer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XFR</span></code></p></td>
<td><p>1</p></td>
<td><p>Data transfer flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NOBD</span></code></p></td>
<td><p>1</p></td>
<td><p>Inhibit increment across track</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CHAN</span></code></p></td>
<td><p>4</p></td>
<td><p>Active channel</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PROT</span></code></p></td>
<td><p>8</p></td>
<td><p>Write protect switches</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Interval between half-word transfers</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>Not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Disk not ready</p></td>
</tr>
</tbody>
</table>
<p>The rapid access disk is buffered in memory;
end-of-file and OS I/O errors cannot occur.
If it is assigned to channel W,
bootstrap fill from the device is permitted.
By default,
the rapid access disk is assigned to channel E and bootstrapping is not permitted.</p>
<span class="target" id="dsk"><span id="moving-head-disk"></span></span></section>
<section id="moving-head-disk-dsk">
<h3><span class="sectnum">1.2.12. </span>Moving head disk (<code class="docutils literal notranslate"><span class="pre">DSK</span></code>)<a class="headerlink" href="#moving-head-disk-dsk" title="Permalink to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">DSK</span></code> options include the ability to make the drive write-enabled or write-locked:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">RAD</span> <span class="n">LOCKED</span>               <span class="n">Set</span> <span class="n">write</span><span class="o">-</span><span class="n">locked</span>
<span class="n">SET</span> <span class="n">RAD</span> <span class="n">WRITEENABLED</span>         <span class="n">Set</span> <span class="n">write</span><span class="o">-</span><span class="n">enabled</span>
</pre></div>
</div>
<p>The moving head disk implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF[0:63]</span></code></p></td>
<td><p>8</p></td>
<td><p>Transfer buffer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BPTR</span></code></p></td>
<td><p>9</p></td>
<td><p>Buffer pointer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BLNT</span></code></p></td>
<td><p>9</p></td>
<td><p>Buffer length</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DA</span></code></p></td>
<td><p>21</p></td>
<td><p>Disk address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INST</span></code></p></td>
<td><p>24</p></td>
<td><p>Disk instruction</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XFR</span></code></p></td>
<td><p>1</p></td>
<td><p>Data transfer flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CHAN</span></code></p></td>
<td><p>4</p></td>
<td><p>Active channel</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Interval between character transfers</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Seek interval</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>Not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Disk not ready</p></td>
</tr>
<tr class="row-even"><td><p>End of file</p></td>
<td><p>x</p></td>
<td><p>Assume rest of disk is zero</p></td>
</tr>
<tr class="row-odd"><td><p>OS I/O error</p></td>
<td><p>x</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
<p>By default,
the moving head disk is assigned to channel F.</p>
<span class="target" id="mt"><span id="magnetic-tape"></span></span></section>
<section id="magnetic-tape-mt">
<h3><span class="sectnum">1.2.13. </span>Magnetic tape (<code class="docutils literal notranslate"><span class="pre">MT</span></code>)<a class="headerlink" href="#magnetic-tape-mt" title="Permalink to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">MT</span></code> options include the ability to make units write-enabled or write-locked.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">MTn</span> <span class="n">LOCKED</span>               <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span><span class="o">-</span><span class="n">locked</span>
<span class="n">SET</span> <span class="n">MTn</span> <span class="n">WRITEENABLED</span>         <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span><span class="o">-</span><span class="n">enabled</span>
</pre></div>
</div>
<p>Magnetic tape units can be set to a specific reel capacity in MB,
or to unlimited capacity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">MTn</span> <span class="n">CAPAC</span><span class="o">=</span><span class="n">m</span>              <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">capacity</span> <span class="n">to</span> <span class="n">m</span> <span class="n">MB</span> <span class="p">(</span><span class="mi">0</span> <span class="o">=</span> <span class="n">unlimited</span><span class="p">)</span>
<span class="n">SHOW</span> <span class="n">MTn</span> <span class="n">CAPAC</span>               <span class="n">Show</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">capacity</span> <span class="ow">in</span> <span class="n">MB</span>
</pre></div>
</div>
<p>Units can also be set <code class="docutils literal notranslate"><span class="pre">ENABLED</span></code> or <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.
The magnetic tape controller supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.
<code class="docutils literal notranslate"><span class="pre">BOOT MTn</span></code> simulates the standard console fill sequence for unit <em>n</em>.</p>
<p>The magnetic tape implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF[0:131071]</span></code></p></td>
<td><p>8</p></td>
<td><p>Transfer buffer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BPTR</span></code></p></td>
<td><p>18</p></td>
<td><p>Buffer pointer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BLNT</span></code></p></td>
<td><p>18</p></td>
<td><p>Buffer length</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XFR</span></code></p></td>
<td><p>1</p></td>
<td><p>Data transfer flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CHAN</span></code></p></td>
<td><p>4</p></td>
<td><p>Active channel</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INST</span></code></p></td>
<td><p>24</p></td>
<td><p>Magtape instruction</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">EOF</span></code></p></td>
<td><p>1</p></td>
<td><p>End-of-file flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">GAP</span></code></p></td>
<td><p>1</p></td>
<td><p>Inter-record gap flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SKIP</span></code></p></td>
<td><p>1</p></td>
<td><p>Skip data flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Interval between character transfers</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">GTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Gap interval</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POS[0:7]</span></code></p></td>
<td><p>32</p></td>
<td><p>Position, drives 0 to 7</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Not attached</p></td>
<td><p>Tape not ready; if <code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code>, stop</p></td>
</tr>
<tr class="row-odd"><td><p>End of file</p></td>
<td><p>End of tape</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>End of tape; if <code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code>, stop</p></td>
</tr>
</tbody>
</table>
<p>By default,
the magnetic tape is assigned to channel W.</p>
</section>
</section>
<section id="symbolic-display-and-input">
<h2><span class="sectnum">1.3. </span>Symbolic display and input<a class="headerlink" href="#symbolic-display-and-input" title="Permalink to this heading">¶</a></h2>
<p>The SDS 940 simulator implements symbolic display and input.
Display is controlled by command-line switches:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-a</span></code></p></td>
<td><p>Display as three SDS internal ASCII characters</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-c</span></code></p></td>
<td><p>Display as four packed SDS 6b characters</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-m</span></code></p></td>
<td><p>Display instruction mnemonics</p></td>
</tr>
</tbody>
</table>
<p>Input parsing is controlled by the first character typed in or by command-line switches:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'</span></code> or <code class="docutils literal notranslate"><span class="pre">-a</span></code></p></td>
<td><p>Three packed SDS internal ASCII characters</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">-c</span></code></p></td>
<td><p>Four packed SDS 6b characters</p></td>
</tr>
<tr class="row-odd"><td><p>Alphabetic</p></td>
<td><p>Instruction mnemonic</p></td>
</tr>
<tr class="row-even"><td><p>Numeric</p></td>
<td><p>Octal number</p></td>
</tr>
</tbody>
</table>
<p>Instruction input uses (more or less) standard SDS 940 assembler syntax.
There are ten instruction classes:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Class</p></th>
<th class="head"><p>Operands</p></th>
<th class="head"><p>Examples</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>No operand</p></td>
<td><p>None</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EIR</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POP</span></code> (prog op)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">op,addr{,tag}</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">POP</span> <span class="pre">66,100</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>I/O</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">addr{,tag}</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EOM</span> <span class="pre">1266</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Mem reference</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">addr{,tag}</span></code></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">LDA</span> <span class="pre">400,2</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">STA*</span> <span class="pre">300</span></code></div>
</div>
</td>
<td><p>Indirect addr</p></td>
</tr>
<tr class="row-even"><td><p>Reg change</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">op</span></code> <code class="docutils literal notranslate"><span class="pre">op</span></code> <code class="docutils literal notranslate"><span class="pre">op</span></code>…</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CLA</span> <span class="pre">CLB</span></code></p></td>
<td><p>Opcodes OR</p></td>
</tr>
<tr class="row-odd"><td><p>Shift</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">cnt{,tag}</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">LSH</span> <span class="pre">10</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Operand ignored</p></td>
<td><p>Any</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NOP</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Chan command</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">chan</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ALC</span> <span class="pre">W</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Chan test</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">chan</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CAT</span> <span class="pre">Y</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SYSPOP</span></code> (prog op)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">op,addr{,tag}</span></code></p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">BRS</span> <span class="pre">42</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">SBRM</span> <span class="pre">500</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">CIN*</span> <span class="pre">400,2</span></code></div>
</div>
</td>
<td></td>
</tr>
</tbody>
</table>
<p>All numbers are octal.
Channel designators can be alphabetic (W, Y, C, D, E, F, G, H) or numeric (0-7).
Tags must be 0-7,
with 2 indicating indexing.</p>
<p>In addition,
all display and input commands may specify how the address is mapped to main memory via a command-line switch:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-n</span></code></p></td>
<td><p>Normal, address is an absolute physical address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-x</span></code></p></td>
<td><p>Monitor, map address through the monitor memory map</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-u</span></code></p></td>
<td><p>User, map address through the user memory map</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-v</span></code></p></td>
<td><p>Current, map address through the monitor or user map
depending upon current machine mode</p></td>
</tr>
</tbody>
</table>
<p>Memory mapping defaults to <code class="docutils literal notranslate"><span class="pre">-n</span></code> behavior if no switch is specified.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Python</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="simh_doc.html">SimH Users' Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_swre.html">SimH Sample Software Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_faq.html">SimH FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="nova_doc.html">Data General Nova</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp1_doc.html">Digital Equipment Corporation PDP-1</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp18b_doc.html">Digital Equipment Corporation PDP-4, PDP-7, PDP-9, PDP-15</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp8_doc.html">Digital Equipment Corporation PDP-8</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp10_doc.html">Digital Equipment Corporation PDP-10</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp11_doc.html">Digital Equipment Corporation PDP-11</a></li>
<li class="toctree-l1"><a class="reference internal" href="vax780_doc.html">Digital Equipment Corporation VAX-11/780</a></li>
<li class="toctree-l1"><a class="reference internal" href="vax_doc.html">Digital Equipment Corporation MicroVAX 3900</a></li>
<li class="toctree-l1"><a class="reference internal" href="gri_doc.html">GRI Computer Corporation GRI-909</a></li>
<li class="toctree-l1"><a class="reference internal" href="i1401_doc.html">IBM 1401</a></li>
<li class="toctree-l1"><a class="reference internal" href="i1620_doc.html">IBM 1620</a></li>
<li class="toctree-l1"><a class="reference internal" href="i7094_doc.html">IBM 7094</a></li>
<li class="toctree-l1"><a class="reference internal" href="id_doc.html">Interdata (Perkin Elmer) 16b and 32b systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="h316_doc.html">Honeywell H316/H516</a></li>
<li class="toctree-l1"><a class="reference internal" href="lgp_doc.html">Royal-Mcbee LGP-30 (and LGP-21)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Scientific Data Systems SDS-940</a></li>
<li class="toctree-l1"><a class="reference internal" href="sigma_doc.html">Xerox Data Systems Sigma 32b systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="tx0_doc.html">TX-0 simulator usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_breakpoints.html">The SIMH breakpoint subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_magtape.html">SIMH magtape representation and handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_vmio.html">Adding an I/O device to a SIMH virtual machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulators_acm_queue_2004.html">Simulators: virtual machines of the past and future</a></li>
<li class="toctree-l1"><a class="reference internal" href="Summary%20of%20IMP%20IO%20Device%20Codes.html">Summary of I/O commands for the Arpanet IMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="ssem_doc.html">SSEM simulator usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="swtp6800_doc.html">SWTP 6800 simulator usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh.html">Writing a simulator for the SIMH system</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="lgp_doc.html" title="previous chapter"><span class="sectnum">1. </span>LGP simulator usage</a></li>
      <li>Next: <a href="sigma_doc.html" title="next chapter"><span class="sectnum">1. </span>XDS Sigma 32b simulator usage</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/sds_doc.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>