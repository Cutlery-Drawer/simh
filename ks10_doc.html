
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>1. Dec PDP-10/KS10 simulator usage &#8212; Python  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="dec-pdp-10-ks10-simulator-usage">
<h1><span class="sectnum">1. </span>Dec PDP-10/KS10 simulator usage<a class="headerlink" href="#dec-pdp-10-ks10-simulator-usage" title="Permalink to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2022-02-17</p>
</dd>
<dt class="field-even">Revision<span class="colon">:</span></dt>
<dd class="field-even"><p>$Format:%H$</p>
</dd>
<dt class="field-odd">Copyright<span class="colon">:</span></dt>
<dd class="field-odd"><p>See <a class="reference external" href="../LICENSE.txt">LICENSE.txt</a> for terms of use.</p>
</dd>
</dl>
<aside class="topic">
<p class="topic-title"><strong>Copyright notice</strong></p>
<p>The following copyright notice applies to the SIMH source, binary, and documentation:</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the “Software”),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
<p>Except as contained in this notice, the names of The Authors shall not be
used in advertising or otherwise to promote the sale, use or other dealings
in this Software without prior written authorization from the Authors.</p>
</aside>
<nav class="contents local" id="contents">
<ul class="auto-toc simple">
<li><p><a class="reference internal" href="#introduction" id="id2"><span class="sectnum">1.1. </span>Introduction</a></p></li>
<li><p><a class="reference internal" href="#simulator-files" id="id3"><span class="sectnum">1.2. </span>Simulator files</a></p></li>
<li><p><a class="reference internal" href="#ks10-features" id="id4"><span class="sectnum">1.3. </span>KS10 features</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#cpu" id="id5"><span class="sectnum">1.3.1. </span><code class="docutils literal notranslate"><span class="pre">CPU</span></code></a></p></li>
<li><p><a class="reference internal" href="#ks10-front-end-processor" id="id6"><span class="sectnum">1.3.2. </span>KS10 front end processor</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#console-teletype-cty" id="id7"><span class="sectnum">1.3.2.1. </span>Console teletype (<code class="docutils literal notranslate"><span class="pre">CTY</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#unit-record-i-o-devices" id="id8"><span class="sectnum">1.3.3. </span>Unit record I/O devices</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#lp20-printer-lp20" id="id9"><span class="sectnum">1.3.3.1. </span>LP20 printer (<code class="docutils literal notranslate"><span class="pre">LP20</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#disk-i-o-devices" id="id10"><span class="sectnum">1.3.4. </span>Disk I/O devices</a></p></li>
<li><p><a class="reference internal" href="#massbus-devices" id="id11"><span class="sectnum">1.3.5. </span>Massbus devices</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#rp-disk-drives" id="id12"><span class="sectnum">1.3.5.1. </span>RP disk drives</a></p></li>
<li><p><a class="reference internal" href="#tua-tape-drives" id="id13"><span class="sectnum">1.3.5.2. </span><code class="docutils literal notranslate"><span class="pre">TUA</span></code> tape drives</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#terminal-multiplexer-i-o-devices" id="id14"><span class="sectnum">1.3.6. </span>Terminal multiplexer I/O devices</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#dz11-terminal-controller" id="id15"><span class="sectnum">1.3.6.1. </span><code class="docutils literal notranslate"><span class="pre">DZ11</span></code> terminal controller</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#network-devices" id="id16"><span class="sectnum">1.3.7. </span>Network devices</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#imp-interface-message-processor" id="id17"><span class="sectnum">1.3.7.1. </span>IMP interface message processor</a></p></li>
<li><p><a class="reference internal" href="#ch11-chaosnet-interface" id="id18"><span class="sectnum">1.3.7.2. </span><code class="docutils literal notranslate"><span class="pre">CH11</span></code> Chaosnet interface</a></p></li>
<li><p><a class="reference internal" href="#kmc11-communications-controller" id="id19"><span class="sectnum">1.3.7.3. </span><code class="docutils literal notranslate"><span class="pre">KMC11</span></code> communications controller</a></p></li>
<li><p><a class="reference internal" href="#dup11-network-interface" id="id20"><span class="sectnum">1.3.7.4. </span><code class="docutils literal notranslate"><span class="pre">DUP11</span></code> network interface</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#symbolic-display-and-input" id="id21"><span class="sectnum">1.4. </span>Symbolic display and input</a></p></li>
<li><p><a class="reference internal" href="#os-specific-configurations" id="id22"><span class="sectnum">1.5. </span>OS specific configurations</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#its" id="id23"><span class="sectnum">1.5.1. </span>ITS</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="introduction">
<h2><span class="sectnum">1.1. </span>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>Originally the DEC PDP-10 computer started as the PDP-6.
This was a 36-bit computer that was designed for time-sharing,
which was introduced in 1964.
The original goal of the machine was to allow for processing of many 6-bit characters at a time.
36 bits were also common in machines like the IBM 7090, GE 645, and Univac 11xx lines.
Several systems influenced the design of the PDP-6,
like CTSS, Lisp, support for larger memory.
The PDP-6 was canceled by DEC due to production problems.
The engineers designed a smaller replacement,
which happened to be a 36-bit computer that looked very much like the PDP-6.
This was called the PDP-10, later renamed to “DECSystem-10”.
The system supported up to 256K words of memory.</p>
<p>The first PDP-10 was labeled KA10,
and added a few instructions to the PDP-6.
Both the PDP-6 and PDP-10 used a base and limit relocation scheme.
The KA10 generally offered two registers,
one of user data and the second for user-shared code.
These were referred to the Low-Segment and High-Segment;
the High-Segment could be shared with several jobs.
The next version was called KI10 for Integrated.
This added support for paging and double-precision floating-point instructions.
It also added 4 sets of registers to improve context switching time.
It could also support up to 4Mega words of memory.
Following the KI10 was the KL10 (for Low-Cost).
The KL10 added double-precision integer instructions and instructions to improve COBOL performance.
This was the first version which was microcoded.
The KL10 was extended to support user programs larger then 256k.
The final version to make it to market was the KS10 (for Small);
this was a bit-slice version of the PDP-10 which used UNIBUS devices,
which were cheaper then the KL10 devices.</p>
<p>The original operating system for the PDP-6/PDP-10 was just called “Monitor”.
It was designed to fit into 6K words.
Around the third release, swapping was added.
The sixth release saw the addition of virtual memory.
Around the fourth release,
it was given the name “TOPS-10”.
Around this time, BBN was working on a paging system and implemented it on the PDP-10.
This was called “Tenex”.
This was later adopted by DEC and became “Tops-20”.</p>
<p>During the mid-60s,
a group at MIT,
who where not happy with how Multics was being developed,
decided to create their own operating system which they called Incompatible Timesharing System “ITS”,
was a play on the original project called Compatible Timesharing System “CTSS”.
CTSS was implemented by MIT on their IBM 7090 as an experimental system that allowed multiple time-sharing users to co-exist on the same machine running batch processing.
Hence the term Compatable.</p>
<p>Also during the mid-60s,
a group at Stanford Artificial Intelligence Laboratory (SAIL) started with a version of TOPS-10 and heavily modified it to become WAITS.</p>
<p>During the 70s,
Tymshare starting with DEC TOPS-10 system modified it to support random access files,
paging with working sets and spawn-able processes.
This ran on the KI10, KL10 and KS10.</p>
<p>The PDP-10 was ultimately replaced by the VAX.</p>
</section>
<section id="simulator-files">
<h2><span class="sectnum">1.2. </span>Simulator files<a class="headerlink" href="#simulator-files" title="Permalink to this heading">¶</a></h2>
<p>To compile the DEC 10/KS10 simulator,
you must define <code class="docutils literal notranslate"><span class="pre">USE_INT64</span></code> as part of the compilation command-line.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Subdirectory</p></td>
<td><p>File</p></td>
<td><p>Contains</p></td>
</tr>
<tr class="row-even"><td rowspan="18"><p><code class="docutils literal notranslate"><span class="pre">PDP10/</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">kx10_defs.h</span></code></p></td>
<td><p>KL10 simulator definitions</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">kx10_cpu.c</span></code></p></td>
<td><p>KL10 CPU</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">kx10_disk.h</span></code></p></td>
<td><p>Disk formatter definitions</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">kx10_disk.c</span></code></p></td>
<td><p>Disk formatter routine</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">kx10_sys.c</span></code></p></td>
<td><p>KS10 system interface</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">kx10_rp.c</span></code></p></td>
<td><p>RH10/RH20 disk controller, RP04/5/6 disks</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">kx10_tu.c</span></code></p></td>
<td><p>RH10/RH20 TM03 magnetic tape controller</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">kx10_rh.c</span></code></p></td>
<td><p>RH11 controller</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ks10_lp.c</span></code></p></td>
<td><p>LP 10 line printer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ks10_dz.c</span></code></p></td>
<td><p>DZ11 communications controller</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ks10_cty.c</span></code></p></td>
<td><p>KS10 front panel</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ks10_uba.c</span></code></p></td>
<td><p>KS10 Unibus interface</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">kx10_imp.c</span></code></p></td>
<td><p>IMP11 interface to Ethernet</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ks10_ch11.c</span></code></p></td>
<td><p>Chaosnet 11 interface</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ks10_dup.c</span></code></p></td>
<td><p>DUP11 interface</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ks10_dup.h</span></code></p></td>
<td><p>Header file for DUP11 interface</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pdp11_ddcmp.h</span></code></p></td>
<td><p>Header to define interface for DECnet</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ks10_kmc.c</span></code></p></td>
<td><p>KMC communications controller</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ks10-features">
<h2><span class="sectnum">1.3. </span>KS10 features<a class="headerlink" href="#ks10-features" title="Permalink to this heading">¶</a></h2>
<p>The KS10 simulator is configured as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Device name(s)</p></th>
<th class="head"><p>Simulates</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#cpu"><code class="docutils literal notranslate"><span class="pre">CPU</span></code></a></p></td>
<td><p>KS10 CPU with 256KW of memory</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cty"><code class="docutils literal notranslate"><span class="pre">CTY</span></code></a></p></td>
<td><p>Console TTY</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#lp20"><code class="docutils literal notranslate"><span class="pre">LP20</span></code></a></p></td>
<td><p>LP10 line Printer</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#rpa"><code class="docutils literal notranslate"><span class="pre">RPA</span></code></a></p></td>
<td><p>RH10/RH20 disk controllers via RH10</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tua"><code class="docutils literal notranslate"><span class="pre">TUA</span></code></a></p></td>
<td><p>TM02 tape controller via RH10/RH20</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dz"><code class="docutils literal notranslate"><span class="pre">DZ</span></code></a></p></td>
<td><p>DC10 communications controller</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#imp"><code class="docutils literal notranslate"><span class="pre">IMP</span></code></a></p></td>
<td><p>IMP network interface</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ch"><code class="docutils literal notranslate"><span class="pre">CH</span></code></a></p></td>
<td><p>CH10 Chaosnet interface</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dup"><code class="docutils literal notranslate"><span class="pre">DUP</span></code></a></p></td>
<td><p>DUP11 interface</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#kdp"><code class="docutils literal notranslate"><span class="pre">KDP</span></code></a></p></td>
<td><p>KMC11 interface</p></td>
</tr>
</tbody>
</table>
<section id="cpu">
<h3><span class="sectnum">1.3.1. </span><code class="docutils literal notranslate"><span class="pre">CPU</span></code><a class="headerlink" href="#cpu" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">CPU</span></code> options include setting memory size and O/S customization.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>SET CPU 256K</samp></span></p></td>
<td><p>Set memory to 256K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET CPU 512K</samp></span></p></td>
<td><p>Set memory to 512K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET CPU 1024K</samp></span></p></td>
<td><p>Set memory to 1024K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET CPU ITS</samp></span></p></td>
<td><p>Add ITS pager and instruction support to KS</p></td>
<td><p>ITS</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET CPU NOIDLE</samp></span></p></td>
<td><p>Disable idle detection</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET CPU IDLE</samp></span></p></td>
<td><p>Enables idle detection</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>CPU registers include the visible state of the processor,
as well as the control registers for the interrupt system.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PC</span></code></p></td>
<td><p>18</p></td>
<td><p>Program counter</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">FLAGS</span></code></p></td>
<td><p>18</p></td>
<td><p>Flags</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FM0-FM17</span></code></p></td>
<td><p>36</p></td>
<td><p>Fast memory</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SW</span></code></p></td>
<td><p>36</p></td>
<td><p>Console SW register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MI</span></code></p></td>
<td><p>36</p></td>
<td><p>Monitor display</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PIR</span></code></p></td>
<td><p>8</p></td>
<td><p>Priority interrupt request</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PIH</span></code></p></td>
<td><p>8</p></td>
<td><p>Priority interrupt hold</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PIE</span></code></p></td>
<td><p>8</p></td>
<td><p>Priority interrupt enable</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PIENB</span></code></p></td>
<td><p>1</p></td>
<td><p>Enable priority system</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BYF5</span></code></p></td>
<td><p>1</p></td>
<td><p>Byte flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">UUO</span></code></p></td>
<td><p>1</p></td>
<td><p>UUO cycle</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">NXM</span></code></p></td>
<td><p>1</p></td>
<td><p>Non-existing memory access</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CLK</span></code></p></td>
<td><p>1</p></td>
<td><p>Clock interrupt</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">OV</span></code></p></td>
<td><p>1</p></td>
<td><p>Overflow enable</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FOV</span></code></p></td>
<td><p>1</p></td>
<td><p>Floating overflow enable</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">APRIRQ</span></code></p></td>
<td><p>3</p></td>
<td><p>APR interrupt number</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">UB</span></code></p></td>
<td><p>22</p></td>
<td><p>User base pointer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EB</span></code></p></td>
<td><p>22</p></td>
<td><p>Executive base pointer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FMSEL</span></code></p></td>
<td><p>8</p></td>
<td><p>Register set selection</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SERIAL</span></code></p></td>
<td><p>10</p></td>
<td><p>System serial number</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PAGE_ENABLE</span></code></p></td>
<td><p>1</p></td>
<td><p>Paging system enabled</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PAGE_FAULT</span></code></p></td>
<td><p>1</p></td>
<td><p>Page fault flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FAULT_DATA</span></code></p></td>
<td><p>36</p></td>
<td><p>Page fault data</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SPT</span></code></p></td>
<td><p>18</p></td>
<td><p>Special page table</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CST</span></code></p></td>
<td><p>18</p></td>
<td><p>Memory status table</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PU</span></code></p></td>
<td><p>36</p></td>
<td><p>User data</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CSTM</span></code></p></td>
<td><p>36</p></td>
<td><p>Status mask</p></td>
</tr>
</tbody>
</table>
<p>The CPU can maintain a history of the most recently executed instructions.</p>
<p>This is controlled by the <span class="html"><samp>SET CPU HISTORY</samp></span> and <span class="html"><samp>SHOW CPU HISTORY</samp></span> commands:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>SET CPU HISTORY</samp></span></p></td>
<td><p>Clear history buffer</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET CPU HISTORY=<var>0</var></samp></span></p></td>
<td><p>Disable history</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET CPU HISTORY=<var>n</var></samp></span></p></td>
<td><p>Enable history, length = <span class="html"><samp><var>n</var></samp></span></p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SHOW CPU HISTORY</samp></span></p></td>
<td><p>Print CPU history</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SHOW CPU HISTORY=<var>n</var></samp></span></p></td>
<td><p>Print first <span class="html"><samp><var>n</var></samp></span> entries of CPU history</p></td>
</tr>
</tbody>
</table>
<p>Instruction tracing shows the program counter,
the contents of AC selected,
the computed effective address.
AR is generally the contents the memory location referenced by EA.
RES is the result of the instruction.
FLAGS shows the flags after the instruction is executed.
IR shows the instruction being executed.</p>
</section>
<section id="ks10-front-end-processor">
<h3><span class="sectnum">1.3.2. </span>KS10 front end processor<a class="headerlink" href="#ks10-front-end-processor" title="Permalink to this heading">¶</a></h3>
<span class="target" id="cty"><span id="console-teletype"></span></span><section id="console-teletype-cty">
<h4><span class="sectnum">1.3.2.1. </span>Console teletype (<code class="docutils literal notranslate"><span class="pre">CTY</span></code>)<a class="headerlink" href="#console-teletype-cty" title="Permalink to this heading">¶</a></h4>
<p>The console station allows for communications with the operating system.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>SET CTY 7B</samp></span></p></td>
<td><p>7-bit characters, space parity</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET CTY 8B</samp></span></p></td>
<td><p>8-bit characters, space parity</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET CTY 7P</samp></span></p></td>
<td><p>7-bit characters, space parity</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET CTY UC</samp></span></p></td>
<td><p>Translate lowercase to uppercase</p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">CTY</span></code> also supports a method for stopping TOPS10 operating system.</p>
</section>
</section>
<section id="unit-record-i-o-devices">
<h3><span class="sectnum">1.3.3. </span>Unit record I/O devices<a class="headerlink" href="#unit-record-i-o-devices" title="Permalink to this heading">¶</a></h3>
<span class="target" id="lp20"><span id="lp20-printer"></span></span><section id="lp20-printer-lp20">
<h4><span class="sectnum">1.3.3.1. </span>LP20 printer (<code class="docutils literal notranslate"><span class="pre">LP20</span></code>)<a class="headerlink" href="#lp20-printer-lp20" title="Permalink to this heading">¶</a></h4>
<p>The line printer (<code class="docutils literal notranslate"><span class="pre">LP20</span></code>) writes data to a disk file as ASCII text with terminating newlines.
Currently set to handle standard signals to control paper advance.
Currently, only one line printer device is supported.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>SET LP20 LC</samp></span></p></td>
<td><p>Allow printer to print lowercase</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET LP20 UC</samp></span></p></td>
<td><p>Print only uppercase</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET LP20 LINESPERPAGE=<var>n</var></samp></span></p></td>
<td><p>Set the number of lines before an auto form feed is generated.
There is an automatic margin of 6 lines.
There is a maximum of 100 lines per page.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET LP20 NORMAL</samp></span></p></td>
<td><p>Allow the VFU to be loading into the printer</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET LP20 OPTICAL</samp></span></p></td>
<td><p>VFU is fixed in the printer.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET LP20 ADDR=<var>value</var></samp></span></p></td>
<td><p>Set the Unibus address of device (default: 775400)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET LP20 VECT=<var>value</var></samp></span></p></td>
<td><p>Set the interrupt vector of device (default: 754)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET LP20 BR=<var>value</var></samp></span></p></td>
<td><p>Set the interrupt priority of device (default: 5)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET LP20 CTL=<var>value</var></samp></span></p></td>
<td><p>Set the Unibus adapter number (default: 3)</p></td>
</tr>
</tbody>
</table>
<p>These characters control the skipping of various number of lines.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Character</p></th>
<th class="head"><p>Effect</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">014</span></code></p></td>
<td><p>Skip to top of form</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">013</span></code></p></td>
<td><p>Skip mod 20 lines</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">020</span></code></p></td>
<td><p>Skip mod 30 lines</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">021</span></code></p></td>
<td><p>Skip to even line</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">022</span></code></p></td>
<td><p>Skip to every 3 line</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">023</span></code></p></td>
<td><p>Same as line feed (12),
but ignore margin</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="disk-i-o-devices">
<h3><span class="sectnum">1.3.4. </span>Disk I/O devices<a class="headerlink" href="#disk-i-o-devices" title="Permalink to this heading">¶</a></h3>
<p>The PDP-10 supported many disk controllers.
The KS10 supports only mass bus devices.</p>
</section>
<section id="massbus-devices">
<h3><span class="sectnum">1.3.5. </span>Massbus devices<a class="headerlink" href="#massbus-devices" title="Permalink to this heading">¶</a></h3>
<p>Massbus devices are attached via RH11s.</p>
<section id="rp-disk-drives">
<span id="rpa"></span><h4><span class="sectnum">1.3.5.1. </span>RP disk drives<a class="headerlink" href="#rp-disk-drives" title="Permalink to this heading">¶</a></h4>
<p>The KS10 supports one RH11 controller with up to 8 RP drives can be configured.
These are addresses as RP disks can be stored in one of several file formats,
SIMH, DBD9 and DLD9.
The latter two are for compatibility with other simulators.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>SET RPA<var>n</var> RP04</samp></span></p></td>
<td><p>Set this unit to be an RP04 (19MWords)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET RPA<var>n</var> RP06</samp></span></p></td>
<td><p>Set this unit to be an RP06 (39MWords)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET RPA<var>n</var> RP07</samp></span></p></td>
<td><p>Set this unit to be an RP07 (110MWords)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET RPA<var>n</var> LOCKED</samp></span></p></td>
<td><p>Set this unit to be read-only</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET RPA<var>n</var> WRITEENABLE</samp></span></p></td>
<td><p>Set this unit to be writable</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET RPA ADDR=<var>value</var></samp></span></p></td>
<td><p>Set the Unibus address of device (default: 776700)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET RPA VECT=<var>value</var></samp></span></p></td>
<td><p>Set the interrupt vector of device (default: 254)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET RPA BR=<var>value</var></samp></span></p></td>
<td><p>Set the interrupt priority of device (default: 6)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET RPA CTL=<var>value</var></samp></span></p></td>
<td><p>Set the Unibus adapter number (default: 1)</p></td>
</tr>
</tbody>
</table>
<p>To attach a disk,
use the <span class="html"><samp>ATTACH</samp></span> command:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>ATTACH RPA<var>n</var> <var>file</var></samp></span></p></td>
<td><p>Attach a file</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>ATTACH RA<var>n</var> -f <var>format</var> <var>file</var></samp></span></p></td>
<td><p>Attach a file with the given format</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>ATTACH RPA<var>n</var> -n <var>file</var></samp></span></p></td>
<td><p>Create a blank disk</p></td>
</tr>
</tbody>
</table>
<p><span class="html"><samp><var>format</var></samp></span> can be <code class="docutils literal notranslate"><span class="pre">SIMH</span></code>, <code class="docutils literal notranslate"><span class="pre">DBD9</span></code>, or <code class="docutils literal notranslate"><span class="pre">DLD9</span></code>.</p>
<span class="target" id="tu"><span id="tua"></span><span id="tape-drives"></span></span></section>
<section id="tua-tape-drives">
<h4><span class="sectnum">1.3.5.2. </span><code class="docutils literal notranslate"><span class="pre">TUA</span></code> tape drives<a class="headerlink" href="#tua-tape-drives" title="Permalink to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">TU</span></code> is a mass bus tape controller using a TM03 formatter.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>SET TUA<var>n</var> LOCKED</samp></span></p></td>
<td><p>Set the mag tape to be read-only</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET TUA<var>n</var> WRITEENABLE</samp></span></p></td>
<td><p>Set the mag tape to be writable</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET TUA ADDR=<var>value</var></samp></span></p></td>
<td><p>Set the Unibus address of device (default: 772440)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET TUA VECT=<var>value</var></samp></span></p></td>
<td><p>Set the interrupt vector of device (default: 224)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET TUA BR=<var>value</var></samp></span></p></td>
<td><p>Set the interrupt priority of device (default: 6)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET TUA CTL=<var>value</var></samp></span></p></td>
<td><p>Set the Unibus adapter number (default: 3)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="terminal-multiplexer-i-o-devices">
<h3><span class="sectnum">1.3.6. </span>Terminal multiplexer I/O devices<a class="headerlink" href="#terminal-multiplexer-i-o-devices" title="Permalink to this heading">¶</a></h3>
<p>All terminal multiplexers must be attached in order to work.
The <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> command specifies the port to be used for Telnet sessions:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>ATTACH <var>device</var> <var>port</var></samp></span></p></td>
<td><p>Setup listening port</p></td>
</tr>
</tbody>
</table>
<p>where <span class="html"><samp><var>port</var></samp></span> is a decimal number between 1 and 65535 that is not being used other TCP/IP activities.</p>
<p>Once attached and the simulator is running,
the multiplexer listens for connections on the specified port.
It assumes that any incoming connection is a Telnet connection.
The connections remain open until disconnected either by the Telnet client,
a <span class="html"><samp>SET <var>device</var> DISCONNECT</samp></span> command,
or a <span class="html"><samp>DETACH <var>device</var> command</samp></span>.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>SET <var>device</var> DISCONNECT=<var>n</var></samp></span></p></td>
<td><p>Disconnect line <span class="html"><samp><var>n</var></samp></span></p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp><var>device</var></samp></span> implements the following special <span class="html"><samp>SHOW</samp></span> commands:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>SHOW <var>device</var> CONNECTIONS</samp></span></p></td>
<td><p>Display current connections to the <span class="html"><samp><var>device</var></samp></span></p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SHOW <var>device</var> STATISTICS</samp></span></p></td>
<td><p>Display statistics for active connections</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SHOW <var>device</var> LOG</samp></span></p></td>
<td><p>Display logging for all lines</p></td>
</tr>
</tbody>
</table>
<p>Logging can be controlled as follows:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>SET <var>device</var> LOG=<var>n</var>=<var>filename</var></samp></span></p></td>
<td><p>Log output of line <span class="html"><samp><var>n</var></samp></span> to <span class="html"><samp><var>filename</var></samp></span></p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET <var>device</var> NOLOG</samp></span></p></td>
<td><p>Disable logging and close log file</p></td>
</tr>
</tbody>
</table>
<section id="dz11-terminal-controller">
<span id="dz"></span><span id="dz11"></span><h4><span class="sectnum">1.3.6.1. </span><code class="docutils literal notranslate"><span class="pre">DZ11</span></code> terminal controller<a class="headerlink" href="#dz11-terminal-controller" title="Permalink to this heading">¶</a></h4>
<p>The DZ device was the standard terminal multiplexer for the KS10.
Lines came in groups of 8.
A maximum of 32 lines can be supported.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>SET DZ LINES=<var>n</var></samp></span></p></td>
<td><p>Set the number of lines on the DZ10, multiple of 8</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET DZ ADDR=<var>value</var></samp></span></p></td>
<td><p>Set the Unibus address of device (default: 760000)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET DZ VECT=<var>value</var></samp></span></p></td>
<td><p>Set the interrupt vector of device (default: 340)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET DZ BR=<var>value</var></samp></span></p></td>
<td><p>Set the interrupt priority of device (default: 5)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET DZ CTL=<var>value</var></samp></span></p></td>
<td><p>Set the Unibus adapter number (default: 3)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="network-devices">
<h3><span class="sectnum">1.3.7. </span>Network devices<a class="headerlink" href="#network-devices" title="Permalink to this heading">¶</a></h3>
<section id="imp-interface-message-processor">
<span id="imp"></span><h4><span class="sectnum">1.3.7.1. </span>IMP interface message processor<a class="headerlink" href="#imp-interface-message-processor" title="Permalink to this heading">¶</a></h4>
<p>This allows the KS to connect to the Internet.
Currently only supported under ITS.
ITS and other OSes that used the <code class="docutils literal notranslate"><span class="pre">IMP</span></code> did not support modern protocols and typically required a complete rebuild to change the IP address.
Because of this,
the <code class="docutils literal notranslate"><span class="pre">IMP</span></code> processor includes built-in NAT and DHCP support.
For ITS, the system generated IP packets which are translated to the local network.
If the HOST is set to <code class="docutils literal notranslate"><span class="pre">0.0.0.0</span></code>,
there will be no translation.
If HOST is set to an IP address,
then it will be mapped into the address set in IP.
If DHCP is enabled,
the <code class="docutils literal notranslate"><span class="pre">IMP</span></code> will issue a DHCP request at startup and set IP to the address that is provided.
DHCP is enabled by default.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>SET IMP MAC=<var>xx:xx:xx:xx:xx:xx</var></samp></span></p></td>
<td><p>Set the MAC address of the <code class="docutils literal notranslate"><span class="pre">IMP</span></code> to the value given</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET IMP IP=<var>ddd.ddd.ddd.ddd</var>/<var>dd</var></samp></span></p></td>
<td><p>Set the external IP address of the <code class="docutils literal notranslate"><span class="pre">IMP</span></code> along with the net mask in bits</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET IMP GW=<var>ddd.ddd.ddd.ddd</var></samp></span></p></td>
<td><p>Set the Gateway address for the <code class="docutils literal notranslate"><span class="pre">IMP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET IMP HOST=<var>ddd.ddd.ddd.ddd</var></samp></span></p></td>
<td><p>Sets the IP address of the PDP-10 system</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET IMP DHCP</samp></span></p></td>
<td><p>Allow the <code class="docutils literal notranslate"><span class="pre">IMP</span></code> to acquire an IP address from the local network via DHCP. Only HOST must be set if this feature is used</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET IMP NODHCP</samp></span></p></td>
<td><p>Disable the <code class="docutils literal notranslate"><span class="pre">IMP</span></code> from making DHCP queries</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET IMP ARP=<var>ddd.ddd.ddd.ddd</var>=<var>xx:xx:xx:xx:xx:xx</var></samp></span></p></td>
<td><p>Create a static ARP entry for the IP address with the indicated MAC address</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET IMP ADDR=<var>value</var></samp></span></p></td>
<td><p>Set the Unibus address of device (default: 767600)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET IMP VECT=<var>value</var></samp></span></p></td>
<td><p>Set the interrupt vector of device (default: 250)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET IMP BR=<var>value</var></samp></span></p></td>
<td><p>Set the interrupt priority of device (default: 6)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET IMP CTL=<var>value</var></samp></span></p></td>
<td><p>Set the Unibus adapter number (default: 3)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SHOW IMP ARP</samp></span></p></td>
<td><p>Display the IP address to MAC address table</p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">IMP</span></code> device must be attached to an available Ethernet interface.
To determine which devices are available,
use the <span class="html"><samp>SHOW ETHERNET</samp></span> command to list the potential interfaces.
Check out the <a class="reference external" href="../0readme_ethernet.txt"><code class="docutils literal notranslate"><span class="pre">0readme_ethernet.txt</span></code></a> file from the top of the source directory.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">IMP</span></code> device can be configured in several ways.
Ether it can connect directly to an Ethernet port (via TAP),
or it can be connected via a TUN interface.
If configured via TAP interface,
the <code class="docutils literal notranslate"><span class="pre">IMP</span></code> will behave like any other Ethernet interface and if asked,
grab its own address.
In environments where this is not desired,
the TUN interface can be used.
When configured under a TUN interface,
the simulated network is a collection of ports on the local host.
These can be mapped based on configuration options;
see the <a class="reference external" href="../0readme_ethernet.txt"><code class="docutils literal notranslate"><span class="pre">0readme_ethernet.txt</span></code></a> file as to options.</p>
<p>With the <code class="docutils literal notranslate"><span class="pre">IMP</span></code> interface,
the IP address of the simulated system is static,
and under ITS,
is configured into the system at compile time.
This address should be given to the <code class="docutils literal notranslate"><span class="pre">IMP</span></code> with the <span class="html"><samp>set imp host=<var>ip</var></samp></span> command;
the <code class="docutils literal notranslate"><span class="pre">IMP</span></code> will direct all traffic it sees to this address.
If this address is not the same as the address of the system as seen by the network,
then this address can be set with <span class="html"><samp>set imp ip=<var>ip</var></samp></span>,
and <span class="html"><samp>set imp gw=<var>ip</var></samp></span>,
or <span class="html"><samp>set imp dhcp</samp></span> which will allow the <code class="docutils literal notranslate"><span class="pre">IMP</span></code> to request an address from a local DHCP server.
The <code class="docutils literal notranslate"><span class="pre">IMP</span></code> will translate the packets it receives/sends to look like the appeared from the desired address.
The <code class="docutils literal notranslate"><span class="pre">IMP</span></code> will also correctly translate FTP requests in this configuration.</p>
<p>When running under a TUN interface,
<code class="docutils literal notranslate"><span class="pre">IMP</span></code> is on a virtual <code class="docutils literal notranslate"><span class="pre">10.0.2.0</span></code> network.
The default gateway is <code class="docutils literal notranslate"><span class="pre">10.0.2.1</span></code>,
with the default <code class="docutils literal notranslate"><span class="pre">IMP</span></code> at <code class="docutils literal notranslate"><span class="pre">10.0.2.15</span></code>.
For this mode,
DHCP can be used.</p>
</section>
<section id="ch11-chaosnet-interface">
<span id="ch"></span><span id="ch11"></span><h4><span class="sectnum">1.3.7.2. </span><code class="docutils literal notranslate"><span class="pre">CH11</span></code> Chaosnet interface<a class="headerlink" href="#ch11-chaosnet-interface" title="Permalink to this heading">¶</a></h4>
<p>Chaosnet was another method of network access for ITS.
Chaosnet can be connected to another ITS system or a VAX/PDP-11 running BSD Unix or VMS.
Chaosnet runs over UDP protocol under Unix.
You must specify a node number,
peer to talk to,
and your local UDP listening port.
All UDP packets are sent to the peer for further processing.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>SET CH NODE=<var>n</var></samp></span></p></td>
<td><p>Set the Node number for this system</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET CH PEER=<var>ddd.ddd.ddd.ddd:dddd</var></samp></span></p></td>
<td><p>Set the Peer address and port number</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET CH ADDR=<var>value</var></samp></span></p></td>
<td><p>Set the Unibus address of device (default: 764140)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET CH VECT=<var>value</var></samp></span></p></td>
<td><p>Set the interrupt vector of device (default: 270)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET CH BR=<var>value</var></samp></span></p></td>
<td><p>Set the interrupt priority of device (default: 6)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET CH CTL=<var>value</var></samp></span></p></td>
<td><p>Set the Unibus adapter number (default: 3)</p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">CH</span></code> device must be attached to a UDP port number.
This is where it will receive UDP packets from its peer.</p>
</section>
<section id="kmc11-communications-controller">
<span id="kdp"></span><span id="kmc11"></span><h4><span class="sectnum">1.3.7.3. </span><code class="docutils literal notranslate"><span class="pre">KMC11</span></code> communications controller<a class="headerlink" href="#kmc11-communications-controller" title="Permalink to this heading">¶</a></h4>
<p>The KMC11-A is a general purpose microprocessor that is used in several DEC products.
The <code class="docutils literal notranslate"><span class="pre">KDP</span></code> is an emulation of one of those products: COMM IOP-DUP.
The COMM IOP-DUP microcode controls and supervises 1 - 16 <code class="docutils literal notranslate"><span class="pre">DUP-11</span></code> synchronous communications line interfaces,
providing scatter/gather DMA,
message framing,
modem control,
CRC validation,
receiver resynchronization,
and address recognition.
The <code class="docutils literal notranslate"><span class="pre">DUP-11</span></code> lines are assigned to the <code class="docutils literal notranslate"><span class="pre">KMC11</span></code> by the (emulated) operating system,
but SIMH must be told how to connect them.</p>
</section>
<section id="dup11-network-interface">
<span id="dup"></span><span id="dup11"></span><h4><span class="sectnum">1.3.7.4. </span><code class="docutils literal notranslate"><span class="pre">DUP11</span></code> network interface<a class="headerlink" href="#dup11-network-interface" title="Permalink to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">DUP11</span></code> devices are used by DECnet to link machines together.
They are a synchronous serial interface.
This is implemented by UDP to send packets to the remote machine.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>SET DUP LINES=<var>n</var></samp></span></p></td>
<td><p>Set number of DUP-11 lines supported; current max is 2</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET DUP<var>n</var> SPEED=<var>bits/sec</var></samp></span></p></td>
<td><p>Set speed of link, default of 0 means no restrictions</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET DUP<var>n</var> CORRUPTION=<var>factor</var></samp></span></p></td>
<td><p>Specify corruption factor</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET DUP<var>n</var> W3</samp></span></p></td>
<td><p>Enable Reset option</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET DUP<var>n</var> NOW3</samp></span></p></td>
<td><p>Disable reset option</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET DUP<var>n</var> W5</samp></span></p></td>
<td><p>Enable A dataset control option</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET DUP<var>n</var> NOW5</samp></span></p></td>
<td><p>Disable A dataset control option</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET DUP<var>n</var> W6</samp></span></p></td>
<td><p>Enable A &amp; B dataset control option</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET DUP<var>n</var> NOW6</samp></span></p></td>
<td><p>Disable A &amp; B dataset control option</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET DUP ADDR=<var>value</var></samp></span></p></td>
<td><p>Set the Unibus address of device (default: 760300)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET DUP VECT=<var>value</var></samp></span></p></td>
<td><p>Set the interrupt vector of device (default: 570)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SET DUP BR=<var>value</var></samp></span></p></td>
<td><p>Set the interrupt priority of device (default: 5)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SET DUP CTL=<var>value</var></samp></span></p></td>
<td><p>Set the Unibus adapter number (default: 3)</p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">DUP</span></code> device must be attached to a UDP port number.
This is where it will receive UDP packets from its peer.</p>
<section id="attach">
<span id="id1"></span><h5><span class="sectnum">1.3.7.4.1. </span>Attach<a class="headerlink" href="#attach" title="Permalink to this heading">¶</a></h5>
<p>The communication line performs input and output through a TCP session (or UDP session) connected to a user-specified port.
The <span class="html"><samp>ATTACH</samp></span> command specifies the port to be used as well as the peer address:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sim</span><span class="o">&gt;</span> <span class="n">ATTACH</span> <span class="n">DUP0</span> <span class="p">{</span><span class="n">interface</span><span class="p">:}</span><span class="n">port</span><span class="p">{,</span><span class="n">UDP</span><span class="p">},</span><span class="n">Connect</span><span class="o">=</span><span class="n">peerhost</span><span class="p">:</span><span class="n">port</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">port</span></code> is a decimal number between 1 and 65535 that is not being used for other TCP/IP activities.</p>
<p>Specifying symmetric attach configuration
(with both a listen port and a peer address)
will cause the side receiving an incoming connection to validate that the connection actually comes from the connecction destination system.</p>
<p>A symmetric attach configuration is required when using UDP packet transport.</p>
<p>The default connection uses TCP transport between the local system and the peer.
Alternatively,
UDP can be used by specifying UDP on the <span class="html"><samp>ATTACH</samp></span> command.</p>
<p>For more connection options,
view the <span class="html"><samp>Help attach</samp></span> command for the <code class="docutils literal notranslate"><span class="pre">DUP</span></code>.</p>
</section>
</section>
</section>
</section>
<section id="symbolic-display-and-input">
<h2><span class="sectnum">1.4. </span>Symbolic display and input<a class="headerlink" href="#symbolic-display-and-input" title="Permalink to this heading">¶</a></h2>
<p>The KL10 simulator implements symbolic display and input.
These are controlled by the following switches to the <span class="html"><samp>EXAMINE</samp></span> and <span class="html"><samp>DEPOSIT</samp></span> commands:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-v</span></code></p></td>
<td><p>Lookup the address via translation, will return nothing if address is not valid</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-u</span></code></p></td>
<td><p>With the <code class="docutils literal notranslate"><span class="pre">-v</span></code> option, used user space instead of executive space</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-a</span></code></p></td>
<td><p>Display/enter ASCII data</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-p</span></code></p></td>
<td><p>Display/enter packed ASCII data</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-c</span></code></p></td>
<td><p>Display/enter six-bit character data</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-m</span></code></p></td>
<td><p>Display/enter symbolic instructions</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Display/enter octal data</p></td>
</tr>
</tbody>
</table>
<p>Symbolic instructions can be of the formats:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Opcode</span> <span class="pre">ac,operand</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Opcode</span> <span class="pre">operands</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I/O</span> <span class="pre">Opcode</span> <span class="pre">device,address</span></code></p></li>
</ul>
<p>Operands can be one or more of the following in order:</p>
<ul class="simple">
<li><p>Optional <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> for indirection</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">+</span></code> or <code class="docutils literal notranslate"><span class="pre">-</span></code> to set sign</p></li>
<li><p>Octal number</p></li>
<li><p>Optional (<code class="docutils literal notranslate"><span class="pre">ac</span></code>) for indexing</p></li>
</ul>
<p>Breakpoints can be set at real memory address.
The PDP-10 supports 3 types of breakpoints: Execution, Memory Access, and Memory Modify.
The default is execution.
Adding <code class="docutils literal notranslate"><span class="pre">-R</span></code> to the breakpoint command will stop the simulator on access to that memory location,
either via fetch, indirection or operand access.
Adding <code class="docutils literal notranslate"><span class="pre">-w</span></code> will stop the simulator when the location is modified.</p>
<p>The simulator can load RIM files,
SAV files,
EXE files,
Waits Octal DMP files,
and MIT SBLK files.</p>
<p>When instruction history is enabled,
the history trace shows the internal status of various registers at the start of the instruction execution.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PC</span></code></p></td>
<td><p>Show the PC of the instruction executed</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AC</span></code></p></td>
<td><p>The contents of the referenced AC</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EA</span></code></p></td>
<td><p>The final computed EA (effective address)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AR</span></code></p></td>
<td><p>Generally the operand that was computed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RES</span></code></p></td>
<td><p>The AR register after the instruction was complete</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FLAGS</span></code></p></td>
<td><p>The values of the <code class="docutils literal notranslate"><span class="pre">FLAGS</span></code> register before execution of the instruction</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IR</span></code></p></td>
<td><p>The fetched instruction followed by the disassembled instruction</p></td>
</tr>
</tbody>
</table>
<p>The PDP-10 simulator allows for Memory reference and memory modify breakpoints with the <code class="docutils literal notranslate"><span class="pre">-r</span></code> and <code class="docutils literal notranslate"><span class="pre">-w</span></code> options given to the break command.</p>
</section>
<section id="os-specific-configurations">
<h2><span class="sectnum">1.5. </span>OS specific configurations<a class="headerlink" href="#os-specific-configurations" title="Permalink to this heading">¶</a></h2>
<section id="its">
<h3><span class="sectnum">1.5.1. </span>ITS<a class="headerlink" href="#its" title="Permalink to this heading">¶</a></h3>
<p>To run ITS,
the <code class="docutils literal notranslate"><span class="pre">CPU</span></code> must be <span class="html"><samp>set cpu ITS</samp></span>;
this will enable the ITS pager.</p>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Python</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="simh_doc.html">SimH Users' Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_swre.html">SimH Sample Software Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_faq.html">SimH FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="nova_doc.html">Data General Nova</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp1_doc.html">Digital Equipment Corporation PDP-1</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp18b_doc.html">Digital Equipment Corporation PDP-4, PDP-7, PDP-9, PDP-15</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp8_doc.html">Digital Equipment Corporation PDP-8</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp10_doc.html">Digital Equipment Corporation PDP-10</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp11_doc.html">Digital Equipment Corporation PDP-11</a></li>
<li class="toctree-l1"><a class="reference internal" href="vax780_doc.html">Digital Equipment Corporation VAX-11/780</a></li>
<li class="toctree-l1"><a class="reference internal" href="vax_doc.html">Digital Equipment Corporation MicroVAX 3900</a></li>
<li class="toctree-l1"><a class="reference internal" href="gri_doc.html">GRI Computer Corporation GRI-909</a></li>
<li class="toctree-l1"><a class="reference internal" href="i1401_doc.html">IBM 1401</a></li>
<li class="toctree-l1"><a class="reference internal" href="i1620_doc.html">IBM 1620</a></li>
<li class="toctree-l1"><a class="reference internal" href="i7094_doc.html">IBM 7094</a></li>
<li class="toctree-l1"><a class="reference internal" href="id_doc.html">Interdata (Perkin Elmer) 16b and 32b systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="h316_doc.html">Honeywell H316/H516</a></li>
<li class="toctree-l1"><a class="reference internal" href="lgp_doc.html">Royal-Mcbee LGP-30 (and LGP-21)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sds_doc.html">Scientific Data Systems SDS-940</a></li>
<li class="toctree-l1"><a class="reference internal" href="sigma_doc.html">Xerox Data Systems Sigma 32b systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="tx0_doc.html">TX-0 simulator usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_breakpoints.html">The SIMH breakpoint subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_magtape.html">SIMH magtape representation and handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_vmio.html">Adding an I/O device to a SIMH virtual machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulators_acm_queue_2004.html">Simulators: virtual machines of the past and future</a></li>
<li class="toctree-l1"><a class="reference internal" href="Summary%20of%20IMP%20IO%20Device%20Codes.html">Summary of I/O commands for the Arpanet IMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="ssem_doc.html">SSEM simulator usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="swtp6800_doc.html">SWTP 6800 simulator usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh.html">Writing a simulator for the SIMH system</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/ks10_doc.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>