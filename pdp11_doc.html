
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>1. PDP-11 simulator usage &#8212; Python  documentation</title>
    <link rel="stylesheet" type="text/css" href="static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="static/documentation_options.js"></script>
    <script src="static/jquery.js"></script>
    <script src="static/underscore.js"></script>
    <script src="static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="1. VAX-11/780 simulator usage" href="vax780_doc.html" />
    <link rel="prev" title="1. PDP-1 simulator usage" href="pdp1_doc.html" />
   
  <link rel="stylesheet" href="static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="pdp-11-simulator-usage">
<h1><span class="sectnum">1. </span>PDP-11 simulator usage<a class="headerlink" href="#pdp-11-simulator-usage" title="Permalink to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2021-08-15</p>
</dd>
<dt class="field-even">Revision<span class="colon">:</span></dt>
<dd class="field-even"><p>$Format:%H$</p>
</dd>
<dt class="field-odd">Copyright<span class="colon">:</span></dt>
<dd class="field-odd"><p>See <a class="reference external" href="../LICENSE.txt">LICENSE.txt</a> for terms of use.</p>
</dd>
</dl>
<aside class="topic">
<p class="topic-title"><strong>Copyright notice</strong></p>
<p>The following copyright notice applies to the SIMH source, binary, and documentation:</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the “Software”),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
<p>Except as contained in this notice, the names of The Authors shall not be
used in advertising or otherwise to promote the sale, use or other dealings
in this Software without prior written authorization from the Authors.</p>
</aside>
<nav class="contents local" id="contents">
<ul class="auto-toc simple">
<li><p><a class="reference internal" href="#simulator-files" id="id1"><span class="sectnum">1.1. </span>Simulator files</a></p></li>
<li><p><a class="reference internal" href="#pdp-11-features" id="id2"><span class="sectnum">1.2. </span>PDP-11 features</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#cpu-and-system" id="id3"><span class="sectnum">1.2.1. </span>CPU and system</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#cpu" id="id4"><span class="sectnum">1.2.1.1. </span>CPU</a></p></li>
<li><p><a class="reference internal" href="#system-registers-system" id="id5"><span class="sectnum">1.2.1.2. </span>System registers (SYSTEM)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#i-o-devices" id="id6"><span class="sectnum">1.2.2. </span>I/O devices</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#unibus-and-qbus-dma-devices" id="id7"><span class="sectnum">1.2.2.1. </span>Unibus and Qbus DMA devices</a></p></li>
<li><p><a class="reference internal" href="#i-o-device-addressing" id="id8"><span class="sectnum">1.2.2.2. </span>I/O device addressing</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#programmed-i-o-devices" id="id9"><span class="sectnum">1.2.3. </span>Programmed I/O devices</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#pc11-paper-tape-reader-ptr" id="id10"><span class="sectnum">1.2.3.1. </span>PC11 paper tape reader (PTR)</a></p></li>
<li><p><a class="reference internal" href="#pc11-paper-tape-punch-ptp" id="id11"><span class="sectnum">1.2.3.2. </span>PC11 paper tape punch (PTP)</a></p></li>
<li><p><a class="reference internal" href="#dl11-terminal-input-tti" id="id12"><span class="sectnum">1.2.3.3. </span>DL11 terminal input (TTI)</a></p></li>
<li><p><a class="reference internal" href="#dl11-terminal-output-tto" id="id13"><span class="sectnum">1.2.3.4. </span>DL11 terminal output (TTO)</a></p></li>
<li><p><a class="reference internal" href="#lp11-line-printer-lpt" id="id14"><span class="sectnum">1.2.3.5. </span>LP11 line printer (LPT)</a></p></li>
<li><p><a class="reference internal" href="#kw11-l-line-time-clock-clk" id="id15"><span class="sectnum">1.2.3.6. </span>KW11-L Line-time clock (CLK)</a></p></li>
<li><p><a class="reference internal" href="#kw11-p-programmable-clock-pclk" id="id16"><span class="sectnum">1.2.3.7. </span>KW11-P programmable clock (PCLK)</a></p></li>
<li><p><a class="reference internal" href="#ta11-ta60-cassette-tape-ct" id="id17"><span class="sectnum">1.2.3.8. </span>TA11/TA60 cassette tape (CT)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#floppy-disk-drives" id="id18"><span class="sectnum">1.2.4. </span>Floppy disk drives</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#rx11-rx01-floppy-disk-rx" id="id19"><span class="sectnum">1.2.4.1. </span>RX11/RX01 floppy disk (RX)</a></p></li>
<li><p><a class="reference internal" href="#rx211-rx02-floppy-disk-ry" id="id20"><span class="sectnum">1.2.4.2. </span>RX211/RX02 floppy disk (RY)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#cartridge-disk-drives" id="id21"><span class="sectnum">1.2.5. </span>Cartridge disk drives</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#rk11-rk05-cartridge-disk-rk" id="id22"><span class="sectnum">1.2.5.1. </span>RK11/RK05 cartridge disk (RK)</a></p></li>
<li><p><a class="reference internal" href="#rk611-rk06-rk07-cartridge-disk-hk" id="id23"><span class="sectnum">1.2.5.2. </span>RK611/RK06,RK07 cartridge disk (HK)</a></p></li>
<li><p><a class="reference internal" href="#rl11-rlv12-rl01-rl02-cartridge-disk-rl" id="id24"><span class="sectnum">1.2.5.3. </span>RL11(RLV12)/RL01,RL02 cartridge disk (RL)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#massbus-subsystems" id="id25"><span class="sectnum">1.2.6. </span>Massbus subsystems</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#rh70-rh11-massbus-adapters-rha-rhb-rhc" id="id26"><span class="sectnum">1.2.6.1. </span>RH70/RH11 Massbus adapters (RHA, RHB, RHC)</a></p></li>
<li><p><a class="reference internal" href="#rp04-05-06-07-rm02-03-05-80-disk-pack-drives-rp" id="id27"><span class="sectnum">1.2.6.2. </span>RP04/05/06/07, RM02/03/05/80 disk pack drives (RP)</a></p></li>
<li><p><a class="reference internal" href="#tm02-tm03-te16-tu45-tu77-magnetic-tapes-tu" id="id28"><span class="sectnum">1.2.6.3. </span>TM02/TM03/TE16/TU45/TU77 magnetic tapes (TU)</a></p></li>
<li><p><a class="reference internal" href="#rs03-rs04-fixed-head-disks" id="id29"><span class="sectnum">1.2.6.4. </span>RS03/RS04 fixed head disks</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#rqdx3-uda50-mscp-disk-controllers-rq-rqb-rqc-rqd" id="id30"><span class="sectnum">1.2.7. </span>RQDX3/UDA50 MSCP disk controllers (RQ, RQB, RQC, RQD)</a></p></li>
<li><p><a class="reference internal" href="#fixed-head-disks" id="id31"><span class="sectnum">1.2.8. </span>Fixed head disks</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#rc11-fixed-head-disk-rc" id="id32"><span class="sectnum">1.2.8.1. </span>RC11 fixed head disk (RC)</a></p></li>
<li><p><a class="reference internal" href="#rf11-rs11-fixed-head-disk-rf" id="id33"><span class="sectnum">1.2.8.2. </span>RF11/RS11 fixed head disk (RF)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tc11-tu56-dectape-dt" id="id34"><span class="sectnum">1.2.9. </span>TC11/TU56 DECtape (DT)</a></p></li>
<li><p><a class="reference internal" href="#magnetic-tape-controllers" id="id35"><span class="sectnum">1.2.10. </span>Magnetic tape controllers</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#tm11-magnetic-tape-tm" id="id36"><span class="sectnum">1.2.10.1. </span>TM11 magnetic tape (TM)</a></p></li>
<li><p><a class="reference internal" href="#ts11-tsv05-magnetic-tape-ts" id="id37"><span class="sectnum">1.2.10.2. </span>TS11/TSV05 magnetic tape (TS)</a></p></li>
<li><p><a class="reference internal" href="#tqk50-tmscp-tape-controller-tq" id="id38"><span class="sectnum">1.2.10.3. </span>TQK50 TMSCP tape controller (TQ)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#communications-devices" id="id39"><span class="sectnum">1.2.11. </span>Communications devices</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#dc11-additional-terminal-interfaces-dci-dco" id="id40"><span class="sectnum">1.2.11.1. </span>DC11 additional terminal interfaces (DCI/DCO)</a></p></li>
<li><p><a class="reference internal" href="#kl11-dl11-additional-terminal-interfaces-dli-dlo" id="id41"><span class="sectnum">1.2.11.2. </span>KL11/DL11 additional terminal interfaces (DLI/DLO)</a></p></li>
<li><p><a class="reference internal" href="#dz11-terminal-multiplexer-dz" id="id42"><span class="sectnum">1.2.11.3. </span>DZ11 terminal multiplexer (DZ)</a></p></li>
<li><p><a class="reference internal" href="#dhq11-terminal-multiplexer-vh" id="id43"><span class="sectnum">1.2.11.4. </span>DHQ11 terminal multiplexer (VH)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#ethernet-controllers" id="id44"><span class="sectnum">1.2.12. </span>Ethernet controllers</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#delqa-t-delqa-deqna-qbus-ethernet-controllers-xq-xqb" id="id45"><span class="sectnum">1.2.12.1. </span>DELQA-T/DELQA/DEQNA Qbus Ethernet controllers (XQ, XQB)</a></p></li>
<li><p><a class="reference internal" href="#delua-deuna-unibus-ethernet-controllers-xu-xub" id="id46"><span class="sectnum">1.2.12.2. </span>DELUA/DEUNA Unibus Ethernet controllers (XU, XUB)</a></p></li>
<li><p><a class="reference internal" href="#cr11-cd11-card-reader-cr" id="id47"><span class="sectnum">1.2.12.3. </span>CR11/CD11 card reader (CR)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#arithmetic-options" id="id48"><span class="sectnum">1.2.13. </span>Arithmetic options</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#ke11a-extended-arithmetic-option-ke" id="id49"><span class="sectnum">1.2.13.1. </span>KE11A extended arithmetic option (KE)</a></p></li>
<li><p><a class="reference internal" href="#kg11a-communications-arithmetic-option-kg" id="id50"><span class="sectnum">1.2.13.2. </span>KG11A communications arithmetic option (KG)</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#symbolic-display-and-input" id="id51"><span class="sectnum">1.3. </span>Symbolic display and input</a></p></li>
<li><p><a class="reference internal" href="#the-uc15" id="id52"><span class="sectnum">1.4. </span>The UC15</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#dr11-parallel-interfaces-uca-ucb" id="id53"><span class="sectnum">1.4.1. </span>DR11 parallel interfaces (UCA, UCB)</a></p></li>
</ul>
</li>
</ul>
</nav>
<p>This memorandum documents the DEC PDP-11 simulator.</p>
<section id="simulator-files">
<h2><span class="sectnum">1.1. </span>Simulator files<a class="headerlink" href="#simulator-files" title="Permalink to this heading">¶</a></h2>
<p>To compile the PDP-11, you must define <code class="docutils literal notranslate"><span class="pre">VM_PDP11</span></code> as part of the compilation command-line.
If you want expanded file support, you must also define <code class="docutils literal notranslate"><span class="pre">USE_INT64</span></code> and <code class="docutils literal notranslate"><span class="pre">USE_ADDR64</span></code> as part of the compilation command-line.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">sim/</span></code></dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">scp.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_console.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_defs.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_disk.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_ether.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_fio.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_rev.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_serial.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_sock.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_tape.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_timer.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_tmxr.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">scp.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_console.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_disk.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_ether.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_fio.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_serial.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_sock.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_tape.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_timer.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sim_tmxr.c</span></code></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sim/pdp11/</span></code></dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_cpumod.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_cr_dat.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_defs.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_mscp.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_uqssp.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_xq.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_xq_bootrom.h</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_cpu.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_cpumod.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_cr.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_dc.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_dl.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_dz.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_fp.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_hk.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_ke.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_kg.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_io.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_lp.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_pclk.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_pt.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_rc.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_rf.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_rh.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_rk.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_rl.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_rp.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_rq.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_rx.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_ry.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_stddev.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_sys.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_ta.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_tc.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_tm.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_tq.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_ts.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_tu.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_vh.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_xq.c</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pdp11_xu.c</span></code></div>
</div>
</dd>
</dl>
</section>
<section id="pdp-11-features">
<h2><span class="sectnum">1.2. </span>PDP-11 features<a class="headerlink" href="#pdp-11-features" title="Permalink to this heading">¶</a></h2>
<p>The PDP-11 simulator is configured as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Device name(s)</p></th>
<th class="head"><p>Simulates</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CPU</span></code></p></td>
<td><p>PDP-11 CPU with 256KB of memory</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PTR</span></code>, <code class="docutils literal notranslate"><span class="pre">PTP</span></code></p></td>
<td><p>PC11 paper tape reader/punch</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TTI</span></code>, <code class="docutils literal notranslate"><span class="pre">TTO</span></code></p></td>
<td><p>DL11 console terminal</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CR</span></code></p></td>
<td><p>CR11/CD11 card reader</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LPT</span></code></p></td>
<td><p>LP11 line printer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CLK</span></code></p></td>
<td><p>KW11-L line frequency clock</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PCLK</span></code></p></td>
<td><p>KW11-P programmable clock</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DCI</span></code>, <code class="docutils literal notranslate"><span class="pre">DCO</span></code></p></td>
<td><p>DC11 additional serial lines (up to 16)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DLI</span></code>, <code class="docutils literal notranslate"><span class="pre">DLO</span></code></p></td>
<td><p>KL11/DL11 additional serial lines (up to 16)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DZ</span></code></p></td>
<td><p>DZ11 8-line terminal multiplexer (up to 4)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VH</span></code></p></td>
<td><p>DHU11/DHQ11 8-line terminal multiplexer (up to 4)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RK</span></code></p></td>
<td><p>RK11/RK05 cartridge disk controller with eight drives</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HK</span></code></p></td>
<td><p>RK611/RK06,RK07 cartridge disk controller with eight drives</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RC</span></code></p></td>
<td><p>RC11 fixed head disk</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RF</span></code></p></td>
<td><p>RF11/RS11 fixed head disk</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RL</span></code></p></td>
<td><p>RL11(RLV12)/RL01,RL02 cartridge disk controller with four drives</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RH</span></code></p></td>
<td><p>RH11/RH70 Massbus adapter (up to 3)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RP</span></code></p></td>
<td><p>RP04/05/06/07, RM02/03/05/80 Massbus disks with eight drives</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RQ</span></code></p></td>
<td><p>RQDX3/UDA50 MSCP controller with four drives</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RQB</span></code></p></td>
<td><p>Second RQDX3/UDA50 MSCP controller with four drives</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RQC</span></code></p></td>
<td><p>Third RQDX3/UDA50 MSCP controller with four drives</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RQD</span></code></p></td>
<td><p>Fourth RQDX3/UDA50 MSCP controller with four drives</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RX</span></code></p></td>
<td><p>RX11/RX01 floppy disk controller with two drives</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RY</span></code></p></td>
<td><p>RX211/RX01 floppy disk controller with two drives</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TA</span></code></p></td>
<td><p>TA11/TU60 cassette controller with two drives</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TC</span></code></p></td>
<td><p>TC11/TU56 DECtape controller with eight drives</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TM</span></code></p></td>
<td><p>TM11/TU10 magnetic tape controller with eight drives</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TS</span></code></p></td>
<td><p>TS11/TSV05 magnetic tape controller with one drive</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TQ</span></code></p></td>
<td><p>TQK50/TU81 TMSCP magnetic tape controller with four drives</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TU</span></code></p></td>
<td><p>TM02/TM03 magnetic tape formatter with eight drives</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">XQ</span></code></p></td>
<td><p>DELQA/DEQNA Qbus Ethernet controller</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XQB</span></code></p></td>
<td><p>Second DELQA/DEQNA Qbus Ethernet controller</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">XU</span></code></p></td>
<td><p>DELUA/DEUNA Unibus Ethernet controller</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XUB</span></code></p></td>
<td><p>Second DELUA/DEUNA Unibus Ethernet controller</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">KE</span></code></p></td>
<td><p>KE11A extended arithmetic option</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">KG</span></code></p></td>
<td><p>KG11A communications arithmetic option</p></td>
</tr>
</tbody>
</table>
<p>The DZ, VH, CR, LPT, DCI/DCO, DLI/DLO, RK, HK, RC, RF, RL, RP, RQ, RQB, RQC, RQD, RX, RY, TA, TC, TM, TS, TQ, XQ, XQB, XU, XUB, KE, and KG devices can be set <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.
DCI/DCO, DLI/DLO, RC, RF, RQB, RQC, RQD, RY, TA, TS, VH, XQB, XU, XUB, KE, and KG are disabled by default.</p>
<p>The PDP-11 simulator implements several unique stop conditions:</p>
<ul class="simple">
<li><p>Abort during exception vector fetch, and register <code class="docutils literal notranslate"><span class="pre">STOP_VEC</span></code> is set</p></li>
<li><p>Abort during exception stack push, and register <code class="docutils literal notranslate"><span class="pre">STOP_SPA</span></code> is set</p></li>
<li><p>Trap condition <code class="docutils literal notranslate"><span class="pre">n</span></code> occurs, and register <code class="docutils literal notranslate"><span class="pre">STOP_TRAP&lt;n&gt;</span></code> is set</p></li>
<li><p>Wait state entered, and no I/O operations outstanding (i.e., no interrupt can ever occur)</p></li>
<li><p>A simulated DECtape runs off the end of its reel, and flag <code class="docutils literal notranslate"><span class="pre">STOP_OFFR</span></code> is set</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">LOAD</span></code> command supports standard binary format tapes.
The <code class="docutils literal notranslate"><span class="pre">DUMP</span></code> command is not implemented.</p>
<section id="cpu-and-system">
<h3><span class="sectnum">1.2.1. </span>CPU and system<a class="headerlink" href="#cpu-and-system" title="Permalink to this heading">¶</a></h3>
<section id="cpu">
<h4><span class="sectnum">1.2.1.1. </span>CPU<a class="headerlink" href="#cpu" title="Permalink to this heading">¶</a></h4>
<p>The CPU options include CPU type, CPU instruction set options for the specified type, and the size of main memory.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">03</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">03</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">04</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">04</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">05</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">05</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">20</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">20</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">23</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">23</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">23</span><span class="o">+</span>                <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">23</span><span class="o">+</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">24</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">24</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">34</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">34</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">40</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">40</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">44</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">44</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">45</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">45</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">53</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">53</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">60</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">60</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">70</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">70</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">73</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">73</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">73</span><span class="n">B</span>                <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">73</span><span class="n">B</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">83</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">83</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">84</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">84</span>
<span class="nb">set</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">93</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">93</span>
<span class="nb">set</span> <span class="n">CPU</span> <span class="mi">11</span><span class="o">/</span><span class="mi">94</span>                 <span class="n">Set</span> <span class="n">CPU</span> <span class="nb">type</span> <span class="n">to</span> <span class="mi">11</span><span class="o">/</span><span class="mi">94</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">U18</span>                   <span class="n">Deprecated</span><span class="p">;</span> <span class="n">same</span> <span class="k">as</span> <span class="mi">11</span><span class="o">/</span><span class="mi">45</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">URH11</span>                 <span class="n">Deprecated</span><span class="p">;</span> <span class="n">same</span> <span class="k">as</span> <span class="mi">11</span><span class="o">/</span><span class="mi">84</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">URH70</span>                 <span class="n">Deprecated</span><span class="p">;</span> <span class="n">same</span> <span class="k">as</span> <span class="mi">11</span><span class="o">/</span><span class="mi">70</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">Q22</span>                   <span class="n">Deprecated</span><span class="p">;</span> <span class="n">same</span> <span class="k">as</span> <span class="mi">11</span><span class="o">/</span><span class="mi">73</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">NOEIS</span>                 <span class="n">Disable</span> <span class="n">EIS</span> <span class="n">instructions</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">EIS</span>                   <span class="n">Enable</span> <span class="n">EIS</span> <span class="n">instructions</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">NOFIS</span>                 <span class="n">Disable</span> <span class="n">FIS</span> <span class="n">instructions</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">FIS</span>                   <span class="n">Enable</span> <span class="n">FIS</span> <span class="n">instructions</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">NOFPP</span>                 <span class="n">Disable</span> <span class="n">FPP</span> <span class="n">instructions</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">FPP</span>                   <span class="n">Enable</span> <span class="n">FPP</span> <span class="n">instructions</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">NOCIS</span>                 <span class="n">Disable</span> <span class="n">CIS</span> <span class="n">instructions</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">CIS</span>                   <span class="n">Enable</span> <span class="n">CIS</span> <span class="n">instructions</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">NOBEVENT</span>              <span class="n">Disable</span> <span class="n">BEVENT</span> <span class="n">interrupt</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">BEVENT</span>                <span class="n">Enable</span> <span class="n">BEVENT</span> <span class="n">interrupt</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">NOMMU</span>                 <span class="n">Disable</span> <span class="n">MMU</span> <span class="n">functionality</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">MMU</span>                   <span class="n">Enable</span> <span class="n">MMU</span> <span class="n">functionality</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">16</span><span class="n">K</span>                   <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">16</span><span class="n">KB</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">32</span><span class="n">K</span>                   <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">32</span><span class="n">KB</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">48</span><span class="n">K</span>                   <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">48</span><span class="n">KB</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">64</span><span class="n">K</span>                   <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">64</span><span class="n">KB</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">96</span><span class="n">K</span>                   <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">96</span><span class="n">KB</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">128</span><span class="n">K</span>                  <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">128</span><span class="n">KB</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">192</span><span class="n">K</span>                  <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">192</span><span class="n">KB</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">256</span><span class="n">K</span>                  <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">256</span><span class="n">KB</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">384</span><span class="n">K</span>                  <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">384</span><span class="n">KB</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">512</span><span class="n">K</span>                  <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">512</span><span class="n">KB</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">768</span><span class="n">K</span>                  <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">768</span><span class="n">KB</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">1024</span><span class="n">K</span> <span class="p">(</span><span class="ow">or</span> <span class="mi">1</span><span class="n">M</span><span class="p">)</span>         <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">1024</span><span class="n">KB</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">2048</span><span class="n">K</span> <span class="p">(</span><span class="ow">or</span> <span class="mi">2</span><span class="n">M</span><span class="p">)</span>         <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">2048</span><span class="n">KB</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">3072</span><span class="n">K</span> <span class="p">(</span><span class="ow">or</span> <span class="mi">3</span><span class="n">M</span><span class="p">)</span>         <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">3072</span><span class="n">KB</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="mi">4096</span><span class="n">K</span> <span class="p">(</span><span class="ow">or</span> <span class="mi">4</span><span class="n">M</span><span class="p">)</span>         <span class="n">Set</span> <span class="n">memory</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">4096</span><span class="n">KB</span>
</pre></div>
</div>
<p>The CPU types and their capabilities are shown in the following table:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Bus</p></th>
<th class="head"><p>Mem</p></th>
<th class="head"><p>MMU?</p></th>
<th class="head"><p>Umap?</p></th>
<th class="head"><p>EIS?</p></th>
<th class="head"><p>FIS?</p></th>
<th class="head"><p>FPP?</p></th>
<th class="head"><p>CIS?</p></th>
<th class="head"><p>BEVENT?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>11/03</p></td>
<td><p>Q</p></td>
<td><p>64K</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>opt</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>opt</p></td>
</tr>
<tr class="row-odd"><td><p>11/04</p></td>
<td><p>U</p></td>
<td><p>64K</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>11/05</p></td>
<td><p>U</p></td>
<td><p>64K</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>11/20</p></td>
<td><p>U</p></td>
<td><p>64K</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>11/23</p></td>
<td><p>Q</p></td>
<td><p>4M</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>opt</p></td>
<td><p>opt</p></td>
<td><p>opt</p></td>
</tr>
<tr class="row-odd"><td><p>11/23+</p></td>
<td><p>Q</p></td>
<td><p>4M</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>opt</p></td>
<td><p>opt</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>11/24</p></td>
<td><p>U</p></td>
<td><p>4M</p></td>
<td><p>std</p></td>
<td><p>std</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>opt</p></td>
<td><p>opt</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>11/34</p></td>
<td><p>U</p></td>
<td><p>256K</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>opt</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>11/40</p></td>
<td><p>U</p></td>
<td><p>256K</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>opt</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>11/44</p></td>
<td><p>U</p></td>
<td><p>4M</p></td>
<td><p>std</p></td>
<td><p>std</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>opt</p></td>
<td><p>opt</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>11/45</p></td>
<td><p>U</p></td>
<td><p>256K</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>opt</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>11/53</p></td>
<td><p>Q</p></td>
<td><p>4M</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>opt</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>11/60</p></td>
<td><p>U</p></td>
<td><p>256K</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>11/70</p></td>
<td><p>U</p></td>
<td><p>4M</p></td>
<td><p>std</p></td>
<td><p>std</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>opt</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>11/73</p></td>
<td><p>Q</p></td>
<td><p>4M</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>opt</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>11/73B</p></td>
<td><p>Q</p></td>
<td><p>4M</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>opt</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>11/83</p></td>
<td><p>Q</p></td>
<td><p>4M</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>opt</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>11/84</p></td>
<td><p>U</p></td>
<td><p>4M</p></td>
<td><p>std</p></td>
<td><p>std</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>opt</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>11/93</p></td>
<td><p>Q</p></td>
<td><p>4M</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>opt</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>11/94</p></td>
<td><p>U</p></td>
<td><p>4M</p></td>
<td><p>std</p></td>
<td><p>std</p></td>
<td><p>std</p></td>
<td><p>no</p></td>
<td><p>std</p></td>
<td><p>opt</p></td>
<td><p>no</p></td>
</tr>
</tbody>
</table>
<p>If a capability is standard, it cannot be disabled;
if a capability is not included, it cannot be enabled.</p>
<p>The CPU implements a <code class="docutils literal notranslate"><span class="pre">SHOW</span></code> command to display the I/O address assignments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">CPU</span> <span class="n">IOSPACE</span>              <span class="n">Show</span> <span class="n">I</span><span class="o">/</span><span class="n">O</span> <span class="n">space</span> <span class="n">address</span> <span class="n">assignments</span>
</pre></div>
</div>
<p>If memory size is being reduced, and the memory being truncated contains non-zero data, the simulator asks for confirmation.
Data in the truncated portion of memory is lost.
Initial memory size is 256KB.
If memory size is increased to more than 256KB, or the bus structure is changed, the simulator disables peripherals that can’t run in the current bus structure.</p>
<p>These switches are recognized when examining or depositing in CPU memory:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-v</span></code></p></td>
<td><p>Interpret address as virtual</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-t</span></code></p></td>
<td><p>If mem mgt enabled, force data space</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-k</span></code></p></td>
<td><p>If mem mgt enabled, force kernel mode</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-s</span></code></p></td>
<td><p>If mem mgt enabled, force supervisor mode</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-u</span></code></p></td>
<td><p>If mem mgt enabled, force user mode</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-p</span></code></p></td>
<td><p>If mem mgt enabled, force previous mode</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-b</span></code></p></td>
<td><p>Display a byte at a time rather than a word</p></td>
</tr>
</tbody>
</table>
<p>CPU registers include the architectural state of the PDP-11 processor as well as the control registers for the interrupt system.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PC</span></code></p></td>
<td><p>16</p></td>
<td><p>Program counter</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">R0</span></code> .. <code class="docutils literal notranslate"><span class="pre">R5</span></code></p></td>
<td><p>16</p></td>
<td><p>R0..R5, current register set</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SP</span></code></p></td>
<td><p>16</p></td>
<td><p>Stack pointer, current mode</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">R00</span></code> .. <code class="docutils literal notranslate"><span class="pre">R05</span></code></p></td>
<td><p>16</p></td>
<td><p>R0..R5, register set 0</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">R10</span></code> .. <code class="docutils literal notranslate"><span class="pre">R15</span></code></p></td>
<td><p>16</p></td>
<td><p>R0..R5, register set 1</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">KSP</span></code></p></td>
<td><p>16</p></td>
<td><p>Kernel stack pointer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SSP</span></code></p></td>
<td><p>16</p></td>
<td><p>Supervisor stack pointer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">USP</span></code></p></td>
<td><p>16</p></td>
<td><p>User stack pointer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PSW</span></code></p></td>
<td><p>16</p></td>
<td><p>Processor status word</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CM</span></code></p></td>
<td><p>2</p></td>
<td><p>Current mode, PSW&lt;15:14&gt;</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PM</span></code></p></td>
<td><p>2</p></td>
<td><p>Previous mode, PSW&lt;13:12&gt;</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RS</span></code></p></td>
<td><p>2</p></td>
<td><p>Register set, PSW&lt;11&gt;</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IPL</span></code></p></td>
<td><p>3</p></td>
<td><p>Interrupt priority level, PSW&lt;7:5&gt;</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">T</span></code></p></td>
<td><p>1</p></td>
<td><p>Trace bit, PSW&lt;4&gt;</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">N</span></code></p></td>
<td><p>1</p></td>
<td><p>Negative flag, PSW&lt;3&gt;</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Z</span></code></p></td>
<td><p>1</p></td>
<td><p>Zero flag, PSW&lt;2&gt;</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V</span></code></p></td>
<td><p>1</p></td>
<td><p>Overflow flag, PSW&lt;1&gt;</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">C</span></code></p></td>
<td><p>1</p></td>
<td><p>Carry flag, PSW&lt;0&gt;</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PIRQ</span></code></p></td>
<td><p>16</p></td>
<td><p>Programmed interrupt requests</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STKLIM</span></code></p></td>
<td><p>16</p></td>
<td><p>Stack limit</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FAC0H</span></code> .. <code class="docutils literal notranslate"><span class="pre">FAC5H</span></code></p></td>
<td><p>32</p></td>
<td><p>FAC0..FAC5, high 32 bits</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">FAC0L</span></code> .. <code class="docutils literal notranslate"><span class="pre">FAC5L</span></code></p></td>
<td><p>32</p></td>
<td><p>FAC0..FAC5, low 32 bits</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FPS</span></code></p></td>
<td><p>16</p></td>
<td><p>Floating point status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">FEA</span></code></p></td>
<td><p>16</p></td>
<td><p>Floating exception address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FEC</span></code></p></td>
<td><p>4</p></td>
<td><p>Floating exception code</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MMR0</span></code> .. <code class="docutils literal notranslate"><span class="pre">MMR3</span></code></p></td>
<td><p>16</p></td>
<td><p>Memory management registers 0..3</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">{K/S/U}{I/D}{PAR/PDR}{0..7}</span></code></p></td>
<td><p>16</p></td>
<td><p>Memory management registers</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IREQ[0:7]</span></code></p></td>
<td><p>32</p></td>
<td><p>Interrupt pending flags, IPL 0 to 7</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TRAPS</span></code></p></td>
<td><p>18</p></td>
<td><p>Trap pending flags</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WAIT</span></code></p></td>
<td><p>0</p></td>
<td><p>Wait state flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WAIT_ENABLE</span></code></p></td>
<td><p>0</p></td>
<td><p>Wait state enable flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_TRAPS</span></code></p></td>
<td><p>18</p></td>
<td><p>Stop on trap flags</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_VECA</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on read abort in trap or interrupt</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_SPA</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on stack abort in trap or interrupt</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PCQ[0:63]</span></code></p></td>
<td><p>16</p></td>
<td><p>PC prior to last jump, branch, or interrupt; most recent PC change first</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WRU</span></code></p></td>
<td><p>8</p></td>
<td><p>Interrupt character</p></td>
</tr>
</tbody>
</table>
<p>The CPU attempts to detect when the simulator is idle.
When idle, the simulator does not use any resources on the host system.
Idle detection is controlled by the <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">IDLE</span></code> and <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">NOIDLE</span></code> commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CPU</span> <span class="n">IDLE</span>                  <span class="n">Enable</span> <span class="n">idle</span> <span class="n">detection</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">NOIDLE</span>                <span class="n">Disable</span> <span class="n">idle</span> <span class="n">detection</span>
</pre></div>
</div>
<p>Idle detection is disabled by default.
The CPU is considered idle if a <code class="docutils literal notranslate"><span class="pre">WAIT</span></code> instruction is executed.
This will work for RSTS/E and RSX-11M+, but not for RT-11 or UNIX.</p>
<p>The CPU can maintain a history of the most recently executed instructions.
This is controlled by the <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">HISTORY</span></code> and <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">CPU</span> <span class="pre">HISTORY</span></code> commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CPU</span> <span class="n">HISTORY</span>               <span class="n">Clear</span> <span class="n">history</span> <span class="n">buffer</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">HISTORY</span><span class="o">=</span><span class="mi">0</span>             <span class="n">Disable</span> <span class="n">history</span>
<span class="n">SET</span> <span class="n">CPU</span> <span class="n">HISTORY</span><span class="o">=</span><span class="n">n</span>             <span class="n">Enable</span> <span class="n">history</span><span class="p">,</span> <span class="n">length</span> <span class="o">=</span> <span class="n">n</span>
<span class="n">SHOW</span> <span class="n">CPU</span> <span class="n">HISTORY</span>              <span class="n">Print</span> <span class="n">CPU</span> <span class="n">history</span>
<span class="n">SHOW</span> <span class="n">CPU</span> <span class="n">HISTORY</span><span class="o">=</span><span class="n">n</span>            <span class="n">Print</span> <span class="n">first</span> <span class="n">n</span> <span class="n">entries</span> <span class="n">of</span> <span class="n">CPU</span> <span class="n">history</span>
</pre></div>
</div>
<p>The maximum length for the history is 262144 entries.</p>
<p>The CPU supports a number of different breakpoint types.
The default is type <code class="docutils literal notranslate"><span class="pre">-e</span></code>, the usual break on instruction virtual address (PC) match.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-e</span></code></p></td>
<td><p>Instruction virtual address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-p</span></code></p></td>
<td><p>Instruction physical address</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-r</span></code></p></td>
<td><p>Memory read virtual address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-s</span></code></p></td>
<td><p>Memory read physical address</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-w</span></code></p></td>
<td><p>Memory write virtual address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-x</span></code></p></td>
<td><p>Memory write physical address</p></td>
</tr>
</tbody>
</table>
<p>Instruction fetches are treated as memory reads,
so a read breakpoint will trigger for an instruction fetched from that address,
not just for a data read from that address.</p>
<p>In most cases, breakpoints are handled as if the instruction has not yet executed.
If necessary (for write breakpoints), state is restored from the start of the instruction to make it appear that way.
When execution is continued, the instruction is re-executed and the previously encountered breakpoint is suppressed for that instruction cycle.
If a given instruction encounters multiple breakpoints, for example an instruction breakpoint for the instruction address as well as a read breakpoint for the memory it references, both breakpoints will be seen (the instruction will stop twice), then after the second break execution continues past the instruction.</p>
<p>CIS instructions are designed to be interruptible, using the FPD bit in the processor status word.
For those instructions, a read or write breakpoint is treated as an interrupt, so the instruction is left partially completed.
When execution continues, the instruction is resumed from where it left off, provided the instruction state is not modified by the user.
The CIS instruction description in the PDP11 documentation spells out what the CIS state is that must be left untouched.</p>
<p>Interrupts involve two reads (the vector) and two writes (the stack push of the previous PC and PSW).
Those may match memory read or write breakpoints.
If so, the interrupt setup processing is completed normally,
and the simulator stops at the first instruction of the interrupt handler.</p>
</section>
<section id="system-registers-system">
<h4><span class="sectnum">1.2.1.2. </span>System registers (SYSTEM)<a class="headerlink" href="#system-registers-system" title="Permalink to this heading">¶</a></h4>
<p>The SYSTEM device implements registers that vary among CPU types:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Models</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SR</span></code></p></td>
<td><p>11/04, 11/05, 11/20,
11/23+, 11/34, 11/40,
11/44, 11/45, 11/60,
11/70, 11/73B, 11/83,
11/84, 11/93, 11/94</p></td>
<td><p>16</p></td>
<td><p>Switch register or configuration register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DR</span></code></p></td>
<td><p>11/04, 11/05, 11/20,
1123+, 11/24, 11/34,
11/70, 11/73B, 11/83,
11/84, 11/93, 11/94</p></td>
<td><p>16</p></td>
<td><p>Display register or board LEDs</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MEMERR</span></code></p></td>
<td><p>11/44, 11/60, 11/70,
11/53, 11/73, 11/73B,
11/83, 11/84, 11/93,
11/94</p></td>
<td><p>16</p></td>
<td><p>Memory error register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CCR</span></code></p></td>
<td><p>11/44, 11/60, 11/70,
11/53, 11/73, 11/73B,
11/83, 11/84, 11/93,
11/94</p></td>
<td><p>16</p></td>
<td><p>Cache control register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MAINT</span></code></p></td>
<td><p>11/23+, 11/44, 11/70,
11/53, 11/73, 11/73B,
11/83, 11/84, 11/93,
11/94</p></td>
<td><p>16</p></td>
<td><p>Maintenance register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">HITMISS</span></code></p></td>
<td><p>11/44, 11/60, 11/70,
11/53, 11/73, 11/73B,
11/83, 11/84, 11/93,
11/94</p></td>
<td><p>16</p></td>
<td><p>Hit/miss register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CPUERR</span></code></p></td>
<td><p>11/24, 11/44, 11/70,
11/53, 11/73, 11/73B,
11/83, 11/84, 11/93,
11/94</p></td>
<td><p>16</p></td>
<td><p>CPU error register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MBRK</span></code></p></td>
<td><p>11/45, 11/70</p></td>
<td><p>16</p></td>
<td><p>Microbreak register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SYSID</span></code></p></td>
<td><p>11/70</p></td>
<td><p>16</p></td>
<td><p>System ID (default = 1234 hex)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">JCSR</span></code></p></td>
<td><p>11/53, 11/73B, 11/83,
11/84, 11/93, 11/94</p></td>
<td><p>16</p></td>
<td><p>Board control/status</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">JPCR</span></code></p></td>
<td><p>11/23+, 11/53, 11/73B,
11/83, 11/84, 11/93,
11/94</p></td>
<td><p>16</p></td>
<td><p>Page control register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">JASR</span></code></p></td>
<td><p>11/93, 11/94</p></td>
<td><p>16</p></td>
<td><p>Additional status</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">UDCR</span></code></p></td>
<td><p>11/84, 11/94</p></td>
<td><p>16</p></td>
<td><p>Unibus map diag control</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">UDDR</span></code></p></td>
<td><p>11/84, 11/94</p></td>
<td><p>16</p></td>
<td><p>Unibus map diag data</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">UCSR</span></code></p></td>
<td><p>11/84, 11/94</p></td>
<td><p>16</p></td>
<td><p>Unibus map control/status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ULAST</span></code></p></td>
<td><p>11/24</p></td>
<td><p>23</p></td>
<td><p>Last Unibus map result</p></td>
</tr>
</tbody>
</table>
<p>For the 11/83, 11/84, 11/93, and 11/94, the user can set the default value of the clock frequency:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">SYSTEM</span> <span class="n">JCLK_DEFAULT</span><span class="o">=</span><span class="p">{</span><span class="n">LINE</span><span class="o">|</span><span class="mi">50</span><span class="n">Hz</span><span class="o">|</span><span class="mi">60</span><span class="n">HZ</span><span class="o">|</span><span class="mi">800</span><span class="n">HZ</span><span class="p">}</span>
</pre></div>
</div>
<p>The user can check the default value with the <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">SYSTEM</span> <span class="pre">JCLK_DEFAULT</span></code> command.</p>
</section>
</section>
<section id="i-o-devices">
<h3><span class="sectnum">1.2.2. </span>I/O devices<a class="headerlink" href="#i-o-devices" title="Permalink to this heading">¶</a></h3>
<section id="unibus-and-qbus-dma-devices">
<h4><span class="sectnum">1.2.2.1. </span>Unibus and Qbus DMA devices<a class="headerlink" href="#unibus-and-qbus-dma-devices" title="Permalink to this heading">¶</a></h4>
<p>DMA peripherals function differently, depending on whether the CPU type supports the Unibus or the Qbus,
and whether the Unibus supports 22b direct memory access (11/70 with RH70 controllers):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Peripheral</p></th>
<th class="head"><p>11/70
+RH70</p></th>
<th class="head"><p>All
other
Unibus</p></th>
<th class="head"><p>Qbus</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CD</span></code></p></td>
<td><p>18b</p></td>
<td><p>18b</p></td>
<td><p>Disabled</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RC</span></code></p></td>
<td><p>18b</p></td>
<td><p>18b</p></td>
<td><p>Disabled</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RF</span></code></p></td>
<td><p>18b</p></td>
<td><p>18b</p></td>
<td><p>Disabled</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RK</span></code></p></td>
<td><p>18b</p></td>
<td><p>18b</p></td>
<td><p>Disabled if mem &gt; 256K</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HK</span></code></p></td>
<td><p>18b</p></td>
<td><p>18b</p></td>
<td><p>Disabled if mem &gt; 256K</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RL</span></code></p></td>
<td><p>18b</p></td>
<td><p>18b</p></td>
<td><p>22b RLV12</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RP</span></code></p></td>
<td><p>22b</p></td>
<td><p>18b</p></td>
<td><p>22b third party</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RQ</span></code></p></td>
<td><p>18b</p></td>
<td><p>18b</p></td>
<td><p>22b RQDX3</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RY</span></code></p></td>
<td><p>18b</p></td>
<td><p>18b</p></td>
<td><p>Disabled if mem &gt; 256K</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TC</span></code></p></td>
<td><p>18b</p></td>
<td><p>18b</p></td>
<td><p>Disabled</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TM</span></code></p></td>
<td><p>18b</p></td>
<td><p>18b</p></td>
<td><p>Disabled if mem &gt; 256K</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TS</span></code></p></td>
<td><p>18b</p></td>
<td><p>18b</p></td>
<td><p>22b TSV05</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TQ</span></code></p></td>
<td><p>18b</p></td>
<td><p>18b</p></td>
<td><p>22b TQK50</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TU</span></code></p></td>
<td><p>22b</p></td>
<td><p>18b</p></td>
<td><p>22b third party</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VH</span></code></p></td>
<td><p>18b</p></td>
<td><p>18b</p></td>
<td><p>22b DHQ11</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XQ</span></code></p></td>
<td><p>Disabled</p></td>
<td><p>Disabled</p></td>
<td><p>22b DELQA</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">XU</span></code></p></td>
<td><p>18b</p></td>
<td><p>18b</p></td>
<td><p>Disabled</p></td>
</tr>
</tbody>
</table>
<p>Non-DMA peripherals work the same in all configurations.
Unibus-only peripherals are disabled in a Qbus configuration, and Qbus-only peripherals are disabled in a Unibus configuration.
In addition, Qbus DMA peripherals with only 18b addressing capability are disabled in a Qbus configuration with more than 256KB memory.</p>
</section>
<section id="i-o-device-addressing">
<h4><span class="sectnum">1.2.2.2. </span>I/O device addressing<a class="headerlink" href="#i-o-device-addressing" title="Permalink to this heading">¶</a></h4>
<p>PDP-11 I/O space and vector space are not large enough to allow all possible devices to be configured simultaneously at fixed addresses.
Instead, many devices have floating addresses and vectors;
that is, the assigned device address and vector depend on the presence of other devices in the configuration:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>DZ11</p></td>
<td><p>All instances have floating addresses</p></td>
</tr>
<tr class="row-even"><td><p>DHU11/DHQ11</p></td>
<td><p>All instances have floating addresses</p></td>
</tr>
<tr class="row-odd"><td><p>RL11</p></td>
<td><p>First instance has fixed address, rest floating</p></td>
</tr>
<tr class="row-even"><td><p>RX11/RX211</p></td>
<td><p>First instance has fixed address, rest floating</p></td>
</tr>
<tr class="row-odd"><td><p>DEUNA/DELUA</p></td>
<td><p>First instance has fixed address, rest floating</p></td>
</tr>
<tr class="row-even"><td><p>MSCP disk</p></td>
<td><p>First instance has fixed address, rest floating</p></td>
</tr>
<tr class="row-odd"><td><p>TMSCP tape</p></td>
<td><p>First instance has fixed address, rest floating</p></td>
</tr>
</tbody>
</table>
<p>In addition, some devices with fixed I/O space addresses have floating vector addresses.
DCI/DCO and DLI/DLO have floating vector addresses.</p>
<p>To maintain addressing consistency as the configuration changes,
the simulator implements DEC’s standard I/O address and vector autoconfiguration.
This allows the user to enable or disable devices without needing to manage I/O addresses and vectors.
For example, if RY is enabled while RX is present, RY is assigned an I/O address in the floating I/O space range;
but if RX is disabled and then RY is enabled, RY is assigned the fixed “first instance” I/O address for floppy disks.</p>
<p>Autoconfiguration cannot solve address conflicts between devices with overlapping fixed addresses.
For example, with default I/O page addressing, the PDP-11 can support either a TM11 or a TS11, but not both, since they use the same I/O addresses.</p>
<p>In addition to autoconfiguration, most devices support the <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">&lt;device&gt;</span> <span class="pre">ADDRESS</span></code> command,
which allows the I/O page address of the device to be changed,
and the <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">&lt;device&gt;</span> <span class="pre">VECTOR</span></code> command, which allows the vector of the device to be changed.
Explicitly setting the I/O address of a device that normally uses autoconfiguration DISABLES autoconfiguration for that device and for the entire system.
As a consequence, the user may have to manually configure all other autoconfigured devices, because the autoconfiguration algorithm no longer recognizes the explicitly configured device.
A device can be reset to autoconfigure with the <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">&lt;device&gt;</span> <span class="pre">AUTOCONFIGURE</span></code> command.
Autoconfiguration can be restored for the entire system with the <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">CPU</span> <span class="pre">AUTOCONFIGURE</span></code> command.</p>
<p>The current I/O map can be displayed with the <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">CPU</span> <span class="pre">IOSPACE</span></code> command.
Addresses that have set by autoconfiguration are marked with an asterisk (*).</p>
<p>All devices support the <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">&lt;device&gt;</span> <span class="pre">ADDRESS</span></code> and <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">&lt;device&gt;</span> <span class="pre">VECTOR</span></code> commands,
which display the device address and vector, respectively.</p>
</section>
</section>
<section id="programmed-i-o-devices">
<h3><span class="sectnum">1.2.3. </span>Programmed I/O devices<a class="headerlink" href="#programmed-i-o-devices" title="Permalink to this heading">¶</a></h3>
<section id="pc11-paper-tape-reader-ptr">
<h4><span class="sectnum">1.2.3.1. </span>PC11 paper tape reader (PTR)<a class="headerlink" href="#pc11-paper-tape-reader-ptr" title="Permalink to this heading">¶</a></h4>
<p>The paper tape reader (PTR) reads data from a disk file.
The POS register specifies the number of the next data item to be read.
Thus, by changing POS, the user can backspace or advance the reader.</p>
<p>The paper tape reader implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>8</p></td>
<td><p>Last data item processed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CSR</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag (CSR&lt;15&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUSY</span></code></p></td>
<td><p>1</p></td>
<td><p>Busy flag (CSR&lt;11&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag (CSR&lt;7&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag (CSR&lt;6&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Position in the input file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Time from I/O initiation to interrupt</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Out of tape</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>end of file</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Out of tape</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>x</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
</section>
<section id="pc11-paper-tape-punch-ptp">
<h4><span class="sectnum">1.2.3.2. </span>PC11 paper tape punch (PTP)<a class="headerlink" href="#pc11-paper-tape-punch-ptp" title="Permalink to this heading">¶</a></h4>
<p>The paper tape punch (PTP) writes data to a disk file.
The POS register specifies the number of the next data item to be written.
Thus, by changing POS, the user can backspace or advance the punch.
The default position after ATTACH is to position at the end of an existing file.
A new file can be created if you attach with the <code class="docutils literal notranslate"><span class="pre">-N</span></code> switch.</p>
<p>The paper tape punch implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>8</p></td>
<td><p>Last data item processed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CSR</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag (CSR&lt;15&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag (CSR&lt;7&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag (CSR&lt;6&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Position in the output file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Time from I/O initiation to interrupt</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Out of tape</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>x</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
</section>
<section id="dl11-terminal-input-tti">
<h4><span class="sectnum">1.2.3.3. </span>DL11 terminal input (TTI)<a class="headerlink" href="#dl11-terminal-input-tti" title="Permalink to this heading">¶</a></h4>
<p>The terminal interfaces (TTI, TTO) can be set to one of four modes, <code class="docutils literal notranslate"><span class="pre">7P</span></code>, <code class="docutils literal notranslate"><span class="pre">7B</span></code> or <code class="docutils literal notranslate"><span class="pre">8B</span></code>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Mode</p></th>
<th class="head"><p>Input characters</p></th>
<th class="head"><p>Output characters</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">UC</span></code></p></td>
<td><p>High-order bit cleared,
lowercase converted
to uppercase</p></td>
<td><p>High order-bit cleared,
lowercase converted
to uppercase</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">7P</span></code></p></td>
<td><p>High-order bit cleared</p></td>
<td><p>High-order bit cleared,
non-printing characters suppressed</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">7B</span></code></p></td>
<td><p>High-order bit cleared</p></td>
<td><p>High-order bit cleared</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">8B</span></code></p></td>
<td><p>No changes</p></td>
<td><p>No changes</p></td>
</tr>
</tbody>
</table>
<p>The default mode is <code class="docutils literal notranslate"><span class="pre">7B</span></code> (TTI) and <code class="docutils literal notranslate"><span class="pre">7P</span></code> (TTO).</p>
</section>
<section id="dl11-terminal-output-tto">
<h4><span class="sectnum">1.2.3.4. </span>DL11 terminal output (TTO)<a class="headerlink" href="#dl11-terminal-output-tto" title="Permalink to this heading">¶</a></h4>
<p>The terminal input (TTI) polls the console keyboard for input.
It implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>8</p></td>
<td><p>Last data item processed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CSR</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag (CSR&lt;15&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag (CSR&lt;7&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag (CSR&lt;6&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Number of characters output</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Input polling interval (if 0, the keyboard
is polled synchronously with the line clock)</p></td>
</tr>
</tbody>
</table>
<p>The terminal output (TTO) writes to the simulator console window.
It implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>8</p></td>
<td><p>Last data item processed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CSR</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag (CSR&lt;15&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag (CSR&lt;7&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag (CSR&lt;6&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Number of characters input</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Time from I/O initiation to interrupt</p></td>
</tr>
</tbody>
</table>
</section>
<section id="lp11-line-printer-lpt">
<h4><span class="sectnum">1.2.3.5. </span>LP11 line printer (LPT)<a class="headerlink" href="#lp11-line-printer-lpt" title="Permalink to this heading">¶</a></h4>
<p>The line printer (LPT) writes data to a disk file.
The POS register specifies the number of the next data item to be written.
Thus, by changing POS, the user can backspace or advance the printer.
The default position after <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> is to position at the end of an existing file.
A new file can be created if you attach with the <code class="docutils literal notranslate"><span class="pre">-N</span></code> switch.</p>
<p>The line printer implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>8</p></td>
<td><p>Last data item processed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CSR</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag (CSR&lt;15&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag (CSR&lt;7&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag (CSR&lt;6&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Position in the output file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Time from I/O initiation to interrupt</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Out of paper</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>x</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
</section>
<section id="kw11-l-line-time-clock-clk">
<h4><span class="sectnum">1.2.3.6. </span>KW11-L Line-time clock (CLK)<a class="headerlink" href="#kw11-l-line-time-clock-clk" title="Permalink to this heading">¶</a></h4>
<p>The line-time clock (CLK) frequency can be adjusted as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CLK</span> <span class="mi">60</span><span class="n">HZ</span>                  <span class="n">Set</span> <span class="n">frequency</span> <span class="n">to</span> <span class="mi">60</span><span class="n">Hz</span>
<span class="n">SET</span> <span class="n">CLK</span> <span class="mi">50</span><span class="n">HZ</span>                  <span class="n">Set</span> <span class="n">frequency</span> <span class="n">to</span> <span class="mi">50</span><span class="n">Hz</span>
</pre></div>
</div>
<p>The default is 60Hz.</p>
<p>The line-time clock implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CSR</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag (CSR&lt;7&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag (CSR&lt;6&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Clock interval</p></td>
</tr>
</tbody>
</table>
<p>The line-time clock autocalibrates;
the clock interval is adjusted up or down so that the clock tracks actual elapsed time.</p>
</section>
<section id="kw11-p-programmable-clock-pclk">
<h4><span class="sectnum">1.2.3.7. </span>KW11-P programmable clock (PCLK)<a class="headerlink" href="#kw11-p-programmable-clock-pclk" title="Permalink to this heading">¶</a></h4>
<p>The programmable clock (PCLK) line frequency can be adjusted as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">PCLK</span> <span class="mi">60</span><span class="n">HZ</span>                  <span class="n">Set</span> <span class="n">frequency</span> <span class="n">to</span> <span class="mi">60</span><span class="n">Hz</span>
<span class="n">SET</span> <span class="n">PCLK</span> <span class="mi">50</span><span class="n">HZ</span>                  <span class="n">Set</span> <span class="n">frequency</span> <span class="n">to</span> <span class="mi">50</span><span class="n">Hz</span>
</pre></div>
</div>
<p>The default is 60Hz.</p>
<p>The programmable clock implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CSR</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CSB</span></code></p></td>
<td><p>16</p></td>
<td><p>Count set buffer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CNT</span></code></p></td>
<td><p>16</p></td>
<td><p>Current count</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OVFL</span></code></p></td>
<td><p>1</p></td>
<td><p>Overflow (error) flag (CSR&lt;15&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag (CSR&lt;7&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag (CSR&lt;6&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">UPDN</span></code></p></td>
<td><p>1</p></td>
<td><p>Up/down count mode (CSR&lt;4&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MODE</span></code></p></td>
<td><p>1</p></td>
<td><p>Single/repeat mode (CSR&lt;3&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RUN</span></code></p></td>
<td><p>1</p></td>
<td><p>Clock run (CSR&lt;0&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME0</span></code> .. <code class="docutils literal notranslate"><span class="pre">TIME3</span></code></p></td>
<td><p>32</p></td>
<td><p>Clock interval, rates 0 to 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TPS0</span></code> .. <code class="docutils literal notranslate"><span class="pre">TIME3</span></code></p></td>
<td><p>32</p></td>
<td><p>Ticks per second, rates 0 to 3</p></td>
</tr>
</tbody>
</table>
<p>The programmable clock autocalibrates; the clock interval is adjusted up or down so that the clock tracks actual elapsed time.
Operation at the highest clock rate (100Khz) is not recommended.
The programmable clock is disabled by default.</p>
</section>
<section id="ta11-ta60-cassette-tape-ct">
<h4><span class="sectnum">1.2.3.8. </span>TA11/TA60 cassette tape (CT)<a class="headerlink" href="#ta11-ta60-cassette-tape-ct" title="Permalink to this heading">¶</a></h4>
<p>The TA11 is a programmed I/O controller supporting two cassette drives (0 and 1).
The TA11 can be used like a small magtape under RT11 and RSX-11M, and with the CAPS-11 operating system.
Cassettes are simulated as magnetic tapes with a fixed capacity (93,000 characters).
The tape format is always SIMH standard.
The TA11 is disabled by default.</p>
<p>TA11 options include the ability to make units write enabled or write locked.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CTn</span> <span class="n">LOCKED</span>                <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">locked</span>
<span class="n">SET</span> <span class="n">CTn</span> <span class="n">WRITEENABLED</span>          <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">enabled</span>
</pre></div>
</div>
<p>Units can not be set <code class="docutils literal notranslate"><span class="pre">ENABLED</span></code> or <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.
The TA11 does not support the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.</p>
<p>The TA11 controller implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TACS</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TAIDB</span></code></p></td>
<td><p>8</p></td>
<td><p>Input data buffer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TAODB</span></code></p></td>
<td><p>8</p></td>
<td><p>Output data buffer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt request</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TR</span></code></p></td>
<td><p>1</p></td>
<td><p>Transfer request flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WRITE</span></code></p></td>
<td><p>1</p></td>
<td><p>TA60 write operation flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BPTR</span></code></p></td>
<td><p>17</p></td>
<td><p>Buffer pointer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BLNT</span></code></p></td>
<td><p>17</p></td>
<td><p>Buffer length</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Operation start time</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Character latency</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O errors flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POS[0:1]</span></code></p></td>
<td><p>32</p></td>
<td><p>Position, units 0-1</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>not attached</p></td>
<td><p>Tape not ready; if <code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code>, stop</p></td>
</tr>
<tr class="row-odd"><td><p>end of file</p></td>
<td><p>Bad tape</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>CRC error; if <code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code>, stop</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="floppy-disk-drives">
<h3><span class="sectnum">1.2.4. </span>Floppy disk drives<a class="headerlink" href="#floppy-disk-drives" title="Permalink to this heading">¶</a></h3>
<section id="rx11-rx01-floppy-disk-rx">
<h4><span class="sectnum">1.2.4.1. </span>RX11/RX01 floppy disk (RX)<a class="headerlink" href="#rx11-rx01-floppy-disk-rx" title="Permalink to this heading">¶</a></h4>
<p>RX11 options include the ability to set units write enabled or write locked:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">RXn</span> <span class="n">LOCKED</span>                <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">locked</span>
<span class="n">SET</span> <span class="n">RXn</span> <span class="n">WRITEENABLED</span>          <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">enabled</span>
</pre></div>
</div>
<p>The RX11 supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.</p>
<p>The RX11 implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RXCS</span></code></p></td>
<td><p>12</p></td>
<td><p>Status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RXDB</span></code></p></td>
<td><p>8</p></td>
<td><p>Data buffer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RXES</span></code></p></td>
<td><p>8</p></td>
<td><p>Error status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RXERR</span></code></p></td>
<td><p>8</p></td>
<td><p>Error code</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RXTA</span></code></p></td>
<td><p>8</p></td>
<td><p>Current track</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RXSA</span></code></p></td>
<td><p>8</p></td>
<td><p>Current sector</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STAPTR</span></code></p></td>
<td><p>3</p></td>
<td><p>Controller state</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUFPTR</span></code></p></td>
<td><p>3</p></td>
<td><p>Buffer pointer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag (CSR&lt;15&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TR</span></code></p></td>
<td><p>1</p></td>
<td><p>Transfer ready flag (CSR&lt;7&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag (CSR&lt;6&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag (CSR&lt;5&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Command completion time</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Seek time, per track</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Transfer ready delay</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SBUF[0:127]</span></code></p></td>
<td><p>8</p></td>
<td><p>Sector buffer array</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Disk not ready</p></td>
</tr>
</tbody>
</table>
<p>RX01 data files are buffered in memory;
therefore, end of file and OS I/O errors cannot occur.</p>
</section>
<section id="rx211-rx02-floppy-disk-ry">
<h4><span class="sectnum">1.2.4.2. </span>RX211/RX02 floppy disk (RY)<a class="headerlink" href="#rx211-rx02-floppy-disk-ry" title="Permalink to this heading">¶</a></h4>
<p>RX211 options include the ability to set units write enabled or write locked, single or double density, or autosized:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">RYn</span> <span class="n">LOCKED</span>                <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">locked</span>
<span class="n">SET</span> <span class="n">RYn</span> <span class="n">WRITEENABLED</span>          <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">enabled</span>
<span class="n">SET</span> <span class="n">RYn</span> <span class="n">SINGLE</span>                <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">single</span> <span class="n">density</span>
<span class="n">SET</span> <span class="n">RYn</span> <span class="n">DOUBLE</span>                <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">double</span> <span class="n">density</span> <span class="p">(</span><span class="n">default</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">RYn</span> <span class="n">AUTOSIZE</span>              <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">to</span> <span class="n">autosize</span> <span class="n">at</span> <span class="n">ATTACH</span>
</pre></div>
</div>
<p>The RX211 supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.
The RX211 is disabled in a Qbus system with more than 256KB of memory.</p>
<p>The RX211 implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RYCS</span></code></p></td>
<td><p>16</p></td>
<td><p>Status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RYBA</span></code></p></td>
<td><p>16</p></td>
<td><p>Buffer address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RYWC</span></code></p></td>
<td><p>8</p></td>
<td><p>Word count</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RYDB</span></code></p></td>
<td><p>16</p></td>
<td><p>Data buffer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RYES</span></code></p></td>
<td><p>12</p></td>
<td><p>Error status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RYERR</span></code></p></td>
<td><p>8</p></td>
<td><p>Error code</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RYTA</span></code></p></td>
<td><p>8</p></td>
<td><p>Current track</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RYSA</span></code></p></td>
<td><p>8</p></td>
<td><p>Current sector</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STAPTR</span></code></p></td>
<td><p>4</p></td>
<td><p>Controller state</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag (CSR&lt;15&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TR</span></code></p></td>
<td><p>1</p></td>
<td><p>Transfer ready flag (CSR&lt;7&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag (CSR&lt;6&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag (CSR&lt;5&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Command completion time</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Seek time, per track</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">XTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Transfer ready delay</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SBUF[0:255]</span></code></p></td>
<td><p>8</p></td>
<td><p>Sector buffer array</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Disk not ready</p></td>
</tr>
</tbody>
</table>
<p>RX02 data files are buffered in memory;
therefore, end of file and OS I/O errors cannot occur.</p>
</section>
</section>
<section id="cartridge-disk-drives">
<h3><span class="sectnum">1.2.5. </span>Cartridge disk drives<a class="headerlink" href="#cartridge-disk-drives" title="Permalink to this heading">¶</a></h3>
<section id="rk11-rk05-cartridge-disk-rk">
<h4><span class="sectnum">1.2.5.1. </span>RK11/RK05 cartridge disk (RK)<a class="headerlink" href="#rk11-rk05-cartridge-disk-rk" title="Permalink to this heading">¶</a></h4>
<p>RK11 options include the ability to make units write enabled or write locked:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">RKn</span> <span class="n">LOCKED</span>                <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">locked</span>
<span class="n">SET</span> <span class="n">RKn</span> <span class="n">WRITEENABLED</span>          <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">enabled</span>
</pre></div>
</div>
<p>Units can also be set <code class="docutils literal notranslate"><span class="pre">ENABLED</span></code> or <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.
The RK11 supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.
The RK11 is disabled in a Qbus system with more than 256KB of memory.</p>
<p>The RK11 implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RKCS</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RKDA</span></code></p></td>
<td><p>16</p></td>
<td><p>Disk address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RKBA</span></code></p></td>
<td><p>16</p></td>
<td><p>Memory address</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RKWC</span></code></p></td>
<td><p>16</p></td>
<td><p>Word count</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RKDS</span></code></p></td>
<td><p>16</p></td>
<td><p>Drive status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RKER</span></code></p></td>
<td><p>16</p></td>
<td><p>Error status</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INTQ</span></code></p></td>
<td><p>9</p></td>
<td><p>Interrupt queue</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DRVN</span></code></p></td>
<td><p>3</p></td>
<td><p>Number of last selected drive</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag (CSR&lt;15&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag (CSR&lt;7&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag (CSR&lt;6&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Seek time, per cylinder</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Rotational delay</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Disk not ready</p></td>
</tr>
<tr class="row-even"><td><p>end of file</p></td>
<td><p>x</p></td>
<td><p>Assume rest of disk is zero</p></td>
</tr>
<tr class="row-odd"><td><p>OS I/O error</p></td>
<td><p>x</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rk611-rk06-rk07-cartridge-disk-hk">
<h4><span class="sectnum">1.2.5.2. </span>RK611/RK06,RK07 cartridge disk (HK)<a class="headerlink" href="#rk611-rk06-rk07-cartridge-disk-hk" title="Permalink to this heading">¶</a></h4>
<p>RK611 options include the ability to set units write enabled or write locked,
to set the drive type to RK06, RK07, or autosize,
and to write a DEC standard 144 compliant bad block table on the last track:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">HKn</span> <span class="n">LOCKED</span>                <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">locked</span>
<span class="n">SET</span> <span class="n">HKn</span> <span class="n">WRITEENABLED</span>          <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">enabled</span>
<span class="n">SET</span> <span class="n">HKn</span> <span class="n">RK06</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RK06</span>
<span class="n">SET</span> <span class="n">HKn</span> <span class="n">RK07</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RK07</span>
<span class="n">SET</span> <span class="n">HKn</span> <span class="n">AUTOSIZE</span>              <span class="n">Set</span> <span class="nb">type</span> <span class="n">based</span> <span class="n">on</span> <span class="n">file</span> <span class="n">size</span> <span class="n">at</span> <span class="n">ATTACH</span>
<span class="n">SET</span> <span class="n">HKn</span> <span class="n">BADBLOCK</span>              <span class="n">Write</span> <span class="n">bad</span> <span class="n">block</span> <span class="n">table</span> <span class="n">on</span> <span class="n">last</span> <span class="n">track</span>
</pre></div>
</div>
<p>The type options can be used only when a unit is not attached to a file.
The bad block option can be used only when a unit is attached to a file.
Units can be set <code class="docutils literal notranslate"><span class="pre">ENABLED</span></code> or <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.
The RK611 supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.
The RK611 is disabled in a Qbus system with more than 256KB of memory.</p>
<p>The RK611 implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HKCS1</span></code></p></td>
<td><p>16</p></td>
<td><p>control/status 1</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">HKWC</span></code></p></td>
<td><p>16</p></td>
<td><p>word count</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HKBA</span></code></p></td>
<td><p>16</p></td>
<td><p>bus address</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">HKDA</span></code></p></td>
<td><p>16</p></td>
<td><p>desired surface, sector</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HKCS2</span></code></p></td>
<td><p>16</p></td>
<td><p>control/status 2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">HKDS[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>drive status, drives 0 to 7</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HKER[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>drive errors, drives 0 to 7</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">HKDB[0:2]</span></code></p></td>
<td><p>16</p></td>
<td><p>data buffer silo</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HKDC</span></code></p></td>
<td><p>16</p></td>
<td><p>desired cylinder</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">HKOF</span></code></p></td>
<td><p>8</p></td>
<td><p>offset</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HKMR</span></code></p></td>
<td><p>16</p></td>
<td><p>maintenance register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">HKSPR</span></code></p></td>
<td><p>16</p></td>
<td><p>spare register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HKCI</span></code></p></td>
<td><p>1</p></td>
<td><p>controller interrupt flop</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">HKDI</span></code></p></td>
<td><p>1</p></td>
<td><p>drive interrupt flop</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HKEI</span></code></p></td>
<td><p>1</p></td>
<td><p>error interrupt flop</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>interrupt pending flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>error flag (CSR&lt;15&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>device done flag (CSR1&lt;7&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>interrupt enable flag (CSR1&lt;6&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STIME</span></code></p></td>
<td><p>24</p></td>
<td><p>seek time, per cylinder</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>rotational delay</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MIN2TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>minimum time between DONE and ATA</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Disk not ready</p></td>
</tr>
<tr class="row-even"><td><p>end of file</p></td>
<td><p>x</p></td>
<td><p>Assume rest of disk is zero</p></td>
</tr>
<tr class="row-odd"><td><p>OS I/O error</p></td>
<td><p>x</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rl11-rlv12-rl01-rl02-cartridge-disk-rl">
<h4><span class="sectnum">1.2.5.3. </span>RL11(RLV12)/RL01,RL02 cartridge disk (RL)<a class="headerlink" href="#rl11-rlv12-rl01-rl02-cartridge-disk-rl" title="Permalink to this heading">¶</a></h4>
<p>RL11 options include the ability to set units write enabled or write locked,
to set the drive type to RL01, RL02, or autosize,
and to write a DEC standard 144 compliant bad block table on the last track:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">RLn</span> <span class="n">LOCKED</span>                <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">locked</span>
<span class="n">SET</span> <span class="n">RLn</span> <span class="n">WRITEENABLED</span>          <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">enabled</span>
<span class="n">SET</span> <span class="n">RLn</span> <span class="n">RL01</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RL01</span>
<span class="n">SET</span> <span class="n">RLn</span> <span class="n">RL02</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RL02</span>
<span class="n">SET</span> <span class="n">RLn</span> <span class="n">AUTOSIZE</span>              <span class="n">Set</span> <span class="nb">type</span> <span class="n">based</span> <span class="n">on</span> <span class="n">file</span> <span class="n">size</span> <span class="n">at</span> <span class="n">ATTACH</span>
<span class="n">SET</span> <span class="n">RLn</span> <span class="n">BADBLOCK</span>              <span class="n">Write</span> <span class="n">bad</span> <span class="n">block</span> <span class="n">table</span> <span class="n">on</span> <span class="n">last</span> <span class="n">track</span>
</pre></div>
</div>
<p>The type options can be used only when a unit is not attached to a file.
The bad block option can be used only when a unit is attached to a file.
Units can be set <code class="docutils literal notranslate"><span class="pre">ENABLED</span></code> or <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.
The RL11 supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.
In a Unibus system, the RL behaves like an RL11 with 18b addressing;
in a Qbus (Q22) system, the RL behaves like the RLV12 with 22b addressing.</p>
<p>The RL11 implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RLCS</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RLDA</span></code></p></td>
<td><p>16</p></td>
<td><p>Disk address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RLBA</span></code></p></td>
<td><p>16</p></td>
<td><p>Memory address</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RLBAE</span></code></p></td>
<td><p>6</p></td>
<td><p>Memory address extension (RLV12)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RLMP</span></code>, <code class="docutils literal notranslate"><span class="pre">RLMP1</span></code>, <code class="docutils literal notranslate"><span class="pre">RLMP2</span></code></p></td>
<td><p>16</p></td>
<td><p>Multipurpose register queue</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag (CSR&lt;15&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag (CSR&lt;7&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag (CSR&lt;6&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Seek time, per cylinder</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Rotational delay</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Disk not ready</p></td>
</tr>
<tr class="row-even"><td><p>end of file</p></td>
<td><p>x</p></td>
<td><p>Assume rest of disk is zero</p></td>
</tr>
<tr class="row-odd"><td><p>OS I/O error</p></td>
<td><p>x</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="massbus-subsystems">
<h3><span class="sectnum">1.2.6. </span>Massbus subsystems<a class="headerlink" href="#massbus-subsystems" title="Permalink to this heading">¶</a></h3>
<section id="rh70-rh11-massbus-adapters-rha-rhb-rhc">
<h4><span class="sectnum">1.2.6.1. </span>RH70/RH11 Massbus adapters (RHA, RHB, RHC)<a class="headerlink" href="#rh70-rh11-massbus-adapters-rha-rhb-rhc" title="Permalink to this heading">¶</a></h4>
<p>The RH70/RH11 Massbus adapters interface Massbus peripherals to the memory bus or Unibus of the CPU.
The simulator provides three Massbus adapters.
The first, RHA, is configured for the RP family of disk drives.
The second, RHB, is configured for the TU family of tape controllers.
The third, RHC, is configured for the RS family of fixed head disks.
By default, RHA is enabled and RHB and RHC are disabled.
In a Unibus system, the RH adapters implement 22b addressing for the 11/70 and 18b addressing for all other models.
In a Qbus system, the RH adapters always implement 22b addressing.</p>
<p>Each RH adapter implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CS1</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status register 1</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WC</span></code></p></td>
<td><p>16</p></td>
<td><p>Word count</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BA</span></code></p></td>
<td><p>16</p></td>
<td><p>Bus address</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CS2</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status register 2</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DB</span></code></p></td>
<td><p>16</p></td>
<td><p>Data buffer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BAE</span></code></p></td>
<td><p>6</p></td>
<td><p>Bus address extension</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CS3</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status register 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IFF</span></code></p></td>
<td><p>1</p></td>
<td><p>Transfer complete interrupt request flop</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SC</span></code></p></td>
<td><p>1</p></td>
<td><p>Special condition (CSR1&lt;15&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag (CSR1&lt;7&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag (CSR1&lt;6&gt;)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rp04-05-06-07-rm02-03-05-80-disk-pack-drives-rp">
<h4><span class="sectnum">1.2.6.2. </span>RP04/05/06/07, RM02/03/05/80 disk pack drives (RP)<a class="headerlink" href="#rp04-05-06-07-rm02-03-05-80-disk-pack-drives-rp" title="Permalink to this heading">¶</a></h4>
<p>The RP controller implements the Massbus family of large disk drives.
RP options include the ability to set units write enabled or write locked,
to set the drive type to one of six disk types or autosize,
and to write a DEC standard 144 compliant bad block table on the last track:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">RPn</span> <span class="n">LOCKED</span>           <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">locked</span>
<span class="n">SET</span> <span class="n">RPn</span> <span class="n">WRITEENABLED</span>     <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">enabled</span>
<span class="n">SET</span> <span class="n">RPn</span> <span class="n">RM03</span>             <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RM03</span>
<span class="n">SET</span> <span class="n">RPn</span> <span class="n">RM05</span>             <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RM05</span>
<span class="n">SET</span> <span class="n">RPn</span> <span class="n">RM80</span>             <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RM80</span>
<span class="n">SET</span> <span class="n">RPn</span> <span class="n">RP04</span>             <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RP04</span>
<span class="n">SET</span> <span class="n">RPn</span> <span class="n">RP05</span>             <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RP05</span>
<span class="n">SET</span> <span class="n">RPn</span> <span class="n">RP06</span>             <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RP06</span>
<span class="n">SET</span> <span class="n">RPn</span> <span class="n">RP07</span>             <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RP07</span>
<span class="n">SET</span> <span class="n">RPn</span> <span class="n">AUTOSIZE</span>         <span class="n">Set</span> <span class="nb">type</span> <span class="n">based</span> <span class="n">on</span> <span class="n">file</span> <span class="n">size</span> <span class="n">at</span> <span class="n">ATTACH</span>
<span class="n">SET</span> <span class="n">RPn</span> <span class="n">BADBLOCK</span>         <span class="n">Write</span> <span class="n">bad</span> <span class="n">block</span> <span class="n">table</span> <span class="n">on</span> <span class="n">last</span> <span class="n">track</span>
</pre></div>
</div>
<p>The type options can be used only when a unit is not attached to a file.
The bad block option can be used only when a unit is attached to a file.
Units can be set <code class="docutils literal notranslate"><span class="pre">ENABLED</span></code> or <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.
The RP controller supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.</p>
<p>The RP controller implements the registers listed below.
Registers suffixed with <code class="docutils literal notranslate"><span class="pre">[0:7]</span></code> are replicated per drive.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CS1[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Current operation</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DA[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Desired surface, sector</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DS[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Drive status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ER1[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Drive errors</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OF[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Offset</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DC[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Desired cylinder</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ER2[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Error status 2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ER3[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Error status 3</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">EC1[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>ECC syndrome 1</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EC2[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>ECC syndrome 2</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MR[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Maintenance register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MR2[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Maintenance register 2 (RM only)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HR[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Holding register (RM only)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Seek time, per cylinder</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Rotational delay</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Disk not ready</p></td>
</tr>
<tr class="row-even"><td><p>end of file</p></td>
<td><p>x</p></td>
<td><p>Assume rest of disk is zero</p></td>
</tr>
<tr class="row-odd"><td><p>OS I/O error</p></td>
<td><p>x</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tm02-tm03-te16-tu45-tu77-magnetic-tapes-tu">
<h4><span class="sectnum">1.2.6.3. </span>TM02/TM03/TE16/TU45/TU77 magnetic tapes (TU)<a class="headerlink" href="#tm02-tm03-te16-tu45-tu77-magnetic-tapes-tu" title="Permalink to this heading">¶</a></h4>
<p>The TU controller implements the Massbus family of 800/1600bpi magnetic tape drives.
TU options include the ability to select the formatter type (TM02 or TM03),
to set the drive type to one of three drives (TE16, TU45, or TU77),
and to set the drives write enabled or write locked.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">TU</span> <span class="n">TM02</span>                   <span class="n">Set</span> <span class="n">controller</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">TM02</span>
<span class="n">SET</span> <span class="n">TU</span> <span class="n">TM03</span>                   <span class="n">Set</span> <span class="n">controller</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">TM03</span>
<span class="n">SET</span> <span class="n">TUn</span> <span class="n">TE16</span>                  <span class="n">Set</span> <span class="n">drive</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">TE16</span>
<span class="n">SET</span> <span class="n">TUn</span> <span class="n">TU45</span>                  <span class="n">Set</span> <span class="n">drive</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">TU45</span>
<span class="n">SET</span> <span class="n">TUn</span> <span class="n">TU77</span>                  <span class="n">Set</span> <span class="n">drive</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">TU77</span>
</pre></div>
</div>
<p>Magnetic tape units can be set to a specific reel capacity in MB, or to unlimited capacity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">TUn</span> <span class="n">CAPAC</span><span class="o">=</span><span class="n">m</span>               <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">capacity</span> <span class="n">to</span> <span class="n">m</span> <span class="n">MB</span> <span class="p">(</span><span class="mi">0</span> <span class="o">=</span> <span class="n">unlimited</span><span class="p">)</span>
<span class="n">SHOW</span> <span class="n">TUn</span> <span class="n">CAPAC</span>                <span class="n">Show</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">capacity</span> <span class="ow">in</span> <span class="n">MB</span>
</pre></div>
</div>
<p>Units can be set <code class="docutils literal notranslate"><span class="pre">ENABLED</span></code> or <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.
The TU controller supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.</p>
<p>The TU controller implements the following registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CS1</span></code></p></td>
<td><p>6</p></td>
<td><p>Current operation</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">FC</span></code></p></td>
<td><p>16</p></td>
<td><p>Frame count</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FS</span></code></p></td>
<td><p>16</p></td>
<td><p>Formatter status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ER</span></code></p></td>
<td><p>16</p></td>
<td><p>Formatter errors</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CC</span></code></p></td>
<td><p>16</p></td>
<td><p>Check character</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MR</span></code></p></td>
<td><p>16</p></td>
<td><p>Maintenance register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TC</span></code></p></td>
<td><p>16</p></td>
<td><p>Tape control register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Operation execution time</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">UST</span></code></p></td>
<td><p>17</p></td>
<td><p>Unit status, drives 0 to 7</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Position, drive 0 to 7</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop of I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>not attached</p></td>
<td><p>Tape not ready; if <code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code>, stop</p></td>
</tr>
<tr class="row-odd"><td><p>end of file</p></td>
<td><p>Bad tape</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>Parity error; if <code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code>, stop</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rs03-rs04-fixed-head-disks">
<h4><span class="sectnum">1.2.6.4. </span>RS03/RS04 fixed head disks<a class="headerlink" href="#rs03-rs04-fixed-head-disks" title="Permalink to this heading">¶</a></h4>
<p>The RS controller implements the Massbus family fixed head disks.
RS options include the ability to set units write enabled or write locked and to set the drive type to RS03, RS04, or autosize.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">RSn</span> <span class="n">LOCKED</span>                <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">lock</span> <span class="n">enabled</span>
<span class="n">SET</span> <span class="n">RSn</span> <span class="n">WRITEENABLED</span>          <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">enabled</span>
<span class="n">SET</span> <span class="n">RSn</span> <span class="n">RS03</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RS03</span>
<span class="n">SET</span> <span class="n">RSn</span> <span class="n">RS05</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RS04</span>
<span class="n">SET</span> <span class="n">RSn</span> <span class="n">AUTOSIZE</span>              <span class="n">Set</span> <span class="nb">type</span> <span class="n">based</span> <span class="n">on</span> <span class="n">file</span> <span class="n">size</span> <span class="n">at</span> <span class="n">ATTACH</span>
</pre></div>
</div>
<p>The drive type options can be used only when a unit is not attached to a file.
Units can be set <code class="docutils literal notranslate"><span class="pre">ENABLED</span></code> or <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.
The RS controller supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.</p>
<p>The RS controller implements the registers listed below.
Registers suffixed with <code class="docutils literal notranslate"><span class="pre">[0:7]</span></code> are replicated per drive.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CS1[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Current operation</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DA[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Desired track, sector</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DS[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Drive status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ER[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Drive errors</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MR[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Maintenance register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WLK[0:7]</span></code></p></td>
<td><p>6</p></td>
<td><p>Max write locked track, if enabled</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Rotational delay, per word</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Disk not ready</p></td>
</tr>
</tbody>
</table>
<p>RS data files are buffered in memory;
therefore, end of file and OS I/O errors cannot occur.</p>
</section>
</section>
<section id="rqdx3-uda50-mscp-disk-controllers-rq-rqb-rqc-rqd">
<h3><span class="sectnum">1.2.7. </span>RQDX3/UDA50 MSCP disk controllers (RQ, RQB, RQC, RQD)<a class="headerlink" href="#rqdx3-uda50-mscp-disk-controllers-rq-rqb-rqc-rqd" title="Permalink to this heading">¶</a></h3>
<p>The simulator implements four MSCP disk controllers, RQ, RQB, RQC, RQD.
Initially, RQB, RQC, and RQD are disabled.
Each RQ controller simulates an RQDX3 MSCP disk controller with four disk drives.
RQ options include the ability to set units write enabled or write locked,
and to set the drive type to one of many disk types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">RQn</span> <span class="n">LOCKED</span>                <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">locked</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">WRITEENABLED</span>          <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">enabled</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">RX50</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RX50</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">RX33</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RX33</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">RD32</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RD32</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">RD51</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RD51</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">RD52</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RD52</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">RD53</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RD53</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">RD54</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RD54</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">RD31</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RD31</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">RA81</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RA81</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">RA82</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RA82</span>
<span class="nb">set</span> <span class="n">RQn</span> <span class="n">RA71</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RA71</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">RA72</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RA72</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">RA90</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RA90</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">RA92</span>                  <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RA92</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">RRD40</span>                 <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RRD40</span> <span class="p">(</span><span class="n">CD</span><span class="o">-</span><span class="n">ROM</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">RQn</span> <span class="n">RAUSER</span><span class="p">{</span><span class="o">=</span><span class="n">n</span><span class="p">}</span>            <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RA82</span> <span class="k">with</span> <span class="n">n</span> <span class="n">MBs</span>
<span class="n">SET</span> <span class="o">-</span><span class="n">L</span> <span class="n">RQn</span> <span class="n">RAUSER</span><span class="p">{</span><span class="o">=</span><span class="n">n</span><span class="p">}</span>         <span class="n">Set</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">RA82</span> <span class="k">with</span> <span class="n">n</span> <span class="n">LBNs</span>
</pre></div>
</div>
<p>The type options can be used only when a unit is not attached to a file.
RAUSER is a “user specified” disk;
the user can specify the size of the disk in either MB (1000000 bytes) or logical block numbers (LBNs, 512 bytes each).
The minimum size is 5MB; the maximum size is 2GB without extended file support, 1TB with extended file support.</p>
<p>Units can be set <code class="docutils literal notranslate"><span class="pre">ENABLED</span></code> or <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.
Each RQ controller supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.
In a Unibus system, an RQ supports 18b addressing and identifies itself as a UDA50.
In a Qbus system, an RQ supports 22b addressing and identifies itself as an RQDX3.</p>
<p>Drive units have changeable unit numbers.
Unit numbers can be changed with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">RQn</span> <span class="n">UNIT</span><span class="o">=</span><span class="n">val</span>              <span class="n">Set</span> <span class="n">unit</span> <span class="n">plug</span> <span class="n">value</span>
</pre></div>
</div>
<p>Device RQ has 4 units (RQ0, RQ1, RQ2 and RQ3) which have unique MSCP unit numbers (0, 1, 2 and 3).
Device RQB has 4 units (RQB0, RQB1, RQB2 and RQB3) which have unique MSCP unit numbers (4, 5, 6 and 7).
Device RQC has 4 units (RQC0, RQC1, RQC2 and RQC3) which have unique MSCP unit numbers (8, 9, 10 and 11).
Device RQD has 4 units (RQD0, RQD1, RQD2 and RQD3) which have unique MSCP unit numbers (12, 13, 14 and 15).</p>
<p>Each RQ controller implements the following special <code class="docutils literal notranslate"><span class="pre">SHOW</span></code> commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">RQn</span> <span class="n">TYPE</span>                 <span class="n">Show</span> <span class="n">drive</span> <span class="nb">type</span>
<span class="n">SHOW</span> <span class="n">RQ</span> <span class="n">RINGS</span>                 <span class="n">Show</span> <span class="n">command</span> <span class="ow">and</span> <span class="n">response</span> <span class="n">rings</span>
<span class="n">SHOW</span> <span class="n">RQ</span> <span class="n">FREEQ</span>                 <span class="n">Show</span> <span class="n">packet</span> <span class="n">free</span> <span class="n">queue</span>
<span class="n">SHOW</span> <span class="n">RQ</span> <span class="n">RESPQ</span>                 <span class="n">Show</span> <span class="n">packet</span> <span class="n">response</span> <span class="n">queue</span>
<span class="n">SHOW</span> <span class="n">RQ</span> <span class="n">UNITQ</span>                 <span class="n">Show</span> <span class="n">unit</span> <span class="n">queues</span>
<span class="n">SHOW</span> <span class="n">RQ</span> <span class="n">ALL</span>                   <span class="n">Show</span> <span class="nb">all</span> <span class="n">ring</span> <span class="ow">and</span> <span class="n">queue</span> <span class="n">state</span>
<span class="n">SHOW</span> <span class="n">RQn</span> <span class="n">UNITQ</span>                <span class="n">Show</span> <span class="n">unit</span> <span class="n">queues</span> <span class="k">for</span> <span class="n">unit</span> <span class="n">n</span>
<span class="n">SHOW</span> <span class="n">RQn</span> <span class="n">UNIT</span>                 <span class="n">Show</span> <span class="n">unit</span> <span class="n">plug</span> <span class="n">value</span>
</pre></div>
</div>
<p>Each RQ controller implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SA</span></code></p></td>
<td><p>16</p></td>
<td><p>Status/address register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">S1DAT</span></code></p></td>
<td><p>16</p></td>
<td><p>Step 1 init host data</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CQBA</span></code></p></td>
<td><p>22</p></td>
<td><p>Command queue base address</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CQLNT</span></code></p></td>
<td><p>8</p></td>
<td><p>Command queue length</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CQIDX</span></code></p></td>
<td><p>8</p></td>
<td><p>Command queue index</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RQBA</span></code></p></td>
<td><p>22</p></td>
<td><p>Request queue base address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RQLNT</span></code></p></td>
<td><p>8</p></td>
<td><p>Request queue length</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RQIDX</span></code></p></td>
<td><p>8</p></td>
<td><p>Request queue index</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FREE</span></code></p></td>
<td><p>5</p></td>
<td><p>Head of free packet list</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RESP</span></code></p></td>
<td><p>5</p></td>
<td><p>Head of response packet list</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PBSY</span></code></p></td>
<td><p>5</p></td>
<td><p>Number of busy packets</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CFLGS</span></code></p></td>
<td><p>16</p></td>
<td><p>Controller flags</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CSTA</span></code></p></td>
<td><p>4</p></td>
<td><p>Controller state</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PERR</span></code></p></td>
<td><p>9</p></td>
<td><p>Port error number</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CRED</span></code></p></td>
<td><p>5</p></td>
<td><p>Host credits</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">HAT</span></code></p></td>
<td><p>17</p></td>
<td><p>Host available timer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HTMO</span></code></p></td>
<td><p>17</p></td>
<td><p>Host timeout value</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CPKT[0:3]</span></code></p></td>
<td><p>5</p></td>
<td><p>Current packet, units 0 to 3</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PKTQ[0:3]</span></code></p></td>
<td><p>5</p></td>
<td><p>Packet queue, units 0 to 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">UFLG[0:3]</span></code></p></td>
<td><p>16</p></td>
<td><p>Unit flags, units 0 to 3</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PLUG[0:3]</span></code></p></td>
<td><p>16</p></td>
<td><p>Unit plug value, units 0 to 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt request</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ITIME</span></code></p></td>
<td><p>1</p></td>
<td><p>Response time for initialization steps (except for step 4)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">QTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Response time for ‘immediate’ packets</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">XTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Response time for data transfers</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PKTS[33*32]</span></code></p></td>
<td><p>16</p></td>
<td><p>Packet buffers, 33W each, 32 entries</p></td>
</tr>
</tbody>
</table>
<p>Some DEC operating systems, notably RSX11M/M+, are very sensitive to the timing parameters.
Changing the default values may cause M/M+ to crash on boot or to hang during operation.</p>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>not attached</p></td>
<td><p>Disk not ready</p></td>
</tr>
<tr class="row-odd"><td><p>end of file</p></td>
<td><p>Assume rest of disk is zero</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>Report error and stop</p></td>
</tr>
</tbody>
</table>
</section>
<section id="fixed-head-disks">
<h3><span class="sectnum">1.2.8. </span>Fixed head disks<a class="headerlink" href="#fixed-head-disks" title="Permalink to this heading">¶</a></h3>
<section id="rc11-fixed-head-disk-rc">
<h4><span class="sectnum">1.2.8.1. </span>RC11 fixed head disk (RC)<a class="headerlink" href="#rc11-fixed-head-disk-rc" title="Permalink to this heading">¶</a></h4>
<p>RC11 options include the ability to set the number of platters to a fixed value between 1 and 4,
or to autosize the number of platters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">RC</span> <span class="mi">1</span><span class="n">P</span>                     <span class="n">One</span> <span class="n">platter</span> <span class="p">(</span><span class="mi">256</span><span class="n">K</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">RC</span> <span class="mi">2</span><span class="n">P</span>                     <span class="n">Two</span> <span class="n">platters</span> <span class="p">(</span><span class="mi">512</span><span class="n">K</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">RC</span> <span class="mi">3</span><span class="n">P</span>                     <span class="n">Three</span> <span class="n">platters</span> <span class="p">(</span><span class="mi">768</span><span class="n">K</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">RC</span> <span class="mi">4</span><span class="n">P</span>                     <span class="n">Four</span> <span class="n">platters</span> <span class="p">(</span><span class="mi">1024</span><span class="n">K</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">RC</span> <span class="n">AUTOSIZE</span>               <span class="n">Autosized</span> <span class="n">on</span> <span class="n">ATTACH</span>
</pre></div>
</div>
<p>The default is one platter.
The RC11 does not support the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.
The RC11 is disabled at startup and is automatically disabled in a Qbus system.</p>
<p>The RC11 is a DMA device.
The entire transfer occurs in a single DMA transfer.</p>
<p>The RC11 implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RCLA</span></code></p></td>
<td><p>16</p></td>
<td><p>Look ahead register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RCDA</span></code></p></td>
<td><p>16</p></td>
<td><p>Current disk address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RCER</span></code></p></td>
<td><p>16</p></td>
<td><p>Error register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RCCS</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RCWC</span></code></p></td>
<td><p>16</p></td>
<td><p>Word count</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RCCA</span></code></p></td>
<td><p>16</p></td>
<td><p>Current memory address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RCMN</span></code></p></td>
<td><p>16</p></td>
<td><p>Maintenance register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RCDB</span></code></p></td>
<td><p>16</p></td>
<td><p>Data buffer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RCWLK</span></code></p></td>
<td><p>32</p></td>
<td><p>Write lock switches</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Device error flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Rotational delay, per word</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Non-existent disk</p></td>
</tr>
</tbody>
</table>
<p>RC11 data files are buffered in memory;
therefore, end of file and OS I/O errors cannot occur.</p>
</section>
<section id="rf11-rs11-fixed-head-disk-rf">
<h4><span class="sectnum">1.2.8.2. </span>RF11/RS11 fixed head disk (RF)<a class="headerlink" href="#rf11-rs11-fixed-head-disk-rf" title="Permalink to this heading">¶</a></h4>
<p>RF11 options include the ability to set the number of platters to a fixed value between 1 and 8,
or to autosize the number of platters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">RF</span> <span class="mi">1</span><span class="n">P</span>                     <span class="n">One</span> <span class="n">platter</span> <span class="p">(</span><span class="mi">256</span><span class="n">K</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">RF</span> <span class="mi">2</span><span class="n">P</span>                     <span class="n">Two</span> <span class="n">platters</span> <span class="p">(</span><span class="mi">512</span><span class="n">K</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">RF</span> <span class="mi">3</span><span class="n">P</span>                     <span class="n">Three</span> <span class="n">platters</span> <span class="p">(</span><span class="mi">768</span><span class="n">K</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">RF</span> <span class="mi">4</span><span class="n">P</span>                     <span class="n">Four</span> <span class="n">platters</span> <span class="p">(</span><span class="mi">1024</span><span class="n">K</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">RF</span> <span class="mi">5</span><span class="n">P</span>                     <span class="n">Five</span> <span class="n">platters</span> <span class="p">(</span><span class="mi">1280</span><span class="n">K</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">RF</span> <span class="mi">6</span><span class="n">P</span>                     <span class="n">Six</span> <span class="n">platters</span> <span class="p">(</span><span class="mi">1536</span><span class="n">K</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">RF</span> <span class="mi">7</span><span class="n">P</span>                     <span class="n">Seven</span> <span class="n">platters</span> <span class="p">(</span><span class="mi">1792</span><span class="n">K</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">RF</span> <span class="mi">8</span><span class="n">P</span>                     <span class="n">Eight</span> <span class="n">platters</span> <span class="p">(</span><span class="mi">2048</span><span class="n">K</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">RF</span> <span class="n">AUTOSIZE</span>               <span class="n">Autosized</span> <span class="n">on</span> <span class="n">ATTACH</span>
</pre></div>
</div>
<p>The default is one platter.
The RF11 supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.
The RF11 is disabled at startup and is automatically disabled in a Qbus system.</p>
<p>The RF11 implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RFCS</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RFWC</span></code></p></td>
<td><p>16</p></td>
<td><p>Word count</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RFCMA</span></code></p></td>
<td><p>16</p></td>
<td><p>Current memory address</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RFDA</span></code></p></td>
<td><p>16</p></td>
<td><p>Current disk address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RFDAE</span></code></p></td>
<td><p>16</p></td>
<td><p>Disk address extension</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RFDBR</span></code></p></td>
<td><p>16</p></td>
<td><p>Data buffer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RFMR</span></code></p></td>
<td><p>16</p></td>
<td><p>Maintenance register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RFWLK</span></code></p></td>
<td><p>32</p></td>
<td><p>Write lock switches</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Device error flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Rotational delay, per word</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BURST</span></code></p></td>
<td><p>1</p></td>
<td><p>Burst flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
</tbody>
</table>
<p>The RF11 is a DMA device.
If <code class="docutils literal notranslate"><span class="pre">BURST</span></code> = 0, word transfers are scheduled individually;
if <code class="docutils literal notranslate"><span class="pre">BURST</span></code> = 1, the entire transfer occurs in a single DMA transfer.</p>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>not attached</p></td>
<td><p>1</p></td>
<td><p>Report error and stop</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Non-existent disk</p></td>
</tr>
</tbody>
</table>
<p>RF11 data files are buffered in memory;
therefore, end of file and OS I/O errors cannot occur.</p>
</section>
</section>
<section id="tc11-tu56-dectape-dt">
<h3><span class="sectnum">1.2.9. </span>TC11/TU56 DECtape (DT)<a class="headerlink" href="#tc11-tu56-dectape-dt" title="Permalink to this heading">¶</a></h3>
<p>The DT controller implements the TC11 DECtape controller and TU56 drives.
DECtape options include the ability to make units write enabled or write locked.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">DTn</span> <span class="n">LOCKED</span>                <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">locked</span>
<span class="n">SET</span> <span class="n">DTn</span> <span class="n">WRITEENABLED</span>          <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">enabled</span>
</pre></div>
</div>
<p>Units can be set <code class="docutils literal notranslate"><span class="pre">ENABLED</span></code> or <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.
The TC11 supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.
The TC11 is automatically disabled in a Qbus system.</p>
<p>The TC11 supports supports PDP-8 format, PDP-11 format, and 18b format DECtape images.
<code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> assumes the image is in PDP-11 format; the user can force other choices with switches:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-t</span></code></p></td>
<td><p>PDP-8 format</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-f</span></code></p></td>
<td><p>18b format</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-a</span></code></p></td>
<td><p>Autoselect based on file size</p></td>
</tr>
</tbody>
</table>
<p>The DECtape controller is a data-only simulator;
the timing and mark track, and block header and trailer, are not stored.
Thus, the <code class="docutils literal notranslate"><span class="pre">WRITE</span> <span class="pre">TIMING</span> <span class="pre">AND</span> <span class="pre">MARK</span> <span class="pre">TRACK</span></code> function is not supported;
the <code class="docutils literal notranslate"><span class="pre">READ</span> <span class="pre">ALL</span></code> function always returns the hardware standard block header and trailer;
and the <code class="docutils literal notranslate"><span class="pre">WRITE</span> <span class="pre">ALL</span></code> function dumps non-data words into the bit bucket.</p>
<p>The TC controller implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TCST</span></code></p></td>
<td><p>16</p></td>
<td><p>Status register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TCCM</span></code></p></td>
<td><p>16</p></td>
<td><p>Command register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TCWC</span></code></p></td>
<td><p>16</p></td>
<td><p>Word count register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TCBA</span></code></p></td>
<td><p>16</p></td>
<td><p>Bus address register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TCDT</span></code></p></td>
<td><p>16</p></td>
<td><p>Data register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Done flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CTIME</span></code></p></td>
<td><p>31</p></td>
<td><p>Time to complete transport stop</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LTIME</span></code></p></td>
<td><p>31</p></td>
<td><p>Time between lines</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DCTIME</span></code></p></td>
<td><p>31</p></td>
<td><p>Time to decelerate to a full stop</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SUBSTATE</span></code></p></td>
<td><p>2</p></td>
<td><p>Read/write command substate</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POS[0:7]</span></code></p></td>
<td><p>32</p></td>
<td><p>Position, in lines, units 0 to 7</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STATT[0:7]</span></code></p></td>
<td><p>31</p></td>
<td><p>Unit state, units 0 to 7</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_OFFR</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on off-reel error</p></td>
</tr>
</tbody>
</table>
<p>It is critically important to maintain certain timing relationships among the DECtape parameters,
or the DECtape simulator will fail to operate correctly.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LTIME</span></code> must be at least 6</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DCTIME</span></code> needs to be at least 100 times <code class="docutils literal notranslate"><span class="pre">LTIME</span></code></p></li>
</ul>
<p>Acceleration time is set to 75% of deceleration time.</p>
</section>
<section id="magnetic-tape-controllers">
<h3><span class="sectnum">1.2.10. </span>Magnetic tape controllers<a class="headerlink" href="#magnetic-tape-controllers" title="Permalink to this heading">¶</a></h3>
<section id="tm11-magnetic-tape-tm">
<h4><span class="sectnum">1.2.10.1. </span>TM11 magnetic tape (TM)<a class="headerlink" href="#tm11-magnetic-tape-tm" title="Permalink to this heading">¶</a></h4>
<p>TM options include the ability to make units write enabled or write locked.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">TMn</span> <span class="n">LOCKED</span>                <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">locked</span>
<span class="n">SET</span> <span class="n">TMn</span> <span class="n">WRITEENABLED</span>          <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">enabled</span>
</pre></div>
</div>
<p>Magnetic tape units can be set to a specific reel capacity in MB, or to unlimited capacity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">TMn</span> <span class="n">CAPAC</span><span class="o">=</span><span class="n">m</span>               <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">capacity</span> <span class="n">to</span> <span class="n">m</span> <span class="n">MB</span> <span class="p">(</span><span class="mi">0</span> <span class="o">=</span> <span class="n">unlimited</span><span class="p">)</span>
<span class="n">SHOW</span> <span class="n">TMn</span> <span class="n">CAPAC</span>                <span class="n">Show</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">capacity</span> <span class="ow">in</span> <span class="n">MB</span>
</pre></div>
</div>
<p>Units can be set <code class="docutils literal notranslate"><span class="pre">ENABLED</span></code> or <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.</p>
<p>The TM11 supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.
The bootstrap supports both original and DEC standard boot formats.
Originally, a tape bootstrap read and executed the first record on tape.
To allow for ANSI labels, the DEC standard bootstrap skipped the first record and read and executed the second.
The DEC standard is the default; to bootstrap an original format tape, use the command <code class="docutils literal notranslate"><span class="pre">BOOT</span> <span class="pre">-O</span> <span class="pre">MTn</span></code>.
The TM11 is automatically disabled in a Qbus system with more than 256KB of memory.</p>
<p>The TM controller implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MTS</span></code></p></td>
<td><p>16</p></td>
<td><p>Status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MTC</span></code></p></td>
<td><p>16</p></td>
<td><p>Command</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MTCMA</span></code></p></td>
<td><p>16</p></td>
<td><p>Memory address</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MTBRC</span></code></p></td>
<td><p>16</p></td>
<td><p>Byte/record count</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code></p></td>
<td><p>1</p></td>
<td><p>Device done flag</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code></p></td>
<td><p>1</p></td>
<td><p>Stop on I/O error</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Delay</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">UST[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Unit status, units 0 to 7</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POS[0:7]</span></code></p></td>
<td><p>32</p></td>
<td><p>Position, units 0 to 7</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>not attached</p></td>
<td><p>Tape not ready; if <code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code>, stop</p></td>
</tr>
<tr class="row-odd"><td><p>end of file</p></td>
<td><p>Bad tape</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>Parity error; if <code class="docutils literal notranslate"><span class="pre">STOP_IOE</span></code>, stop</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ts11-tsv05-magnetic-tape-ts">
<h4><span class="sectnum">1.2.10.2. </span>TS11/TSV05 magnetic tape (TS)<a class="headerlink" href="#ts11-tsv05-magnetic-tape-ts" title="Permalink to this heading">¶</a></h4>
<p>TS options include the ability to make the unit write enabled or write locked.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">TS</span> <span class="n">LOCKED</span>                 <span class="n">Set</span> <span class="n">unit</span> <span class="n">write</span> <span class="n">locked</span>
<span class="n">SET</span> <span class="n">TS</span> <span class="n">WRITEENABLED</span>           <span class="n">Set</span> <span class="n">unit</span> <span class="n">write</span> <span class="n">enabled</span>
</pre></div>
</div>
<p>The TS drive can be set to a specific reel capacity in MB, or to unlimited capacity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">TS0</span> <span class="n">CAPAC</span><span class="o">=</span><span class="n">m</span>               <span class="n">Set</span> <span class="n">capacity</span> <span class="n">to</span> <span class="n">m</span> <span class="n">MB</span> <span class="p">(</span><span class="mi">0</span> <span class="o">=</span> <span class="n">unlimited</span><span class="p">)</span>
<span class="n">SHOW</span> <span class="n">TS0</span> <span class="n">CAPAC</span>                <span class="n">Show</span> <span class="n">capacity</span> <span class="ow">in</span> <span class="n">MB</span>
</pre></div>
</div>
<p>The TS11 supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.
The bootstrap supports only DEC standard boot formats.
To allow for ANSI labels, the DEC standard bootstrap skipped the first record and read and executed the second.
In a Unibus system, the TS behaves like the TS11 and implements 18b addresses.
In a Qbus system, the TS behaves like the TSV05 and implements 22b addresses.</p>
<p>The TS controller implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TSSR</span></code></p></td>
<td><p>16</p></td>
<td><p>Status register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TSBA</span></code></p></td>
<td><p>16</p></td>
<td><p>Bus address register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TSDBX</span></code></p></td>
<td><p>16</p></td>
<td><p>Data buffer extension register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CHDR</span></code></p></td>
<td><p>16</p></td>
<td><p>Command packet header</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CADL</span></code></p></td>
<td><p>16</p></td>
<td><p>Command packet low address or count</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CADH</span></code></p></td>
<td><p>16</p></td>
<td><p>Command packet high address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CLNT</span></code></p></td>
<td><p>16</p></td>
<td><p>Command packet length</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MHDR</span></code></p></td>
<td><p>16</p></td>
<td><p>Message packet header</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MRFC</span></code></p></td>
<td><p>16</p></td>
<td><p>Message packet residual frame count</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MXS0</span></code></p></td>
<td><p>16</p></td>
<td><p>Message packet extended status 0</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MXS1</span></code></p></td>
<td><p>16</p></td>
<td><p>Message packet extended status 1</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MXS2</span></code></p></td>
<td><p>16</p></td>
<td><p>Message packet extended status 2</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MXS3</span></code></p></td>
<td><p>16</p></td>
<td><p>Message packet extended status 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MXS4</span></code></p></td>
<td><p>16</p></td>
<td><p>Message packet extended status 4</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WADL</span></code></p></td>
<td><p>16</p></td>
<td><p>Write char packet low address</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WADH</span></code></p></td>
<td><p>16</p></td>
<td><p>Write char packet high address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WLNT</span></code></p></td>
<td><p>16</p></td>
<td><p>Write char packet length</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WOPT</span></code></p></td>
<td><p>16</p></td>
<td><p>Write char packet options</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WXOPT</span></code></p></td>
<td><p>16</p></td>
<td><p>Write char packet extended options</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ATTN</span></code></p></td>
<td><p>1</p></td>
<td><p>Attention message pending</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BOOT</span></code></p></td>
<td><p>1</p></td>
<td><p>Boot request pending</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">OWNC</span></code></p></td>
<td><p>1</p></td>
<td><p>If set, tape owns command buffer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OWNM</span></code></p></td>
<td><p>1</p></td>
<td><p>If set, tape owns message buffer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Delay</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>Position</p></td>
</tr>
</tbody>
</table>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>not attached</p></td>
<td><p>Tape not ready</p></td>
</tr>
<tr class="row-odd"><td><p>end of file</p></td>
<td><p>Bad tape</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>Fatal tape error</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tqk50-tmscp-tape-controller-tq">
<h4><span class="sectnum">1.2.10.3. </span>TQK50 TMSCP tape controller (TQ)<a class="headerlink" href="#tqk50-tmscp-tape-controller-tq" title="Permalink to this heading">¶</a></h4>
<p>The TQ controller simulates the TQK50 TMSCP tape controller.
TQ options include the ability to set units write enabled or write locked,
and to specify the controller type and tape length:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">TQn</span> <span class="n">LOCKED</span>                <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">locked</span>
<span class="n">SET</span> <span class="n">TQn</span> <span class="n">WRITEENABLED</span>          <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">write</span> <span class="n">enabled</span>
<span class="n">SET</span> <span class="n">TQ</span> <span class="n">TK50</span>                   <span class="n">Set</span> <span class="n">controller</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">TK50</span>
<span class="n">SET</span> <span class="n">TQ</span> <span class="n">TK70</span>                   <span class="n">Set</span> <span class="n">controller</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">TK70</span>
<span class="n">SET</span> <span class="n">TQ</span> <span class="n">TU81</span>                   <span class="n">Set</span> <span class="n">controller</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">TU81</span>
<span class="n">SET</span> <span class="n">TQ</span> <span class="n">TKUSER</span><span class="p">{</span><span class="o">=</span><span class="n">n</span><span class="p">}</span>             <span class="n">Set</span> <span class="n">controller</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">TK50</span> <span class="k">with</span>
                              <span class="n">tape</span> <span class="n">capacity</span> <span class="n">of</span> <span class="n">n</span> <span class="n">MB</span>
</pre></div>
</div>
<p>User-specified capacity must be between 50 and 2000 MB.</p>
<p>Regardless of the controller type,
individual units can be set to a specific reel capacity in MB,
or to unlimited capacity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">TQn</span> <span class="n">CAPAC</span><span class="o">=</span><span class="n">m</span>               <span class="n">Set</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">capacity</span> <span class="n">to</span> <span class="n">m</span> <span class="n">MB</span> <span class="p">(</span><span class="mi">0</span> <span class="o">=</span> <span class="n">unlimited</span><span class="p">)</span>
<span class="n">SHOW</span> <span class="n">TQn</span> <span class="n">CAPAC</span>                <span class="n">Show</span> <span class="n">unit</span> <span class="n">n</span> <span class="n">capacity</span> <span class="ow">in</span> <span class="n">MB</span>
</pre></div>
</div>
<p>Drive units have changeable unit numbers.
Unit numbers can be changed with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">TQn</span> <span class="n">UNIT</span><span class="o">=</span><span class="n">val</span>              <span class="n">Set</span> <span class="n">unit</span> <span class="n">plug</span> <span class="n">value</span>
</pre></div>
</div>
<p>Device TQ has 4 units (TQ0, TQ1, TQ2 and TQ3) which have unique MSCP unit numbers (0, 1, 2 and 3).</p>
<p>The TQ controller supports the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.
In a Unibus system, the TQ supports 18b addressing.
In a Qbus system, the TQ supports 22b addressing.</p>
<p>The TQ controller implements the following special <code class="docutils literal notranslate"><span class="pre">SHOW</span></code> commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">TQ</span> <span class="n">TYPE</span>                  <span class="n">Show</span> <span class="n">controller</span> <span class="nb">type</span>
<span class="n">SHOW</span> <span class="n">TQ</span> <span class="n">RINGS</span>                 <span class="n">Show</span> <span class="n">command</span> <span class="ow">and</span> <span class="n">response</span> <span class="n">rings</span>
<span class="n">SHOW</span> <span class="n">TQ</span> <span class="n">FREEQ</span>                 <span class="n">Show</span> <span class="n">packet</span> <span class="n">free</span> <span class="n">queue</span>
<span class="n">SHOW</span> <span class="n">TQ</span> <span class="n">RESPQ</span>                 <span class="n">Show</span> <span class="n">packet</span> <span class="n">response</span> <span class="n">queue</span>
<span class="n">SHOW</span> <span class="n">TQ</span> <span class="n">UNITQ</span>                 <span class="n">Show</span> <span class="n">unit</span> <span class="n">queues</span>
<span class="n">SHOW</span> <span class="n">TQ</span> <span class="n">ALL</span>                   <span class="n">Show</span> <span class="nb">all</span> <span class="n">ring</span> <span class="ow">and</span> <span class="n">queue</span> <span class="n">state</span>
<span class="n">SHOW</span> <span class="n">TQn</span> <span class="n">UNITQ</span>                <span class="n">Show</span> <span class="n">unit</span> <span class="n">queues</span> <span class="k">for</span> <span class="n">unit</span> <span class="n">n</span>
<span class="n">SHOW</span> <span class="n">TQn</span> <span class="n">UNIT</span>                 <span class="n">Show</span> <span class="n">unit</span> <span class="n">plug</span> <span class="n">value</span>
</pre></div>
</div>
<p>The TQ controller implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SA</span></code></p></td>
<td><p>16</p></td>
<td><p>Status/address register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">S1DAT</span></code></p></td>
<td><p>16</p></td>
<td><p>Step 1 init host data</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CQBA</span></code></p></td>
<td><p>22</p></td>
<td><p>Command queue base address</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CQLNT</span></code></p></td>
<td><p>8</p></td>
<td><p>Command queue length</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CQIDX</span></code></p></td>
<td><p>8</p></td>
<td><p>Command queue index</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RQBA</span></code></p></td>
<td><p>22</p></td>
<td><p>Request queue base address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RQLNT</span></code></p></td>
<td><p>8</p></td>
<td><p>Request queue length</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RQIDX</span></code></p></td>
<td><p>8</p></td>
<td><p>Request queue index</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FREE</span></code></p></td>
<td><p>5</p></td>
<td><p>Head of free packet list</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RESP</span></code></p></td>
<td><p>5</p></td>
<td><p>Head of response packet list</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PBSY</span></code></p></td>
<td><p>5</p></td>
<td><p>Number of busy packets</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CFLGS</span></code></p></td>
<td><p>16</p></td>
<td><p>Controller flags</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CSTA</span></code></p></td>
<td><p>4</p></td>
<td><p>Controller state</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PERR</span></code></p></td>
<td><p>9</p></td>
<td><p>Port error number</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CRED</span></code></p></td>
<td><p>5</p></td>
<td><p>Host credits</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">HAT</span></code></p></td>
<td><p>17</p></td>
<td><p>Host available timer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HTMO</span></code></p></td>
<td><p>17</p></td>
<td><p>Host timeout value</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CPKT[0:3]</span></code></p></td>
<td><p>5</p></td>
<td><p>Current packet, units 0 to 3</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PKTQ[0:3]</span></code></p></td>
<td><p>5</p></td>
<td><p>Packet queue, units 0 to 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">UFLG[0:3]</span></code></p></td>
<td><p>16</p></td>
<td><p>Unit flags, units 0 to 3</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PLUG[0:3]</span></code></p></td>
<td><p>16</p></td>
<td><p>Unit plug value, units 0 to 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">POS[0:3]</span></code></p></td>
<td><p>32</p></td>
<td><p>Tape position, units 0 to 3</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OBJP[0:3]</span></code></p></td>
<td><p>32</p></td>
<td><p>Object position, units 0 to 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt request</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ITIME</span></code></p></td>
<td><p>1</p></td>
<td><p>Response time for initialization steps (except for step 4)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">QTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Response time for ‘immediate’ packets</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">XTIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Response time for data transfers</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PKTS[33*32]</span></code></p></td>
<td><p>16</p></td>
<td><p>Packet buffers, 33W each, 32 entries</p></td>
</tr>
</tbody>
</table>
<p>Some DEC operating systems, notably RSX11M/M+, are very sensitive to the timing parameters.
Changing the default values may cause M/M+ to crash on boot or to hang during operation.</p>
<p>Error handling is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p>Processed as</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>not attached</p></td>
<td><p>Tape not ready</p></td>
</tr>
<tr class="row-odd"><td><p>end of file</p></td>
<td><p>End of medium</p></td>
</tr>
<tr class="row-even"><td><p>OS I/O error</p></td>
<td><p>Fatal tape error</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="communications-devices">
<h3><span class="sectnum">1.2.11. </span>Communications devices<a class="headerlink" href="#communications-devices" title="Permalink to this heading">¶</a></h3>
<section id="dc11-additional-terminal-interfaces-dci-dco">
<h4><span class="sectnum">1.2.11.1. </span>DC11 additional terminal interfaces (DCI/DCO)<a class="headerlink" href="#dc11-additional-terminal-interfaces-dci-dco" title="Permalink to this heading">¶</a></h4>
<p>For very early system programs,
the PDP-11 simulator supports up to sixteen additional DC11 terminal interfaces.
The additional terminals consist of two independent devices, DCI and DCO.
The entire set is modeled as a terminal multiplexer, with DCI as the master controller.
The additional terminals perform input and output through Telnet sessions connected to a user-specified port.
The number of lines is specified with a <code class="docutils literal notranslate"><span class="pre">SET</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">DCIX</span> <span class="n">LINES</span><span class="o">=</span><span class="n">n</span>              <span class="n">Set</span> <span class="n">number</span> <span class="n">of</span> <span class="n">additional</span> <span class="n">lines</span> <span class="n">to</span> <span class="n">n</span> <span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">16</span><span class="p">]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> command specifies the port to be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATTACH</span> <span class="n">DCIX</span> <span class="o">&lt;</span><span class="n">port</span><span class="o">&gt;</span>            <span class="n">Set</span> <span class="n">up</span> <span class="n">listening</span> <span class="n">port</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;port&gt;</span></code> is a decimal number between 1 and 65535 that is not being used for other TCP/IP activities.
The additional terminals are disabled by default.</p>
<p>The additional terminals can be set to one of four modes: <code class="docutils literal notranslate"><span class="pre">UC</span></code>, <code class="docutils literal notranslate"><span class="pre">7P</span></code>, <code class="docutils literal notranslate"><span class="pre">7B</span></code>, or <code class="docutils literal notranslate"><span class="pre">8B</span></code>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Mode</p></th>
<th class="head"><p>Input characters</p></th>
<th class="head"><p>Output characters</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">UC</span></code></p></td>
<td><p>Lowercase converted
to uppercase,
high-order bit cleared</p></td>
<td><p>Lowercase converted to uppercase,
high-order bit cleared,
Non-printing characters suppressed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">7P</span></code></p></td>
<td><p>High-order bit cleared</p></td>
<td><p>High-order bit cleared,
non-printing characters suppressed</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">7B</span></code></p></td>
<td><p>High-order bit cleared</p></td>
<td><p>High-order bit cleared</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">8B</span></code></p></td>
<td><p>No changes</p></td>
<td><p>No changes</p></td>
</tr>
</tbody>
</table>
<p>The default mode is <code class="docutils literal notranslate"><span class="pre">7P</span></code>.
In addition, each line can be configured to behave as though it was attached to a dataset, or hardwired to a terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">DCOn</span> <span class="n">DATASET</span>              <span class="n">Simulate</span> <span class="n">attachment</span> <span class="n">to</span> <span class="n">a</span> <span class="n">dataset</span> <span class="p">(</span><span class="n">modem</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">DCOn</span> <span class="n">NODATASET</span>            <span class="n">Simulate</span> <span class="n">direct</span> <span class="n">attachment</span> <span class="n">to</span> <span class="n">a</span> <span class="n">terminal</span>
</pre></div>
</div>
<p>Finally, each line supports output logging.
The <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DCOn</span> <span class="pre">LOG</span></code> command enables logging on a line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">DCOn</span> <span class="n">LOG</span><span class="o">=</span><span class="n">filename</span>         <span class="n">Log</span> <span class="n">output</span> <span class="n">of</span> <span class="n">line</span> <span class="n">n</span> <span class="n">to</span> <span class="n">filename</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DCOn</span> <span class="pre">NOLOG</span></code> command disables logging and closes the open log file, if any.</p>
<p>Once DCI is attached and the simulator is running,
the terminals listen for connections on the specified port.
They assume that the incoming connections are Telnet connections.
The connections remain open until disconnected either by the Telnet client,
a <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DCI</span> <span class="pre">DISCONNECT</span></code> command,
or a <code class="docutils literal notranslate"><span class="pre">DETACH</span> <span class="pre">DCI</span></code> command.</p>
<p>Other special commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">DCI</span> <span class="n">CONNECTIONS</span>          <span class="n">Show</span> <span class="n">current</span> <span class="n">connections</span>
<span class="n">SHOW</span> <span class="n">DCI</span> <span class="n">STATISTICS</span>           <span class="n">Show</span> <span class="n">statistics</span> <span class="k">for</span> <span class="n">active</span> <span class="n">connections</span>
<span class="n">SET</span> <span class="n">DCOn</span> <span class="n">DISCONNECT</span>           <span class="n">Disconnects</span> <span class="n">the</span> <span class="n">specified</span> <span class="n">line</span>
</pre></div>
</div>
<p>The input device (DCI) implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CSR[0:15]</span></code></p></td>
<td><p>16</p></td>
<td><p>Input control/stats register, lines 0 to 15</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUF[0:15]</span></code></p></td>
<td><p>16</p></td>
<td><p>Input buffer, lines 0 to 15</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IREQ</span></code></p></td>
<td><p>16</p></td>
<td><p>Interrupt requests, lines 0 to 15</p></td>
</tr>
</tbody>
</table>
<p>The output device (DCO) implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CSR[0:15]</span></code></p></td>
<td><p>16</p></td>
<td><p>Input control/stats register, lines 0 to 15</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUF[0:15]</span></code></p></td>
<td><p>8</p></td>
<td><p>Input buffer, lines 0 to 15</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IREQ</span></code></p></td>
<td><p>16</p></td>
<td><p>Interrupt requests, lines 0 to 15</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME[0:15]</span></code></p></td>
<td><p>31</p></td>
<td><p>Time from I/O initiation to interrupt, lines 0 to 15</p></td>
</tr>
</tbody>
</table>
<p>The additional terminals do not support save and restore.
All open connections are lost when the simulator shuts down or DCI is detached.</p>
</section>
<section id="kl11-dl11-additional-terminal-interfaces-dli-dlo">
<h4><span class="sectnum">1.2.11.2. </span>KL11/DL11 additional terminal interfaces (DLI/DLO)<a class="headerlink" href="#kl11-dl11-additional-terminal-interfaces-dli-dlo" title="Permalink to this heading">¶</a></h4>
<p>The PDP-11 simulator supports up to sixteen additional KL11/DL11 terminal interfaces.
The additional terminals consist of two independent devices, DLI and DLO.
The entire set is modeled as a terminal multiplexer, with DLI as the master controller.
The additional terminals perform input and output through Telnet sessions connected to a user-specified port.
The number of lines is specified with a <code class="docutils literal notranslate"><span class="pre">SET</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">DLI</span> <span class="n">LINES</span><span class="o">=</span><span class="n">n</span>               <span class="n">Set</span> <span class="n">number</span> <span class="n">of</span> <span class="n">additional</span> <span class="n">lines</span> <span class="n">to</span> <span class="n">n</span> <span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">16</span><span class="p">]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> command specifies the port to be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATTACH</span> <span class="n">DLI</span> <span class="o">&lt;</span><span class="n">port</span><span class="o">&gt;</span>             <span class="n">Set</span> <span class="n">up</span> <span class="n">listening</span> <span class="n">port</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;port&gt;</span></code> is a decimal number between 1 and 65535 that is not being used for other TCP/IP activities.
The additional terminals are disabled by default.</p>
<p>The additional terminals can be set to one of four modes: <code class="docutils literal notranslate"><span class="pre">UC</span></code>, <code class="docutils literal notranslate"><span class="pre">7P</span></code>, <code class="docutils literal notranslate"><span class="pre">7B</span></code>, or <code class="docutils literal notranslate"><span class="pre">8B</span></code>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Mode</p></th>
<th class="head"><p>Input characters</p></th>
<th class="head"><p>Output characters</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">UC</span></code></p></td>
<td><p>Lowercase converted
to uppercase,
high-order bit cleared</p></td>
<td><p>Lowercase converted to uppercase,
high-order bit cleared,
non-printing characters suppressed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">7P</span></code></p></td>
<td><p>High-order bit cleared</p></td>
<td><p>High-order bit cleared,
non-printing characters suppressed</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">7B</span></code></p></td>
<td><p>High-order bit cleared</p></td>
<td><p>High-order bit cleared</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">8B</span></code></p></td>
<td><p>No changes</p></td>
<td><p>No changes</p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">DLOn</span> <span class="n">UC</span>                   <span class="n">Set</span> <span class="n">UC</span> <span class="n">mode</span>
<span class="n">SET</span> <span class="n">DLOn</span> <span class="mi">7</span><span class="n">P</span>                   <span class="n">Set</span> <span class="mi">7</span><span class="n">P</span> <span class="n">mode</span>
<span class="n">SET</span> <span class="n">DLOn</span> <span class="mi">7</span><span class="n">B</span>                   <span class="n">Set</span> <span class="mi">7</span><span class="n">B</span> <span class="n">mode</span>
<span class="n">SET</span> <span class="n">DLOn</span> <span class="mi">8</span><span class="n">B</span>                   <span class="n">Set</span> <span class="mi">8</span><span class="n">B</span> <span class="n">mode</span>
</pre></div>
</div>
</div></blockquote>
<p>The default mode is <code class="docutils literal notranslate"><span class="pre">UC</span></code>.
In addition,
each line can be configured to behave as though it was attached to a dataset,
or hardwired to a terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">DLOn</span> <span class="n">DATASET</span>              <span class="n">Simulate</span> <span class="n">attachment</span> <span class="n">to</span> <span class="n">a</span> <span class="n">dataset</span> <span class="p">(</span><span class="n">modem</span><span class="p">)</span>
<span class="n">SET</span> <span class="n">DLOn</span> <span class="n">NODATASET</span>            <span class="n">Simulate</span> <span class="n">direct</span> <span class="n">attachment</span> <span class="n">to</span> <span class="n">a</span> <span class="n">terminal</span>
</pre></div>
</div>
<p>Finally, each line supports output logging.
The <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DLOn</span> <span class="pre">LOG</span></code> command enables logging on a line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">DLOn</span> <span class="n">LOG</span><span class="o">=</span><span class="n">filename</span>         <span class="n">Log</span> <span class="n">output</span> <span class="n">of</span> <span class="n">line</span> <span class="n">n</span> <span class="n">to</span> <span class="n">filename</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DLOn</span> <span class="pre">NOLOG</span></code> command disables logging and closes the open log file, if any.</p>
<p>Once DLI is attached and the simulator is running,
the terminals listen for connections on the specified port.
They assume that the incoming connections are Telnet connections.
The connections remain open until disconnected either by the Telnet client,
a <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DLI</span> <span class="pre">DISCONNECT</span></code> command,
or a <code class="docutils literal notranslate"><span class="pre">DETACH</span> <span class="pre">DLI</span></code> command.</p>
<p>Other special commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">DLI</span> <span class="n">CONNECTIONS</span>          <span class="n">Show</span> <span class="n">current</span> <span class="n">connections</span>
<span class="n">SHOW</span> <span class="n">DLI</span> <span class="n">STATISTICS</span>           <span class="n">Show</span> <span class="n">statistics</span> <span class="k">for</span> <span class="n">active</span> <span class="n">connections</span>
<span class="n">SET</span> <span class="n">DLOn</span> <span class="n">DISCONNECT</span>           <span class="n">Disconnects</span> <span class="n">the</span> <span class="n">specified</span> <span class="n">line</span>
</pre></div>
</div>
<p>The input device (DLI) implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CSR[0:15]</span></code></p></td>
<td><p>16</p></td>
<td><p>Input control/stats register, lines 0 to 15</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUF[0:15]</span></code></p></td>
<td><p>16</p></td>
<td><p>Input buffer, lines 0 to 15</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IREQ</span></code></p></td>
<td><p>16</p></td>
<td><p>Receive interrupt requests, lines 0 to 15</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DSI</span></code></p></td>
<td><p>16</p></td>
<td><p>dataset interrupt requests, lines 0 to 15</p></td>
</tr>
</tbody>
</table>
<p>The output device (DLO) implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CSR[0:15]</span></code></p></td>
<td><p>16</p></td>
<td><p>Input control/stats register, lines 0 to 15</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUF[0:15]</span></code></p></td>
<td><p>8</p></td>
<td><p>Input buffer, lines 0 to 15</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IREQ</span></code></p></td>
<td><p>16</p></td>
<td><p>Interrupt requests, lines 0 to 15</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME[0:15]</span></code></p></td>
<td><p>31</p></td>
<td><p>Time from I/O initiation to interrupt, lines 0 to 15</p></td>
</tr>
</tbody>
</table>
<p>The additional terminals do not support save and restore.
All open connections are lost when the simulator shuts down or DLO is detached.</p>
</section>
<section id="dz11-terminal-multiplexer-dz">
<h4><span class="sectnum">1.2.11.3. </span>DZ11 terminal multiplexer (DZ)<a class="headerlink" href="#dz11-terminal-multiplexer-dz" title="Permalink to this heading">¶</a></h4>
<p>The DZ11 is an 8-line terminal multiplexer.
Up to 4 DZ11s (32 lines) are supported.
The number of lines can be changed with the command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">DZ</span> <span class="n">LINES</span><span class="o">=</span><span class="n">n</span>                <span class="n">Set</span> <span class="n">line</span> <span class="n">count</span> <span class="n">to</span> <span class="n">n</span>
</pre></div>
</div>
<p>The line count must be a multiple of 8, with a maximum of 32.</p>
<p>The DZ11 supports three character processing modes, <code class="docutils literal notranslate"><span class="pre">7P</span></code>, <code class="docutils literal notranslate"><span class="pre">7B</span></code>, and <code class="docutils literal notranslate"><span class="pre">8B</span></code>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Mode</p></th>
<th class="head"><p>Input characters</p></th>
<th class="head"><p>Output characters</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">7P</span></code></p></td>
<td><p>High-order bit cleared</p></td>
<td><p>High-order bit cleared,
non-printing characters suppressed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">7B</span></code></p></td>
<td><p>High-order bit cleared</p></td>
<td><p>High-order bit cleared</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">8B</span></code></p></td>
<td><p>No changes</p></td>
<td><p>No changes</p></td>
</tr>
</tbody>
</table>
<p>The default is <code class="docutils literal notranslate"><span class="pre">8B</span></code>.</p>
<p>The DZ11 supports logging on a per-line basis.
The command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">DZ</span> <span class="n">LOG</span><span class="o">=</span><span class="n">line</span><span class="o">=</span><span class="n">filename</span>
</pre></div>
</div>
<p>enables logging for the specified line to the indicated file.
The command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">DZ</span> <span class="n">NOLOG</span><span class="o">=</span><span class="n">line</span>
</pre></div>
</div>
<p>disables logging for the specified line and closes any open log file.
Finally, the command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">DZ</span> <span class="n">LOG</span>
</pre></div>
</div>
<p>displays logging information for all DZ lines.</p>
<p>The terminal lines perform input and output through Telnet sessions connected to a user-specified port.
The <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> command specifies the port to be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATTACH</span> <span class="p">{</span><span class="o">-</span><span class="n">am</span><span class="p">}</span> <span class="n">DZ</span> <span class="o">&lt;</span><span class="n">port</span><span class="o">&gt;</span>        <span class="n">Set</span> <span class="n">up</span> <span class="n">listening</span> <span class="n">port</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;port&gt;</span></code> is a decimal number between 1 and 65535 that is not being used for other TCP/IP activities.
The optional switch <code class="docutils literal notranslate"><span class="pre">-m</span></code> turns on the DZ11’s modem controls;
the optional switch <code class="docutils literal notranslate"><span class="pre">-a</span></code> turns on active disconnects
(disconnect session if computer clears Data Terminal Ready).
Without modem control, the DZ behaves as though terminals were directly connected;
disconnecting the Telnet session does not cause any operating system-visible change in line status.</p>
<p>Once the DZ is attached and the simulator is running,
the DZ will listen for connections on the specified port.
It assumes that the incoming connections are Telnet connections.
The connection remains open until disconnected by the simulated program, the Telnet client,
a <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DZ</span> <span class="pre">DISCONNECT</span></code> command, or a <code class="docutils literal notranslate"><span class="pre">DETACH</span> <span class="pre">DZ</span></code> command.</p>
<p>Other special DZ commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">DZ</span> <span class="n">CONNECTIONS</span>           <span class="n">Show</span> <span class="n">current</span> <span class="n">connections</span>
<span class="n">SHOW</span> <span class="n">DZ</span> <span class="n">STATISTICS</span>            <span class="n">Show</span> <span class="n">statistics</span> <span class="k">for</span> <span class="n">active</span> <span class="n">connections</span>
<span class="n">SET</span> <span class="n">DZ</span> <span class="n">DISCONNECT</span><span class="o">=</span><span class="n">linenumber</span>  <span class="n">Disconnects</span> <span class="n">the</span> <span class="n">specified</span> <span class="n">line</span>
</pre></div>
</div>
<p>The DZ11 implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CSR[0:3]</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status register, boards 0 to 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RBUF[0:3]</span></code></p></td>
<td><p>16</p></td>
<td><p>Receive buffer, boards 0 to 3</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LPR[0:3]</span></code></p></td>
<td><p>16</p></td>
<td><p>Line parameter register, boards 0 to 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TCR[0:3]</span></code></p></td>
<td><p>16</p></td>
<td><p>Transmission control register, boards 0 to 3</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MSR[0:3]</span></code></p></td>
<td><p>16</p></td>
<td><p>Modem status register, boards 0 to 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TDR[0:3]</span></code></p></td>
<td><p>16</p></td>
<td><p>Transmit data register, boards 0 to 3</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SAENB[0:3]</span></code></p></td>
<td><p>1</p></td>
<td><p>Silo alarm enabled, boards 0 to 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RXINT</span></code></p></td>
<td><p>4</p></td>
<td><p>Receive interrupts, boards 3..0</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TXINT</span></code></p></td>
<td><p>4</p></td>
<td><p>Transmit interrupts, boards 3..0</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MDMTCL</span></code></p></td>
<td><p>1</p></td>
<td><p>Modem control enabled</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AUTODS</span></code></p></td>
<td><p>1</p></td>
<td><p>Autodisconnect enabled</p></td>
</tr>
</tbody>
</table>
<p>The DZ11 does not support save and restore.
All open connections are lost when the simulator shuts down or the DZ is detached.</p>
</section>
<section id="dhq11-terminal-multiplexer-vh">
<h4><span class="sectnum">1.2.11.4. </span>DHQ11 terminal multiplexer (VH)<a class="headerlink" href="#dhq11-terminal-multiplexer-vh" title="Permalink to this heading">¶</a></h4>
<p>The DHQ11 is an 8-line terminal multiplexer for Qbus systems.
Up to 4 DHQ11s are supported.</p>
<p>The DHQ11 is a programmable asynchronous terminal multiplexer.
It has two programming modes: DHV11 and DHU11.
The register sets are compatible with these devices.
For transmission, the DHQ11 can be used in either DMA or programmed I/O mode.
For reception, there is a 256-entry FIFO for received characters, dataset status changes, and diagnostic information,
and a programmable input interrupt timer (in DHU mode).
The device supports 16-, 18-, and 22-bit addressing.
The DHQ11 can be programmed to filter and/or handle XON/XOFF characters independently of the processor.
The DHQ11 supports programmable bit width (between 5 and 8) for the input and output of characters.</p>
<p>The DHQ11 has a rocker switch for determining the programming mode.
By default, the DHV11 mode is selected, though DHU11 mode is recommended for applications that can support it.
The VH controller may be adjusted on a per controller basis as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">VHn</span> <span class="n">DHU</span>                   <span class="n">Use</span> <span class="n">the</span> <span class="n">DHU</span> <span class="n">programming</span> <span class="n">mode</span> <span class="ow">and</span> <span class="n">registers</span>
<span class="n">SET</span> <span class="n">VHn</span> <span class="n">DHV</span>                   <span class="n">Use</span> <span class="n">the</span> <span class="n">DHV</span> <span class="n">programming</span> <span class="n">mode</span> <span class="ow">and</span> <span class="n">registers</span>
</pre></div>
</div>
<p>DMA output is supported.
In a real DHQ11, DMA is not initiated immediately upon receipt of <code class="docutils literal notranslate"><span class="pre">TX.DMA.START</span></code> but is dependent upon some internal processes.
The VH controller mimics this behavior by default.
It may be desirable to alter this and start immediately,
though this may not be compatible with all operating systems and diagnostics.
You can change the behavior of the VH controller as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">VHn</span> <span class="n">NORMAL</span>                <span class="n">Use</span> <span class="n">normal</span> <span class="n">DMA</span> <span class="n">procedures</span>
<span class="n">SET</span> <span class="n">VHn</span> <span class="n">FASTDMA</span>               <span class="n">Set</span> <span class="n">DMA</span> <span class="n">to</span> <span class="n">initiate</span> <span class="n">immediately</span>
</pre></div>
</div>
<p>The terminal lines perform input and output through Telnet sessions connected to a user-specified port.
The <code class="docutils literal notranslate"><span class="pre">ATTACH</span></code> command specifies the port to be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATTACH</span> <span class="n">VH</span> <span class="o">&lt;</span><span class="n">port</span><span class="o">&gt;</span>              <span class="n">Set</span> <span class="n">up</span> <span class="n">listening</span> <span class="n">port</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;port&gt;</span></code> is a decimal number between 1 and 65535 that is not being used for other TCP/IP activities.
This port is the point of entry for all lines on all VH controllers.</p>
<p>The number of lines can be changed with the command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">VH</span> <span class="n">LINES</span><span class="o">=</span><span class="n">n</span>                <span class="n">Set</span> <span class="n">line</span> <span class="n">count</span> <span class="n">to</span> <span class="n">n</span>
</pre></div>
</div>
<p>The line count must be a multiple of 8, with a maximum of 32.</p>
<p>Modem and auto-disconnect support may be set on an individual controller basis.
The <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">MODEM</span></code> command directs the controller to report modem status changes to the computer.
The <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">HANGUP</span></code> command turns on active disconnects (disconnect session if computer clears Data Terminal Ready).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">VHn</span> <span class="p">[</span><span class="n">NO</span><span class="p">]</span><span class="n">MODEM</span>             <span class="n">Disable</span><span class="o">/</span><span class="n">enable</span> <span class="n">modem</span> <span class="n">control</span>
<span class="n">SET</span> <span class="n">VHn</span> <span class="p">[</span><span class="n">NO</span><span class="p">]</span><span class="n">HANGUP</span>            <span class="n">Disable</span><span class="o">/</span><span class="n">enable</span> <span class="n">disconnect</span> <span class="n">on</span> <span class="n">DTR</span> <span class="n">drop</span>
</pre></div>
</div>
<p>Once the VH is attached and the simulator is running,
the VH will listen for connections on the specified port.
It assumes that the incoming connections are Telnet connections.
The connection remains open until disconnected by the simulated program,
the Telnet client, a <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">VH</span> <span class="pre">DISCONNECT</span></code> command, or a <code class="docutils literal notranslate"><span class="pre">DETACH</span> <span class="pre">VH</span></code> command.</p>
<p>Other special VH commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">VH</span> <span class="n">CONNECTIONS</span>           <span class="n">Show</span> <span class="n">current</span> <span class="n">connections</span>
<span class="n">SHOW</span> <span class="n">VH</span> <span class="n">STATISTICS</span>            <span class="n">Show</span> <span class="n">statistics</span> <span class="k">for</span> <span class="n">active</span> <span class="n">connections</span>
<span class="n">SET</span> <span class="n">VH</span> <span class="n">DISCONNECT</span><span class="o">=</span><span class="n">linenumber</span>  <span class="n">Disconnects</span> <span class="n">the</span> <span class="n">specified</span> <span class="n">line</span>
</pre></div>
</div>
<p>The DHQ11 implements these registers, though not all can be examined from SCP:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CSR[0:3]</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status register, boards 0 to 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RBUF[0:3]</span></code></p></td>
<td><p>16</p></td>
<td><p>Receive buffer, boards 0 to 3</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LPR[0:3]</span></code></p></td>
<td><p>16</p></td>
<td><p>Line parameter register, boards 0 to 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RXINT</span></code></p></td>
<td><p>4</p></td>
<td><p>Receive interrupts, boards 3..0</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TXINT</span></code></p></td>
<td><p>4</p></td>
<td><p>Transmit interrupts, boards 3..0</p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p>[more to be described…]</p>
</div></blockquote>
<p>The DHQ11 does not support save and restore.
All open connections are lost when the simulator shuts down or the VH is detached.</p>
</section>
</section>
<section id="ethernet-controllers">
<h3><span class="sectnum">1.2.12. </span>Ethernet controllers<a class="headerlink" href="#ethernet-controllers" title="Permalink to this heading">¶</a></h3>
<section id="delqa-t-delqa-deqna-qbus-ethernet-controllers-xq-xqb">
<h4><span class="sectnum">1.2.12.1. </span>DELQA-T/DELQA/DEQNA Qbus Ethernet controllers (XQ, XQB)<a class="headerlink" href="#delqa-t-delqa-deqna-qbus-ethernet-controllers-xq-xqb" title="Permalink to this heading">¶</a></h4>
<p>The simulator implements two DELQA-T/DELQA/DEQNA Qbus Ethernet controllers (XQ, XQB).
Initially, XQ is enabled, and XQB is disabled.
Options allow control of the MAC address, the controller mode, and the sanity timer.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">XQ</span> <span class="n">MAC</span><span class="o">=&lt;</span><span class="n">mac</span><span class="o">-</span><span class="n">address</span><span class="o">&gt;</span>      <span class="n">ex</span><span class="o">.</span> <span class="mi">08</span><span class="o">-</span><span class="mi">00</span><span class="o">-</span><span class="mi">2</span><span class="n">B</span><span class="o">-</span><span class="n">AA</span><span class="o">-</span><span class="n">BB</span><span class="o">-</span><span class="n">CC</span>
<span class="n">SHOW</span> <span class="n">XQ</span> <span class="n">MAC</span>
</pre></div>
</div>
<p>These commands are used to change or display the MAC address.
<code class="docutils literal notranslate"><span class="pre">&lt;mac-address&gt;</span></code> is a valid Ethernet MAC, delimited by dashes or periods.
The controller defaults to <code class="docutils literal notranslate"><span class="pre">08-00-2B-AA-BB-CC</span></code>,
which should be sufficient if there is only one SIMH controller on your LAN.
Two cards with the same MAC address will see each other’s packets, resulting in a serious mess.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">XQ</span> <span class="n">TYPE</span><span class="o">=</span><span class="p">{</span><span class="n">DEQNA</span><span class="o">|</span><span class="p">[</span><span class="n">DELQA</span><span class="p">]</span><span class="o">|</span><span class="n">DELQA</span><span class="o">-</span><span class="n">T</span><span class="p">}</span>
<span class="n">SHOW</span> <span class="n">XQ</span> <span class="n">TYPE</span>
</pre></div>
</div>
<p>These commands are used to change or display the controller mode.
DELQA mode is better and faster but may not be usable by older or non-DEC OSes.
Also, be aware that DEQNA mode is not supported by many modern OSes.
The DEQNA-LOCK mode of the DELQA card is emulated by setting the the controller to DEQNA — there is no need for a separate mode.
DEQNA-LOCK mode behaves exactly like a DEQNA, except for the operation of the VAR and MOP processing.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span>  <span class="n">XQ</span> <span class="n">SANITY</span><span class="o">=</span><span class="p">{</span><span class="n">ON</span><span class="o">|</span><span class="p">[</span><span class="n">OFF</span><span class="p">]}</span>
<span class="n">SHOW</span> <span class="n">XQ</span> <span class="n">SANITY</span>
</pre></div>
</div>
<p>These commands change or display the INITIALIZATION sanity timer
(DEQNA jumper W3/DELQA switch S4).
The INITIALIZATION sanity timer has a default timeout of 4 minutes, and cannot be turned off, just reset.
The normal sanity timer can be set by operating system software regardless of the state of this switch.
Note that only the DEQNA (or the DELQA in DEQNA-LOCK mode (=DEQNA)) supports the sanity timer —
it is ignored by a DELQA in Normal mode, which uses switch S4 for a different purpose.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span>  <span class="n">XQ</span> <span class="n">POLL</span><span class="o">=</span><span class="p">{</span><span class="n">DEFAULT</span><span class="o">|</span><span class="mf">4..2500</span><span class="p">}</span>
<span class="n">SHOW</span> <span class="n">XQ</span> <span class="n">POLL</span>
</pre></div>
</div>
<p>These commands change or display the service polling timer.
The polling timer is calibrated to run the service thread 200 times per second.
This value can be changed to accommodate particular system requirements for more (or less) frequent polling.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">XQ</span> <span class="n">STATS</span>
</pre></div>
</div>
<p>This command will display the accumulated statistics for the simulated Ethernet controller.</p>
<p>To access the network, the simulated Ethernet controller must be attached to a real Ethernet interface:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATTACH</span> <span class="n">XQ0</span> <span class="p">{</span><span class="n">ethX</span><span class="o">|&lt;</span><span class="n">device_name</span><span class="o">&gt;</span><span class="p">}</span>           <span class="n">ex</span><span class="o">.</span> <span class="n">eth0</span> <span class="ow">or</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">era0</span>
<span class="n">SHOW</span> <span class="n">XQ</span> <span class="n">ETH</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">X</span></code> in <code class="docutils literal notranslate"><span class="pre">ethX</span></code> is the number of the Ethernet controller to attach, or the real device name.
The <code class="docutils literal notranslate"><span class="pre">X</span></code> number is system-dependent.
If you only have one Ethernet controller, the number will probably be 0.
To find out what your system thinks the Ethernet numbers are, use the <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">XQ</span> <span class="pre">ETH</span> <span class="pre">command</span></code>.
The device list can be quite cryptic, depending on the host system, but is probably better than guessing.
If you do not attach the device, the controller will behave as though the Ethernet cable were unplugged.</p>
<p>XQ and XQB have the following registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SA0</span></code></p></td>
<td><p>16</p></td>
<td><p>Station address word 0</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SA1</span></code></p></td>
<td><p>16</p></td>
<td><p>Station address word 1</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SA2</span></code></p></td>
<td><p>16</p></td>
<td><p>Station address word 2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SA3</span></code></p></td>
<td><p>16</p></td>
<td><p>Station address word 3</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SA4</span></code></p></td>
<td><p>16</p></td>
<td><p>Station address word 4</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SA5</span></code></p></td>
<td><p>16</p></td>
<td><p>Station address word 5</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RBDL</span></code></p></td>
<td><p>32</p></td>
<td><p>Receive buffer descriptor list</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XBDL</span></code></p></td>
<td><p>32</p></td>
<td><p>Trans(X)mit buffer descriptor list</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CSR</span></code></p></td>
<td><p>16</p></td>
<td><p>Control status register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">VAR</span></code></p></td>
<td><p>16</p></td>
<td><p>Vector address register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt request flag</p></td>
</tr>
</tbody>
</table>
<p>One final note: because of its asynchronous nature,
the XQ controller is not limited to the ~1.5Mbit/sec of the real DEQNA/DELQA controllers,
nor the 10Mbit/sec of a standard Ethernet.
Attach it to a Fast Ethernet (100 Mbit/sec) card, and “Feel the Power!” 😀</p>
</section>
<section id="delua-deuna-unibus-ethernet-controllers-xu-xub">
<h4><span class="sectnum">1.2.12.2. </span>DELUA/DEUNA Unibus Ethernet controllers (XU, XUB)<a class="headerlink" href="#delua-deuna-unibus-ethernet-controllers-xu-xub" title="Permalink to this heading">¶</a></h4>
<p>The simulator implements two DELUA/DEUNA Unibus Ethernet controllers (XU, XUB).
Its operation is analogous to the DELQA/DEQNA controller.</p>
</section>
<section id="cr11-cd11-card-reader-cr">
<h4><span class="sectnum">1.2.12.3. </span>CR11/CD11 card reader (CR)<a class="headerlink" href="#cr11-cd11-card-reader-cr" title="Permalink to this heading">¶</a></h4>
<p>The card reader (CR) implements a single controller (either the CR11 or the CD11)
and card reader (e.g., Documation M200, GDI Model 100)
by reading a file and presenting lines or cards to the simulator.
Card decks may be represented by plain text ASCII files, card image files, or column binary files.
The CR11 controller is also compatible with the CM11-F, CME11, and CMS11.</p>
<p>Card image files are a file format designed by Douglas W. Jones at the University of Iowa to support the interchange of card deck data.
These files have a much richer information carrying capacity than plain ASCII files.
Card Image files can contain such interchange information as card-stock color, corner cuts, special artwork, as well as the binary punch data representing all 12 columns.
Complete details on the format, as well as sample code, are available at <a class="reference external" href="http://homepage.divms.uiowa.edu/~jones/cards/">Prof. Jones’s site</a>.</p>
<p>The card reader can be configured to support either of the two controllers supported by DEC:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CR</span> <span class="n">CR11</span>                   <span class="n">Set</span> <span class="n">controller</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">CR11</span>
<span class="n">SET</span> <span class="n">CR</span> <span class="n">CD11</span>                   <span class="n">Set</span> <span class="n">controller</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">CD11</span>
</pre></div>
</div>
<p>The controller type must be set before attaching a virtual card deck to the device.
You may NOT change controller type once a file is attached.</p>
<p>The primary differences are summarized in the table below.
By default, the CR11 simulation is selected.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>CR11</p></th>
<th class="head"><p>CD11</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BR</p></td>
<td><p>6</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>Registers</p></td>
<td><p>4</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>Data transfer</p></td>
<td><p>BR</p></td>
<td><p>DMA</p></td>
</tr>
<tr class="row-odd"><td><p>Card rate</p></td>
<td><p>200-600</p></td>
<td><p>1000-1200</p></td>
</tr>
<tr class="row-even"><td><p>Hopper cap.</p></td>
<td><p>&lt;= 1000</p></td>
<td><p>1000-2250</p></td>
</tr>
<tr class="row-odd"><td><p>Cards</p></td>
<td><p>Mark-sense &amp; punched</p></td>
<td><p>Punched only</p></td>
</tr>
</tbody>
</table>
<p>Examples of the CR11 include the M8290 and M8291 (CMS11).
All card readers use a common vector at 0230 and CSR at 177160.</p>
<p>The card reader supports ASCII, card image, and column binary format card “decks”.
When reading plain ASCII files, lines longer than 80 characters are silently truncated.
Card image support is included for 80 column Hollerith, 82 column Hollerith (silently ignoring columns 0 and 81), and 40 column Hollerith (mark-sense) cards.
Column binary supports 80 column card images only.
All files are attached read-only (as if the <code class="docutils literal notranslate"><span class="pre">-R</span></code> switch were given).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATTACH</span> <span class="o">-</span><span class="n">A</span> <span class="n">CR</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span>           <span class="n">File</span> <span class="ow">is</span> <span class="n">ASCII</span> <span class="n">text</span>
<span class="n">ATTACH</span> <span class="o">-</span><span class="n">B</span> <span class="n">CR</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span>           <span class="n">File</span> <span class="ow">is</span> <span class="n">column</span> <span class="n">binary</span>
<span class="n">ATTACH</span> <span class="o">-</span><span class="n">I</span> <span class="n">CR</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span>           <span class="n">File</span> <span class="ow">is</span> <span class="n">card</span> <span class="n">image</span> <span class="nb">format</span>
</pre></div>
</div>
<p>If no flags are given, the file extension is evaluated.
If the filename ends in <code class="docutils literal notranslate"><span class="pre">.TXT</span></code>, the file is treated as ASCII text.
If the filename ends in <code class="docutils literal notranslate"><span class="pre">.CBN</span></code>, the file is treated as column binary.
Otherwise, the CR driver looks for a card image header.
If a correct header is found the file is treated as card image format,
otherwise it is treated as ASCII text.</p>
<p>The correct character translation MUST be set if a plain-text file is to be used for card deck input.
The correct translation SHOULD be set to allow correct ASCII debugging of a card image or column binary input deck.
Depending upon the operating system in use, how it was generated, and how the card data will be read and used,
the translation must be set correctly so that the proper character set is used by the driver.
Use the following command to explicitly set the correct translation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">TRANSLATION</span><span class="o">=</span><span class="p">{</span><span class="n">DEFAULT</span><span class="o">|</span><span class="mi">026</span><span class="o">|</span><span class="mi">026</span><span class="n">FTN</span><span class="o">|</span><span class="mi">029</span><span class="o">|</span><span class="n">EBCDIC</span><span class="p">}</span>
</pre></div>
</div>
<p>This command should be given after a deck is attached to the simulator.
The mappings above are completely described at <a class="reference external" href="http://homepage.divms.uiowa.edu/~jones/cards/codes.html">http://homepage.divms.uiowa.edu/~jones/cards/codes.html</a>.
Note that DEC typically used 029 or 026FTN mappings.</p>
<p>DEC operating systems used a variety of methods to determine the end of a deck,
recognizing that ‘hopper empty’ does not necessarily mean the end of a deck.
Below is a summary of the various operating system conventions for signaling end of deck:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>RT-11:</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">12-11-0-1-6-7-8-9</span></code> punch in column 1</p></td>
</tr>
<tr class="row-even"><td><p>RSTS/E:</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">12-11-0-1</span></code> or <code class="docutils literal notranslate"><span class="pre">12-11-0-1-6-7-8-9</span></code> punch in column 1</p></td>
</tr>
<tr class="row-odd"><td><p>RSX:</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">12-11-0-1-6-7-8-9</span></code> punch</p></td>
</tr>
<tr class="row-even"><td><p>VMS:</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">12-11-0-1-6-7-8-9</span></code> punch in first 8 columns</p></td>
</tr>
<tr class="row-odd"><td><p>TOPS:</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">12-11-0-1</span></code> or <code class="docutils literal notranslate"><span class="pre">12-11-0-1-6-7-8-9</span></code> punch in column 1</p></td>
</tr>
</tbody>
</table>
<p>Using the AUTOEOF setting, the card reader can be set to automatically generate an EOF card consisting of the <code class="docutils literal notranslate"><span class="pre">12-11-0-1-6-7-8-9</span></code> punch in columns 1-8.
When set to CD11 mode, this switch also enables automatic setting of the EOF bit in the controller after the EOF card has been processed.
[The CR11 does not have a similar capability].
By default AUTOEOF is enabled.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CR</span> <span class="n">AUTOEOF</span>
<span class="n">SET</span> <span class="n">CR</span> <span class="n">NOAUTOEOF</span>
</pre></div>
</div>
<p>The default card reader rate for the CR11 is 285 cpm,
while the default rate for the CD11 is 1000 cpm.
The reader rate can be set to its default value or to anywhere in the range 200..1200 cpm.
This rate may be changed while the unit is attached.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CR</span> <span class="n">RATE</span><span class="o">=</span><span class="p">{</span><span class="n">DEFAULT</span><span class="o">|</span><span class="mf">200..1200</span><span class="p">}</span>
</pre></div>
</div>
<p>It is standard operating procedure for operators to load a card deck and press the momentary action RESET button to clear any error conditions and alert the processor that a deck is available to read.
Use the following command to simulate pressing the card reader RESET button,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CR</span> <span class="n">RESET</span>
</pre></div>
</div>
<p>Another common control of physical card readers is the STOP button.
An operator could use this button to finish the read operation for the current card and terminate reading a deck early.
Use the following command to simulate pressing the card reader STOP button.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">CR</span> <span class="n">STOP</span>
</pre></div>
</div>
<p>The simulator does not support the <code class="docutils literal notranslate"><span class="pre">BOOT</span></code> command.
The simulator does not stop on file I/O errors.
Instead the controller signals a reader check to the CPU.</p>
<p>The CR controller implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>8</p></td>
<td><p>ASCII value of last column processed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CRS</span></code></p></td>
<td><p>16</p></td>
<td><p>CR11 status register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CRB1</span></code></p></td>
<td><p>16</p></td>
<td><p>CR11 12-bit Hollerith character</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CRB2</span></code></p></td>
<td><p>16</p></td>
<td><p>CR11 8-bit compressed character</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CRM</span></code></p></td>
<td><p>16</p></td>
<td><p>CR11 maintenance register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CDST</span></code></p></td>
<td><p>16</p></td>
<td><p>CD11 control/status register</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CDCC</span></code></p></td>
<td><p>16</p></td>
<td><p>CD11 column count</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CDBA</span></code></p></td>
<td><p>16</p></td>
<td><p>CD11 current bus address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CDDB</span></code></p></td>
<td><p>16</p></td>
<td><p>CD11 data buffer, 2nd status</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BLOWER</span></code></p></td>
<td><p>2</p></td>
<td><p>Blower state value</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INTCR</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag (CR11)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INTCD</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt pending flag (CD11)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ERR</span></code></p></td>
<td><p>1</p></td>
<td><p>Error flag (CRS&lt;15&gt;)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>Interrupt enable flag (CRS&lt;6&gt;)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">POS</span></code></p></td>
<td><p>32</p></td>
<td><p>File position - do not alter</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>24</p></td>
<td><p>Delay time between columns</p></td>
</tr>
</tbody>
</table>
<p>The CD11 simulation includes the Rev. J modification to make the CDDB act as a second status register during non-data transfer periods.</p>
</section>
</section>
<section id="arithmetic-options">
<h3><span class="sectnum">1.2.13. </span>Arithmetic options<a class="headerlink" href="#arithmetic-options" title="Permalink to this heading">¶</a></h3>
<section id="ke11a-extended-arithmetic-option-ke">
<h4><span class="sectnum">1.2.13.1. </span>KE11A extended arithmetic option (KE)<a class="headerlink" href="#ke11a-extended-arithmetic-option-ke" title="Permalink to this heading">¶</a></h4>
<p>The KE11A extended arithmetic option (KE) provides multiply, divide, normalization, and multi-bit shift capability on Unibus PDP-11s that lack the EIS instruction set.
In practice, it was only sold with the PDP-11/20.
The KE is disabled by default.</p>
<p>The KE implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AC</span></code></p></td>
<td><p>16</p></td>
<td><p>Accumulator</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MQ</span></code></p></td>
<td><p>16</p></td>
<td><p>Multiplier-quotient</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SC</span></code></p></td>
<td><p>6</p></td>
<td><p>Shift count</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SR</span></code></p></td>
<td><p>8</p></td>
<td><p>Status register</p></td>
</tr>
</tbody>
</table>
</section>
<section id="kg11a-communications-arithmetic-option-kg">
<h4><span class="sectnum">1.2.13.2. </span>KG11A communications arithmetic option (KG)<a class="headerlink" href="#kg11a-communications-arithmetic-option-kg" title="Permalink to this heading">¶</a></h4>
<p>The KG11-A is a programmed I/O, non-interrupting, dedicated arithmetic processor for the Unibus.
The device is used to compute the block check character (BCC) over a block of data, typically in data communication applications.
The KG11 can compute three different Cyclic Redundancy Check (CRC) polynomials (CRC-16, CRC-12, CRC-CCITT) and two Longitudinal Redundancy Checks (LRC, Exclusive-OR; LRC-8, LRC-16).
Up to eight units may be contiguously present in a single machine and are all located at fixed addresses.
This simulation implements all functionality of the device including the ability to single step computation of the BCC.
The KG is disabled by default.</p>
<p>The KG11 supports the following options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SET KG UNITS=n              Set the number of units [0-8]
SET KG DEBUG={opt,opt…}     Set the debugging options:
                            REG - any time a register is touched
                            POLY - any time the polynomial is changed
                            CYCLE - each cycle computing the polynomial
</pre></div>
</div>
<p>The KG11 implements the following registers, replicated for each unit:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SR[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Control and status register; R/W</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BCC[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Result block check character; R/O</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DR[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Input data register; W/O</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PULSCNT[0:7]</span></code></p></td>
<td><p>16</p></td>
<td><p>Polynomial cycle stage</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="symbolic-display-and-input">
<h2><span class="sectnum">1.3. </span>Symbolic display and input<a class="headerlink" href="#symbolic-display-and-input" title="Permalink to this heading">¶</a></h2>
<p>The PDP-11 simulator implements symbolic display and input.
Display is controlled by command-line switches:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-a</span></code></p></td>
<td><p>Display as ASCII character</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-c</span></code></p></td>
<td><p>Display as two packed ASCII characters</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-m</span></code></p></td>
<td><p>Display instruction mnemonics</p></td>
</tr>
</tbody>
</table>
<p>Input parsing is controlled by the first character typed in or by command-line switches:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'</span></code> or <code class="docutils literal notranslate"><span class="pre">-a</span></code></p></td>
<td><p>ASCII character</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">-c</span></code></p></td>
<td><p>Two packed ASCII characters</p></td>
</tr>
<tr class="row-odd"><td><p>Alphabetic</p></td>
<td><p>Instruction mnemonic</p></td>
</tr>
<tr class="row-even"><td><p>Numeric</p></td>
<td><p>Octal number</p></td>
</tr>
</tbody>
</table>
<p>Instruction input uses standard PDP-11 assembler syntax.
There are sixteen instruction classes:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Class</p></th>
<th class="head"><p>Operands</p></th>
<th class="head"><p>Examples</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>no operands</p></td>
<td><p>none</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HALT</span></code>, <code class="docutils literal notranslate"><span class="pre">RESET</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>3b literal</p></td>
<td><p>literal [0 to 7]</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SPL</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>6b literal</p></td>
<td><p>literal [0-077]</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MARK</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>8b literal</p></td>
<td><p>literal [0-0377]</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EMT</span></code>, <code class="docutils literal notranslate"><span class="pre">TRAP</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>register</p></td>
<td><p>register</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RTS</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sop</p></td>
<td><p>specifier</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SWAB</span></code>, <code class="docutils literal notranslate"><span class="pre">CLR</span></code>, <code class="docutils literal notranslate"><span class="pre">ASL</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>reg-sop</p></td>
<td><p>register, specifier</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">JSR</span></code>, <code class="docutils literal notranslate"><span class="pre">XOR</span></code>, <code class="docutils literal notranslate"><span class="pre">MUL</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>fop</p></td>
<td><p>flt specifier</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ABSf</span></code>, <code class="docutils literal notranslate"><span class="pre">NEGf</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>ac-fop</p></td>
<td><p>flt reg, flt specifier</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">LDf</span></code>, <code class="docutils literal notranslate"><span class="pre">MULf</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>ac-sop</p></td>
<td><p>flt reg, specifier</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">LDEXP</span></code>, <code class="docutils literal notranslate"><span class="pre">STEXP</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>ac-moded sop</p></td>
<td><p>flt reg, specifier</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">LDCif</span></code>, <code class="docutils literal notranslate"><span class="pre">STCfi</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>dop</p></td>
<td><p>specifier, specifier</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MOV</span></code>, <code class="docutils literal notranslate"><span class="pre">ADD</span></code>, <code class="docutils literal notranslate"><span class="pre">BIC</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>cond branch</p></td>
<td><p>address</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BR</span></code>, <code class="docutils literal notranslate"><span class="pre">BCC</span></code>, <code class="docutils literal notranslate"><span class="pre">BNE</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sob</p></td>
<td><p>register, address</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SOB</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>cc clear</p></td>
<td><p>cc clear instructions</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CLC</span></code>, <code class="docutils literal notranslate"><span class="pre">CLV</span></code>, <code class="docutils literal notranslate"><span class="pre">CLZ</span></code>, <code class="docutils literal notranslate"><span class="pre">CLN</span></code></p></td>
<td><p>Combinable</p></td>
</tr>
<tr class="row-odd"><td><p>cc set</p></td>
<td><p>cc set instructions</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SEC</span></code>, <code class="docutils literal notranslate"><span class="pre">SEV</span></code>, <code class="docutils literal notranslate"><span class="pre">SEZ</span></code>, <code class="docutils literal notranslate"><span class="pre">SEN</span></code></p></td>
<td><p>Combinable</p></td>
</tr>
</tbody>
</table>
<p>For floating point opcodes, F and D variants, and I and L variants, may be specified regardless of the state of FPS.</p>
<p>The syntax for specifiers is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Syntax</p></th>
<th class="head"><p>Specifier</p></th>
<th class="head"><p>Displacement</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Rn</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0n</span></code></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Fn</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0n</span></code></p></td>
<td><p>—</p></td>
<td><p>Only in flt reg classes</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">(Rn)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1n</span></code></p></td>
<td><p>—</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;(Rn)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">7n</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Equivalent to <code class="docutils literal notranslate"><span class="pre">&#64;0(Rn)</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">(Rn)+</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2n</span></code></p></td>
<td><p>—</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;(Rn)+</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">3n</span></code></p></td>
<td><p>—</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-(Rn)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">4n</span></code></p></td>
<td><p>—</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;-(Rn)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">5n</span></code></p></td>
<td><p>—</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">{+/-}d(Rn)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">6n</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">{+/-}d</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;{+/-}d(Rn)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">7n</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">{+/-}d</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">#n</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">27</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">n</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;#n</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">37</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">n</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.+/-n</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">67</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">+/-n</span> <span class="pre">-</span> <span class="pre">4</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;.+/-n</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">77</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">+/-n</span> <span class="pre">-</span> <span class="pre">4</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">{+/-}n</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">67</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">{+/-}n</span> <span class="pre">-</span> <span class="pre">PC</span> <span class="pre">-</span> <span class="pre">4</span></code></p></td>
<td><p>If on disk, 37 and <code class="docutils literal notranslate"><span class="pre">n</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;{+/-}n</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">77</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">{+/-}n</span> <span class="pre">-</span> <span class="pre">PC</span> <span class="pre">-</span> <span class="pre">4</span></code></p></td>
<td><p>If on disk, invalid</p></td>
</tr>
</tbody>
</table>
</section>
<section id="the-uc15">
<h2><span class="sectnum">1.4. </span>The UC15<a class="headerlink" href="#the-uc15" title="Permalink to this heading">¶</a></h2>
<p>The UC15 is a special, limited configuration of the PDP-11 simulator for use as the I/O processor in a PDP-15/76 system.
It is configured as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Device name(s)</p></th>
<th class="head"><p>Simulates</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CPU</span></code></p></td>
<td><p>PDP-11/05 CPU with 8KB-24KB of memory</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PTR</span></code>, <code class="docutils literal notranslate"><span class="pre">PTP</span></code></p></td>
<td><p>PC11 paper tape reader/punch</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TTI</span></code>, <code class="docutils literal notranslate"><span class="pre">TTO</span></code></p></td>
<td><p>DL11 console terminal</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CR</span></code></p></td>
<td><p>CR11 card reader</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LPT</span></code></p></td>
<td><p>LP11 line printer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CLK</span></code></p></td>
<td><p>KW11-L line frequency clock</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RK</span></code></p></td>
<td><p>RK11/RK05 cartridge disk controller with eight drives</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">UCA</span></code>, <code class="docutils literal notranslate"><span class="pre">UCB</span></code></p></td>
<td><p>DR11-C parallel interfaces</p></td>
</tr>
</tbody>
</table>
<p>The card reader is disabled initially and is not supported by the default release of PIREX, the I/O executive that runs in the UC15.</p>
<p>The CPU model cannot be changed.
While memory size can be changed,
PIREX is configured for 16KB of memory.</p>
<p>The PDP-15/76 configuration requires the shared memory facility,
which is presently implemented only for Windows and Linux.</p>
<section id="dr11-parallel-interfaces-uca-ucb">
<h3><span class="sectnum">1.4.1. </span>DR11 parallel interfaces (UCA, UCB)<a class="headerlink" href="#dr11-parallel-interfaces-uca-ucb" title="Permalink to this heading">¶</a></h3>
<p>The UC15 talks to the PDP-15’s DR15 interface over a pair of DR11-C interfaces called UCA and UCB.
UCA implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CSR</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>16</p></td>
<td><p>Input buffer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">APID</span></code></p></td>
<td><p>1</p></td>
<td><p>CSR&lt;7&gt;, API done</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>CSR&lt;6&gt;, interrupt enable</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">POLL</span></code></p></td>
<td><p>10</p></td>
<td><p>Polling interval</p></td>
</tr>
</tbody>
</table>
<p>UCB implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CSR</span></code></p></td>
<td><p>16</p></td>
<td><p>Control/status register</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUF</span></code></p></td>
<td><p>16</p></td>
<td><p>Input buffer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NTCB</span></code></p></td>
<td><p>1</p></td>
<td><p>CSR&lt;7&gt;, new task control block</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IE</span></code></p></td>
<td><p>1</p></td>
<td><p>CSR&lt;6&gt;, interrupt enable</p></td>
</tr>
</tbody>
</table>
<p>UCA and UCB implement the <code class="docutils literal notranslate"><span class="pre">SET</span></code>/<code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">ADDRESS</span></code> and <code class="docutils literal notranslate"><span class="pre">SET</span></code>/<code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">VECTOR</span></code> commands,
but if the address or vector of either interface is changed,
PIREX will not run correctly.</p>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Python</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="simh_doc.html">SimH Users' Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_swre.html">SimH Sample Software Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_faq.html">SimH FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="nova_doc.html">Data General Nova</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp1_doc.html">Digital Equipment Corporation PDP-1</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Digital Equipment Corporation PDP-11</a></li>
<li class="toctree-l1"><a class="reference internal" href="vax780_doc.html">Digital Equipment Corporation VAX-11/780</a></li>
<li class="toctree-l1"><a class="reference internal" href="vax_doc.html">Digital Equipment Corporation MicroVAX 3900</a></li>
<li class="toctree-l1"><a class="reference internal" href="tx0_doc.html">TX-0 simulator usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_breakpoints.html">The SIMH breakpoint subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_magtape.html">SIMH magtape representation and handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_vmio.html">Adding an I/O device to a SIMH virtual machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulators_acm_queue_2004.html">Simulators: virtual machines of the past and future</a></li>
<li class="toctree-l1"><a class="reference internal" href="Summary%20of%20IMP%20IO%20Device%20Codes.html">Summary of I/O commands for the Arpanet IMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="ssem_doc.html">SSEM simulator usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="swtp6800_doc.html">SWTP 6800 simulator usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh.html">Writing a simulator for the SIMH system</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="pdp1_doc.html" title="previous chapter"><span class="sectnum">1. </span>PDP-1 simulator usage</a></li>
      <li>Next: <a href="vax780_doc.html" title="next chapter"><span class="sectnum">1. </span>VAX-11/780 simulator usage</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.1.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/pdp11_doc.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>