
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>1. AltairZ80 simulator usage &#8212; Python  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="altairz80-simulator-usage">
<h1><span class="sectnum">1. </span>AltairZ80 simulator usage<a class="headerlink" href="#altairz80-simulator-usage" title="Permalink to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2021-01-18</p>
</dd>
<dt class="field-even">Revision<span class="colon">:</span></dt>
<dd class="field-even"><p>$Format:%H$</p>
</dd>
<dt class="field-odd">Copyright<span class="colon">:</span></dt>
<dd class="field-odd"><p>See <a class="reference external" href="../LICENSE.txt">LICENSE.txt</a> for terms of use.</p>
</dd>
</dl>
<aside class="topic">
<p class="topic-title"><strong>Copyright notice</strong></p>
<p>The following copyright notice applies to the SIMH source, binary, and documentation:</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the “Software”),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
<p>Except as contained in this notice, the names of The Authors shall not be
used in advertising or otherwise to promote the sale, use or other dealings
in this Software without prior written authorization from the Authors.</p>
</aside>
<nav class="contents local" id="contents">
<ul class="auto-toc simple">
<li><p><a class="reference internal" href="#simulator-files" id="id39"><span class="sectnum">1.1. </span>Simulator files</a></p></li>
<li><p><a class="reference internal" href="#revision-history" id="id40"><span class="sectnum">1.2. </span>Revision history</a></p></li>
<li><p><a class="reference internal" href="#background" id="id41"><span class="sectnum">1.3. </span>Background</a></p></li>
<li><p><a class="reference internal" href="#hardware" id="id42"><span class="sectnum">1.4. </span>Hardware</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#cpu" id="id43"><span class="sectnum">1.4.1. </span>CPU</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#registers-for-the-8080-and-z80" id="id44"><span class="sectnum">1.4.1.1. </span>Registers for the 8080 and Z80</a></p></li>
<li><p><a class="reference internal" href="#registers-for-the-8086" id="id45"><span class="sectnum">1.4.1.2. </span>Registers for the 8086</a></p></li>
<li><p><a class="reference internal" href="#registers-for-the-mc68000" id="id46"><span class="sectnum">1.4.1.3. </span>Registers for the MC68000</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#the-serial-i-o-card-2sio" id="id47"><span class="sectnum">1.4.2. </span>The serial I/O card (<span class="html"><samp>2SIO</samp></span>)</a></p></li>
<li><p><a class="reference internal" href="#mits-88-2sio-serial-adapter-m2sio" id="id48"><span class="sectnum">1.4.3. </span>MITS 88-2SIO serial adapter (<span class="html"><samp>M2SIO</samp></span>)</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#using-the-m2sio-device-with-serial-ports" id="id49"><span class="sectnum">1.4.3.1. </span>Using the <span class="html"><samp>M2SIO</samp></span> device with serial ports</a></p></li>
<li><p><a class="reference internal" href="#using-the-m2sio-device-with-sockets" id="id50"><span class="sectnum">1.4.3.2. </span>Using the <span class="html"><samp>M2SIO</samp></span> device with sockets</a></p></li>
<li><p><a class="reference internal" href="#m2sio-limitations" id="id51"><span class="sectnum">1.4.3.3. </span><span class="html"><samp>M2SIO</samp></span> limitations</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#the-simh-pseudo-device" id="id52"><span class="sectnum">1.4.4. </span>The SIMH pseudo-device</a></p></li>
<li><p><a class="reference internal" href="#the-88-disk-controller" id="id53"><span class="sectnum">1.4.5. </span>The 88-DISK controller</a></p></li>
<li><p><a class="reference internal" href="#the-88-hdsk-controller" id="id54"><span class="sectnum">1.4.6. </span>The 88-HDSK controller</a></p></li>
<li><p><a class="reference internal" href="#the-simulated-hard-disk" id="id55"><span class="sectnum">1.4.7. </span>The simulated hard disk</a></p></li>
<li><p><a class="reference internal" href="#the-simulated-network" id="id56"><span class="sectnum">1.4.8. </span>The simulated network</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#sample-software" id="id57"><span class="sectnum">1.5. </span>Sample software</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#cp-m-version-2-2" id="id58"><span class="sectnum">1.5.1. </span>CP/M version 2.2</a></p></li>
<li><p><a class="reference internal" href="#cp-m-version-3-with-banked-memory" id="id59"><span class="sectnum">1.5.2. </span>CP/M version 3 with banked memory</a></p></li>
<li><p><a class="reference internal" href="#mp-m-ii-with-banked-memory" id="id60"><span class="sectnum">1.5.3. </span>MP/M II with banked memory</a></p></li>
<li><p><a class="reference internal" href="#cp-net" id="id61"><span class="sectnum">1.5.4. </span>CP/NET</a></p></li>
<li><p><a class="reference internal" href="#cpnos" id="id62"><span class="sectnum">1.5.5. </span>CPNOS</a></p></li>
<li><p><a class="reference internal" href="#cp-m-application-software" id="id63"><span class="sectnum">1.5.6. </span>CP/M application software</a></p></li>
<li><p><a class="reference internal" href="#mits-disk-extended-basic-version-4-1" id="id64"><span class="sectnum">1.5.7. </span>MITS disk extended BASIC version 4.1</a></p></li>
<li><p><a class="reference internal" href="#altair-dos-version-1-0" id="id65"><span class="sectnum">1.5.8. </span>Altair DOS version 1.0</a></p></li>
<li><p><a class="reference internal" href="#altair-basic-3-2-4k" id="id66"><span class="sectnum">1.5.9. </span>Altair Basic 3.2 (4k)</a></p></li>
<li><p><a class="reference internal" href="#altair-basic-4-0-4k" id="id67"><span class="sectnum">1.5.10. </span>Altair Basic 4.0 (4k)</a></p></li>
<li><p><a class="reference internal" href="#altair-8k-basic" id="id68"><span class="sectnum">1.5.11. </span>Altair 8k Basic</a></p></li>
<li><p><a class="reference internal" href="#altair-basic-4-0" id="id69"><span class="sectnum">1.5.12. </span>Altair Basic 4.0</a></p></li>
<li><p><a class="reference internal" href="#altair-disk-extended-basic-version-300-5-c" id="id70"><span class="sectnum">1.5.13. </span>Altair disk extended basic version 300-5-C</a></p></li>
<li><p><a class="reference internal" href="#altair-disk-extended-basic-version-5-0" id="id71"><span class="sectnum">1.5.14. </span>Altair disk extended basic version 5.0</a></p></li>
<li><p><a class="reference internal" href="#altair-hard-disk-basic-300-5-c" id="id72"><span class="sectnum">1.5.15. </span>Altair hard disk basic 300-5-C</a></p></li>
<li><p><a class="reference internal" href="#altair-programming-languages-vtl-2-and-minol" id="id73"><span class="sectnum">1.5.16. </span>Altair programming languages VTL-2 and MINOL</a></p></li>
<li><p><a class="reference internal" href="#ucsd-pascal-ii-0" id="id74"><span class="sectnum">1.5.17. </span>UCSD Pascal II.0</a></p></li>
<li><p><a class="reference internal" href="#cp-m-68k" id="id75"><span class="sectnum">1.5.18. </span>CP/M-68K</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#special-simulator-features" id="id76"><span class="sectnum">1.6. </span>Special simulator features</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#memory-access-breakpoints-8080-z80-only" id="id77"><span class="sectnum">1.6.1. </span>Memory access breakpoints (8080/Z80 only)</a></p></li>
<li><p><a class="reference internal" href="#instruction-breakpoints-8080-z80-8086" id="id78"><span class="sectnum">1.6.2. </span>Instruction breakpoints (8080/Z80/8086)</a></p></li>
<li><p><a class="reference internal" href="#breakpoints-and-instruction-history-8080-z80-only" id="id79"><span class="sectnum">1.6.3. </span>Breakpoints and instruction history (8080/Z80 only)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#brief-summary-of-all-major-changes-to-the-original-altair-simulator" id="id80"><span class="sectnum">1.7. </span>Brief summary of all major changes to the original Altair simulator</a></p></li>
<li><p><a class="reference internal" href="#appendix-python-script-for-converting-mbl-files-to-plain-binary-files" id="id81"><span class="sectnum">1.8. </span>Appendix: Python script for converting MBL files to plain binary files</a></p></li>
<li><p><a class="reference internal" href="#appendix-how-to-bring-up-ucsd-pascal-ii-0-on-simh" id="id82"><span class="sectnum">1.9. </span>Appendix: How to bring up UCSD Pascal II.0 on SIMH</a></p></li>
<li><p><a class="reference internal" href="#vector-graphic-inc-simulation" id="id83"><span class="sectnum">1.10. </span>Vector Graphic, Inc. simulation</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#overview" id="id84"><span class="sectnum">1.10.1. </span>Overview</a></p></li>
<li><p><a class="reference internal" href="#k-vector-mz" id="id85"><span class="sectnum">1.10.2. </span>48K Vector MZ</a></p></li>
<li><p><a class="reference internal" href="#id12" id="id86"><span class="sectnum">1.10.3. </span>56K Vector MZ</a></p></li>
<li><p><a class="reference internal" href="#k-vector-with-hd-fd-controller" id="id87"><span class="sectnum">1.10.4. </span>56K Vector with HD-FD controller</a></p></li>
<li><p><a class="reference internal" href="#notes-on-simulated-hardware" id="id88"><span class="sectnum">1.10.5. </span>Notes on simulated hardware</a></p></li>
<li><p><a class="reference internal" href="#notes-on-the-vector-graphic-disk-image-vgi-file-format" id="id89"><span class="sectnum">1.10.6. </span>Notes on the Vector Graphic disk image (VGI) file format</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#imsai-8080-simulation" id="id90"><span class="sectnum">1.11. </span>IMSAI 8080 simulation</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#id13" id="id91"><span class="sectnum">1.11.1. </span>Overview</a></p></li>
<li><p><a class="reference internal" href="#imsai-8080-with-fif-disk-controller" id="id92"><span class="sectnum">1.11.2. </span>IMSAI 8080 with FIF disk controller</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#north-star-mds-a-and-mds-ad-fdc-simulation" id="id93"><span class="sectnum">1.12. </span>North Star <span class="html"><samp>MDS-A</samp></span> and <span class="html"><samp>MDS-AD</samp></span> FDC simulation</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#id14" id="id94"><span class="sectnum">1.12.1. </span>Overview</a></p></li>
<li><p><a class="reference internal" href="#mds-a-single-density-disk-controller" id="id95"><span class="sectnum">1.12.2. </span><span class="html"><samp>MDS-A</samp></span> single-density disk controller</a></p></li>
<li><p><a class="reference internal" href="#mds-ad-double-density-disk-controller" id="id96"><span class="sectnum">1.12.3. </span><span class="html"><samp>MDS-AD</samp></span> double-density disk controller</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#compupro-8-16-simulation" id="id97"><span class="sectnum">1.13. </span>CompuPro 8-16 simulation</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#id18" id="id98"><span class="sectnum">1.13.1. </span>Overview</a></p></li>
<li><p><a class="reference internal" href="#disk1a-high-performance-floppy-disk-controller" id="id99"><span class="sectnum">1.13.2. </span><span class="html"><samp>DISK1A</samp></span> high-performance floppy disk controller</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#disk1a-controller-parameters" id="id100"><span class="sectnum">1.13.2.1. </span><span class="html"><samp>DISK1A</samp></span> controller parameters</a></p></li>
<li><p><a class="reference internal" href="#disk1a-controller-limitations" id="id101"><span class="sectnum">1.13.2.2. </span><span class="html"><samp>DISK1A</samp></span> controller limitations</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#disk2-compupro-hard-disk-controller" id="id102"><span class="sectnum">1.13.3. </span><span class="html"><samp>DISK2</samp></span> CompuPro hard disk controller</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#disk2-controller-parameters" id="id103"><span class="sectnum">1.13.3.1. </span><span class="html"><samp>DISK2</samp></span> controller parameters</a></p></li>
<li><p><a class="reference internal" href="#disk2-controller-configuration-registers" id="id104"><span class="sectnum">1.13.3.2. </span><span class="html"><samp>DISK2</samp></span> controller configuration registers</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#selchan-compupro-selector-channel-controller" id="id105"><span class="sectnum">1.13.4. </span>SELCHAN CompuPro selector channel controller</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#id19" id="id106"><span class="sectnum">1.13.4.1. </span><span class="html"><samp>DISK2</samp></span> controller parameters</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#disk3-viasyn-st-506-hard-disk-controller" id="id107"><span class="sectnum">1.13.5. </span><span class="html"><samp>DISK3</samp></span> Viasyn ST-506 hard disk controller</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#disk3-controller-parameters" id="id108"><span class="sectnum">1.13.5.1. </span><span class="html"><samp>DISK3</samp></span> controller parameters</a></p></li>
<li><p><a class="reference internal" href="#disk3-controller-configuration-registers" id="id109"><span class="sectnum">1.13.5.2. </span><span class="html"><samp>DISK3</samp></span> controller configuration registers</a></p></li>
<li><p><a class="reference internal" href="#disk3-controller-limitations" id="id110"><span class="sectnum">1.13.5.3. </span><span class="html"><samp>DISK3</samp></span> controller limitations</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#cromemco-4-16-64fdc-and-ccs-2422-fdc-simulation" id="id111"><span class="sectnum">1.14. </span>Cromemco 4/16/64FDC and CCS-2422 FDC simulation</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#id20" id="id112"><span class="sectnum">1.14.1. </span>Overview</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#cromfdc-controller-parameters" id="id113"><span class="sectnum">1.14.1.1. </span><span class="html"><samp>CROMFDC</samp></span> controller parameters</a></p></li>
<li><p><a class="reference internal" href="#cromfdc-controller-configuration-registers" id="id114"><span class="sectnum">1.14.1.2. </span><span class="html"><samp>CROMFDC</samp></span> controller configuration registers</a></p></li>
<li><p><a class="reference internal" href="#cromfdc-controller-limitations" id="id115"><span class="sectnum">1.14.1.3. </span><span class="html"><samp>CROMFDC</samp></span> controller limitations</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#tarbell-mdl-1011-2022-floppy-disk-interface-simulation" id="id116"><span class="sectnum">1.15. </span>Tarbell MDL-1011/2022 floppy disk interface simulation</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#id21" id="id117"><span class="sectnum">1.15.1. </span>Overview</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#tarbell-controller-parameters" id="id118"><span class="sectnum">1.15.1.1. </span><span class="html"><samp>TARBELL</samp></span> controller parameters</a></p></li>
<li><p><a class="reference internal" href="#tarbell-example-usage" id="id119"><span class="sectnum">1.15.1.2. </span><span class="html"><samp>TARBELL</samp></span> example usage</a></p></li>
<li><p><a class="reference internal" href="#tarbell-controller-limitations" id="id120"><span class="sectnum">1.15.1.3. </span><span class="html"><samp>TARBELL</samp></span> controller limitations</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#jade-double-d-floppy-disk-controller-simulation" id="id121"><span class="sectnum">1.16. </span>JADE Double D floppy disk controller simulation</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#id24" id="id122"><span class="sectnum">1.16.1. </span>Overview</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#jade-double-d-controller-parameters" id="id123"><span class="sectnum">1.16.1.1. </span>JADE Double D controller parameters</a></p></li>
<li><p><a class="reference internal" href="#jadedd-example-usage" id="id124"><span class="sectnum">1.16.1.2. </span><span class="html"><samp>JADEDD</samp></span> example usage</a></p></li>
<li><p><a class="reference internal" href="#jade-double-d-controller-limitations" id="id125"><span class="sectnum">1.16.1.3. </span>JADE Double D controller limitations</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#icom-fd3712-fd3812-flexible-disk-system-simulation" id="id126"><span class="sectnum">1.17. </span>iCOM <span class="html"><samp>FD3712</samp></span>/<span class="html"><samp>FD3812</samp></span> flexible disk system simulation</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#id26" id="id127"><span class="sectnum">1.17.1. </span>Overview</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#icom-fd3712-fd3812-flexible-disk-system-parameters" id="id128"><span class="sectnum">1.17.1.1. </span>iCOM <span class="html"><samp>FD3712</samp></span>/<span class="html"><samp>FD3812</samp></span> flexible disk system parameters</a></p></li>
<li><p><a class="reference internal" href="#icom-example-usage" id="id129"><span class="sectnum">1.17.1.2. </span>iCOM example usage</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#morrow-disk-jockey-2d-disk-controller-simulation" id="id130"><span class="sectnum">1.18. </span>Morrow Disk Jockey 2D disk controller simulation</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#id29" id="id131"><span class="sectnum">1.18.1. </span>Overview</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#dj2d-parameters" id="id132"><span class="sectnum">1.18.1.1. </span><span class="html"><samp>DJ2D</samp></span> parameters</a></p></li>
<li><p><a class="reference internal" href="#dj2d-example-usage" id="id133"><span class="sectnum">1.18.1.2. </span><span class="html"><samp>DJ2D</samp></span> example usage</a></p></li>
<li><p><a class="reference internal" href="#dj2d-simulator-limitations" id="id134"><span class="sectnum">1.18.1.3. </span><span class="html"><samp>DJ2D</samp></span> simulator limitations</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#advanced-digital-corporation-super-six-simulation" id="id135"><span class="sectnum">1.19. </span>Advanced Digital Corporation Super-Six simulation</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#id31" id="id136"><span class="sectnum">1.19.1. </span>Overview</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#adcs6-sbc-parameters" id="id137"><span class="sectnum">1.19.1.1. </span><span class="html"><samp>ADCS6</samp></span> SBC parameters</a></p></li>
<li><p><a class="reference internal" href="#adcs6-sbc-configuration-registers" id="id138"><span class="sectnum">1.19.1.2. </span><span class="html"><samp>ADCS6</samp></span> SBC configuration registers</a></p></li>
<li><p><a class="reference internal" href="#adcs6-sbc-limitations" id="id139"><span class="sectnum">1.19.1.3. </span><span class="html"><samp>ADCS6</samp></span> SBC limitations</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#n8vem-single-board-computer-simulation" id="id140"><span class="sectnum">1.20. </span><span class="html"><samp>N8VEM</samp></span> single-board computer simulation</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#id32" id="id141"><span class="sectnum">1.20.1. </span>Overview</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#n8vem-sbc-parameters" id="id142"><span class="sectnum">1.20.1.1. </span><span class="html"><samp>N8VEM</samp></span> <span class="html"><abbr title="Single-board computer">SBC</abbr></span> parameters</a></p></li>
<li><p><a class="reference internal" href="#n8vem-sbc-configuration-registers" id="id143"><span class="sectnum">1.20.1.2. </span><span class="html"><samp>N8VEM</samp></span> <span class="html"><abbr title="Single-board computer">SBC</abbr></span> configuration registers</a></p></li>
<li><p><a class="reference internal" href="#n8vem-sbc-limitations" id="id144"><span class="sectnum">1.20.1.3. </span><span class="html"><samp>N8VEM</samp></span> <span class="html"><abbr title="Single-board computer">SBC</abbr></span> limitations</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#pmmi-mm-103-modem-and-communications-adapter" id="id145"><span class="sectnum">1.21. </span><span class="html"><samp>PMMI</samp></span> MM-103 <span class="html"><abbr title="MOdulator-DEModulator">MODEM</abbr></span> and communications adapter</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#id34" id="id146"><span class="sectnum">1.21.1. </span>Overview</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#pmmi-device-parameters" id="id147"><span class="sectnum">1.21.1.1. </span><span class="html"><samp>PMMI</samp></span> device parameters</a></p></li>
<li><p><a class="reference internal" href="#pmmi-example-usage" id="id148"><span class="sectnum">1.21.1.2. </span><span class="html"><samp>PMMI</samp></span> example usage</a></p></li>
<li><p><a class="reference internal" href="#pmmi-and-simh-timing" id="id149"><span class="sectnum">1.21.1.3. </span><span class="html"><samp>PMMI</samp></span> and SIMH timing</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#hayes-micromodem-100" id="id150"><span class="sectnum">1.22. </span>Hayes Micromodem 100</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#id36" id="id151"><span class="sectnum">1.22.1. </span>Overview</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#hayes-device-parameters" id="id152"><span class="sectnum">1.22.1.1. </span><span class="html"><samp>HAYES</samp></span> device parameters</a></p></li>
<li><p><a class="reference internal" href="#hayes-example-usage" id="id153"><span class="sectnum">1.22.1.2. </span><span class="html"><samp>HAYES</samp></span> example usage</a></p></li>
<li><p><a class="reference internal" href="#hayes-and-simh-timing" id="id154"><span class="sectnum">1.22.1.3. </span><span class="html"><samp>HAYES</samp></span> and SIMH timing</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#imagedisk-imd-disk-image-support-in-simh" id="id155"><span class="sectnum">1.23. </span>ImageDisk (<span class="html"><samp>IMD</samp></span>) disk image support in SIMH</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#id38" id="id156"><span class="sectnum">1.23.1. </span>Overview</a></p></li>
<li><p><a class="reference internal" href="#references" id="id157"><span class="sectnum">1.23.2. </span>References</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#cp-m-68k-simulation" id="id158"><span class="sectnum">1.24. </span>CP/M-68K simulation</a></p></li>
</ul>
</nav>
<p>This memorandum documents the Altair 8800 Simulator.</p>
<section id="simulator-files">
<h2><span class="sectnum">1.1. </span>Simulator files<a class="headerlink" href="#simulator-files" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Subdirectory</p></th>
<th class="head"><p>File</p></th>
<th class="head"><p>Contains</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="24"><p><code class="docutils literal notranslate"><span class="pre">/</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">scp.h</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sim_console.h</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sim_defs.h</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sim_fio.h</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sim_rev.h</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sim_sock.h</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sim_timer.h</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sim_tmxr.h</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sim_serial.h</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sim_tape.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sim_disk.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sim_ether.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">scp.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sim_console.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sim_fio.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sim_sock.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sim_timer.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sim_tmxr.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sim_serial.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sim_tape.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sim_disk.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sim_ether.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sim_imd.c</span></code></p></td>
<td rowspan="2"><p><a class="reference internal" href="#imagedisk-disk-image">ImageDisk disk image</a> file access module by Howard M. Harte</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sim_imd.h</span></code></p></td>
</tr>
<tr class="row-even"><td rowspan="62"><p><code class="docutils literal notranslate"><span class="pre">AltairZ80/</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">altairz80_defs.h</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">altairz80_cpu_nommu.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">altairz80_cpu.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">altairz80_dsk.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">altairz80_hdsk.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">altairz80_mhdsk.c</span></code></p></td>
<td><p>MITS/Pertec 88-HDSK hard disk support by Mike Douglas</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">altairz80_net.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">altairz80_sio.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">altairz80_sys.c</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">flashwriter2.c</span></code></p></td>
<td><p>Vector Graphic, Inc. FlashWriter II support by Howard M. Harte</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">i8272.c</span></code></p></td>
<td rowspan="2"><p>Generic Intel 8272 disk controller by Howard M. Harte</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">i8272.h</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mfdc.c</span></code></p></td>
<td rowspan="2"><p>Micropolis FDC support by Howard M. Harte</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mfdc.h</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">n8vem.c</span></code></p></td>
<td><p>N8VEM single-board computer I/O module by Howard M. Harte</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s100_2sio.c</span></code></p></td>
<td><p>MITS 88-2SIO serial adapter by Patrick Linstruth</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s100_64fdc.c</span></code></p></td>
<td><p>Cromemco 4FDC/16FDC/64FDC floppy controller by Howard M. Harte</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s100_adcs6.c</span></code></p></td>
<td><p>Advanced Digital Corporation (ADC) Super-Six CPU board by Howard M. Harte</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s100_disk1a.c</span></code></p></td>
<td><p>CompuPro DISK1A floppy controller by Howard M. Harte</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s100_disk2.c</span></code></p></td>
<td><p>CompuPro DISK2 hard disk controller by Howard M. Harte</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s100_disk3.c</span></code></p></td>
<td><p>CompuPro DISK3 hard disk controller by Howard M. Harte</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s100_dj2d.c</span></code></p></td>
<td><p>Morrow Disk Jockey 2D model B disk controller by Patrick Linstruth</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s100_fif.c</span></code></p></td>
<td><p><a class="reference internal" href="#imsai-fif">IMSAI FIF</a> disk controller by Ernie Price</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s100_hayes.c</span></code></p></td>
<td><p>Hayes <span class="html"><samp>80-103A</samp></span> and <a class="reference internal" href="#micromodem-100">Micromodem 100</a> by Patrick Linstruth</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s100_hdc1001.c</span></code></p></td>
<td><p>Advanced Digital Corporation (ADC) HDC-1001 hard disk controller by Howard M. Harte</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s100_icom.c</span></code></p></td>
<td><p><a class="reference internal" href="#icom-fd3712-fd3812">iCOM <span class="html"><samp>FD3712</samp></span>/<span class="html"><samp>FD3812</samp></span></a> flexible disk system by Patrick Linstruth</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s100_if3.c</span></code></p></td>
<td><p>CompuPro system support 1 by Howard M. Harte</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s100_jadedd.c</span></code></p></td>
<td><p><a class="reference internal" href="#jade-double-d">JADE Double D</a> disk controller by Patrick Linstruth</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s100_mdriveh.c</span></code></p></td>
<td><p>CompuPro M-DRIVE/H controller by Howard M. Harte</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s100_mdsa.c</span></code></p></td>
<td><p>Northstar MDS-A single-density disk controller by Mike Douglas</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s100_mdsad.c</span></code></p></td>
<td><p>Northstar <span class="html"><samp>MDS-AD</samp></span> disk controller by Howard M. Harte</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s100_pmmi.c</span></code></p></td>
<td><p>PMMI MM-103 MODEM by Patrick Linstruth</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s100_scp300f.c</span></code></p></td>
<td><p>Seattle Computer Products SCP300F support board module by Howard M. Harte</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s100_selchan.c</span></code></p></td>
<td><p>CompuPro selector channel module by Howard M. Harte</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s100_ss1.c</span></code></p></td>
<td><p>CompuPro system support 1 module by Howard M. Harte</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s100_tarbell.c</span></code></p></td>
<td><p>Altair Tarbell controller by Patrick Linstruth</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">vfdhd.c</span></code></p></td>
<td rowspan="2"><p>Micropolis FDC support by Howard M. Harte</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">vfdhd.h</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">wd179x.h</span></code></p></td>
<td rowspan="2"><p>WD179X support by Howard M. Harte</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">wd179x.c</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">insns.h</span></code></p></td>
<td rowspan="4"><p>8086 disassembler by Simon Tatham and Julian Hall</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">nasm.h</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">disasm.c</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">insnsd.c</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">i86.h</span></code></p></td>
<td rowspan="4"><p>8086 CPU by Jim Hudgens</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">i86_decode.c</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">i86_ops.c</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">i86_prim_ops.c</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">m68k.h</span></code></p></td>
<td><p>Motorola M68000 CPU by Karl Stenerud</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">m68kasm.y(.txt)</span></code></p></td>
<td><p>Motorola M68000 assembler by Holger Veit, Bison source</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">m68kasm.c</span></code></p></td>
<td><p>Motorola M68000 assembler by Holger Veit, Bison output</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">m68kconf.h</span></code></p></td>
<td><p>Motorola M68000 CPU by Karl Stenerud</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">m68ksim.c</span></code></p></td>
<td rowspan="2"><p>CPU driver or CP/M-68K simulation, based on work by David W. Schultz</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">m68ksim.h</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">m68kdasm.c</span></code></p></td>
<td><p>Motorola MC68000 CPU by Karl Stenerud, disassembler</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">m68kcpu.c</span></code></p></td>
<td rowspan="7"><p>Motorola MC68000 CPU by Karl Stenerud</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">m68kcpu.h</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">m68kopac.c</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">m68kopdm.c</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">m68kopnz.c</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">m68kops.c</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">m68kops.h</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="revision-history">
<h2><span class="sectnum">1.2. </span>Revision history<a class="headerlink" href="#revision-history" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Date</p></th>
<th class="head"><p>Author(s)</p></th>
<th class="head"><p>Changes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2021-01-18</p></td>
<td><p>Patrick Linstruth</p></td>
<td><p>Added support for <a class="reference internal" href="#morrow-disk-jockey-2d">Morrow Disk Jockey 2D</a> original disk controller</p></td>
</tr>
<tr class="row-odd"><td><p>2021-01-10</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Corrections</p></td>
</tr>
<tr class="row-even"><td><p>2021-01-01</p></td>
<td><p>Patrick Linstruth</p></td>
<td><p>Added support for <a class="reference internal" href="#morrow-disk-jockey-2d">Morrow Disk Jockey 2D</a> Model B disk controller</p></td>
</tr>
<tr class="row-odd"><td><p>2020-11-27</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added port command for <span class="html"><samp>PTP</samp></span>/<span class="html"><samp>PTR</samp></span></p></td>
</tr>
<tr class="row-even"><td><p>2020-11-27</p></td>
<td><p>Patrick Linstruth</p></td>
<td><p>Added support for iCOM <span class="html"><samp>FD3712</samp></span>/<span class="html"><samp>FD3812</samp></span> FDS</p></td>
</tr>
<tr class="row-odd"><td><p>2020-08-14</p></td>
<td><p>Patrick Linstruth</p></td>
<td><p>Added support for <a class="reference internal" href="#hayes-s-100">Hayes S-100</a> modems</p></td>
</tr>
<tr class="row-even"><td><p>2020-07-02</p></td>
<td><p>Patrick Linstruth</p></td>
<td><p>Added support for <span class="html"><samp>PMMI</samp></span> MM-103 <span class="html"><abbr title="MOdulator-DEModulator">MODEM</abbr></span></p></td>
</tr>
<tr class="row-odd"><td><p>2020-06-30</p></td>
<td><p>Patrick Linstruth</p></td>
<td><p>Added DSDD support to Tarbell disk controller</p></td>
</tr>
<tr class="row-even"><td><p>2020-06-29</p></td>
<td><p>Patrick Linstruth</p></td>
<td><p>Added support for MITS <span class="html"><samp>88-2SIO</samp></span></p></td>
</tr>
<tr class="row-odd"><td><p>2020-06-10</p></td>
<td><p>Mike Douglas</p></td>
<td><p>Added documentation for <a class="reference internal" href="#north-star-mds-a">North Star MDS-A</a> (single-density FDC)</p></td>
</tr>
<tr class="row-even"><td><p>2020-06-05</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Additional documentation for <span class="html"><samp><b>CPU SET</b></samp></span> commands and <span class="html"><samp>CPU</samp></span> pseudo-registers</p></td>
</tr>
<tr class="row-odd"><td><p>2020-06-04</p></td>
<td><p>Patrick Linstruth</p></td>
<td><p>Added support for the <a class="reference internal" href="#jade-double-d">JADE Double D</a> disk controller</p></td>
</tr>
<tr class="row-even"><td><p>2020-05-24</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added M68000 assembler based on Holger Veit‘s Bison code</p></td>
</tr>
<tr class="row-odd"><td><p>2020-04-28</p></td>
<td><p>Patrick Linstruth</p></td>
<td><p>Added support for <a class="reference internal" href="#cpu"><span class="html"><samp>CPU</samp></span></a> instruction history</p></td>
</tr>
<tr class="row-even"><td><p>2019-12-09</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Small updates</p></td>
</tr>
<tr class="row-odd"><td><p>2019-12-05</p></td>
<td><p>Patrick Linstruth</p></td>
<td><p>Added support for the Altair Tarbell SSSD disk controller</p></td>
</tr>
<tr class="row-even"><td><p>2015-12-27</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Updated <span class="html"><samp>SIO</samp></span> device documentation</p></td>
</tr>
<tr class="row-odd"><td><p>2014-05-24</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added support for the Altair mini-disk contributed by Mike Douglas</p></td>
</tr>
<tr class="row-even"><td><p>2014-05-06</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added Motorola MC68000 CPU, updated <span class="html"><samp>HDSK</samp></span>, and added a driver for CP/M-68K simulation.</p></td>
</tr>
<tr class="row-odd"><td><p>2014-04-21</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added debug flags for the <span class="html"><samp>MHDSK</samp></span> device and support for the <span class="html"><samp><b>NEXT</b></samp></span> command</p></td>
</tr>
<tr class="row-even"><td><p>2014-03-29</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added support for the MITS/Pertec 88-HDSK hard disk contributed by Mike Douglas</p></td>
</tr>
<tr class="row-odd"><td><p>2013-04-15</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added correct cycle count timing for 8080 CPU, improved <code class="docutils literal notranslate"><span class="pre">.IMD</span></code> file processing, renamed SIO <code class="docutils literal notranslate"><span class="pre">C</span></code> switch to <code class="docutils literal notranslate"><span class="pre">N</span></code></p></td>
</tr>
<tr class="row-even"><td><p>2012-08-24</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added capability to <span class="html"><samp>HDSK</samp></span> device for <code class="docutils literal notranslate"><span class="pre">.IMD</span></code> disk processing</p></td>
</tr>
<tr class="row-odd"><td><p>2011-08-01</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added some explanation to Altair Basic</p></td>
</tr>
<tr class="row-even"><td><p>2009-09-29</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added debug flags to SIO, PTR and PTP</p></td>
</tr>
<tr class="row-odd"><td><p>2009-04-18</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Fixed some errata in the manual found by Kim Sparre, added additional disk layouts to <span class="html"><samp>HDSK</samp></span></p></td>
</tr>
<tr class="row-even"><td><p>2008-08-17</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Moved <code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code>/<code class="docutils literal notranslate"><span class="pre">QUIET</span></code> for DSK and <span class="html"><samp>HDSK</samp></span> to debug flags</p></td>
</tr>
<tr class="row-odd"><td><p>2008-07-03</p></td>
<td><p>Howard M. Harte</p></td>
<td><p>Added support for hardware modules from Cromemco, Advanced Digital Corporation, Seattle Computer Products, and <span class="html"><samp>N8VEM</samp></span></p></td>
</tr>
<tr class="row-even"><td><p>2008-02-29</p></td>
<td><p>Howard M. Harte,
Peter Schorn</p></td>
<td><p>Added support for additional S100 and CompuPro hardware modules, added 8086 CPU</p></td>
</tr>
<tr class="row-odd"><td><p>2007-12-29</p></td>
<td><p>Howard M. Harte,
Peter Schorn</p></td>
<td><p>Added support for Vector Graphic FlashWriter II, Micropolis FDC, <a class="reference internal" href="#imagedisk-disk-image">ImageDisk disk image</a> files, <a class="reference internal" href="#imsai-fif">IMSAI FIF</a> disk controller, North Star <span class="html"><samp>MDS-AD</samp></span> disk controller</p></td>
</tr>
<tr class="row-even"><td><p>2007-04-21</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added documentation for <a class="reference internal" href="#ucsd-pascal-ii-0">UCSD Pascal II.0</a></p></td>
</tr>
<tr class="row-odd"><td><p>2007-04-14</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added documentation for Howard M. Harte‘s hard disk extensions</p></td>
</tr>
<tr class="row-even"><td><p>2007-01-05</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added networking capability, included CP/NET and CPNOS</p></td>
</tr>
<tr class="row-odd"><td><p>2006-11-26</p></td>
<td><p>Peter Schorn</p></td>
<td><p><span class="html"><samp>SIO</samp></span> can now be attached to a file, <span class="html"><samp>SIO</samp></span> rewritten for better efficiency</p></td>
</tr>
<tr class="row-even"><td><p>2006-10-15</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Updated CP/M 2 operating system and application software description</p></td>
</tr>
<tr class="row-odd"><td><p>2006-09-17</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added <a class="reference internal" href="#altair-basic-5-0">Altair Basic 5.0</a> to the sample software, corrected TTY/ANSI description</p></td>
</tr>
<tr class="row-even"><td><p>2006-08-21</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added <a class="reference internal" href="#minol">MINOL</a> and <a class="reference internal" href="#vtl-2">VTL-2</a> software, retyping courtesy of Emmanuel Roche, fixed a bug in memory breakpoints, and added a create (<code class="docutils literal notranslate"><span class="pre">C</span></code>) switch to the <span class="html"><samp><b>ATTACH</b></samp></span> command</p></td>
</tr>
<tr class="row-odd"><td><p>2006-01-24</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Transcribed documentation to Word / PDF format</p></td>
</tr>
<tr class="row-even"><td><p>2005-04-05</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Removed bogus t-state stepping support</p></td>
</tr>
<tr class="row-odd"><td><p>2004-07-24</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Updated CP/M 2 and SPL packages</p></td>
</tr>
<tr class="row-even"><td><p>2004-04-12</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added <span class="html"><samp>MAP</samp></span>/<span class="html"><samp>NOMAP</samp></span> capability to switch off key-mapping</p></td>
</tr>
<tr class="row-odd"><td><p>2004-01-26</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added support for t-state stepping</p></td>
</tr>
<tr class="row-even"><td><p>2003-02-25</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added support for real-time simulation</p></td>
</tr>
<tr class="row-odd"><td><p>2002-10-09</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added support for simulated hard disk</p></td>
</tr>
<tr class="row-even"><td><p>2002-09-28</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Number of tracks per disk can be configured</p></td>
</tr>
<tr class="row-odd"><td><p>2002-09-19</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added <span class="html"><samp>WARNROM</samp></span> feature</p></td>
</tr>
<tr class="row-even"><td><p>2002-08-31</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added extended ROM features suggested by Scott LaBombard</p></td>
</tr>
<tr class="row-odd"><td><p>2002-05-04</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added description of MP/M II sample software</p></td>
</tr>
<tr class="row-even"><td><p>2002-04-28</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added periodic timer interrupts and three additional consoles</p></td>
</tr>
<tr class="row-odd"><td><p>2002-04-15</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added memory breakpoint</p></td>
</tr>
<tr class="row-even"><td><p>2002-04-07</p></td>
<td><p>Peter Schorn</p></td>
<td><p>Added <span class="html"><samp>ALTAIRROM</samp></span> / <span class="html"><samp>NOALTAIRROM</samp></span> switch</p></td>
</tr>
</tbody>
</table>
<p>The first version of this document was written by Charles E. Owen.</p>
</section>
<section id="background">
<h2><span class="sectnum">1.3. </span>Background<a class="headerlink" href="#background" title="Permalink to this heading">¶</a></h2>
<p>The MITS
(Micro Instrumentation and Telemetry Systems)
Altair 8800 was announced on the January 1975 cover of Popular Electronics,
which boasted you could buy and build this powerful computer kit for only $397.
The kit consisted at that time of only the parts to build a case,
power supply,
card cage (18 slots),
CPU card,
and memory card with 256 <em>bytes</em> of memory.
Still, thousands were ordered within the first few months after the announcement,
starting the personal computer revolution as we know it today.</p>
<p>Many laugh at the small size of that first kit,
noting there were no peripherals and the 256-byte memory size.
But the computer was an open system,
and by 1977,
MITS and many other small startups had added many expansion cards to make the Altair quite a respectable little computer.
The “Altair Bus” that made this possible was soon called the S-100 Bus,
later adopted as an industry standard,
and eventually became the IEE-696 Bus.</p>
</section>
<section id="hardware">
<h2><span class="sectnum">1.4. </span>Hardware<a class="headerlink" href="#hardware" title="Permalink to this heading">¶</a></h2>
<p>We are simulating a fairly “loaded” Altair 8800 from about 1977,
with the following configuration:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#cpu"><span class="html"><samp>CPU</samp></span></a></p></td>
<td><p>Altair 8800 with Intel 8080 CPU board 62KB of RAM,
2K of EPROM with start boot ROM.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id3"><span class="html"><samp>SIO</samp></span></a></p></td>
<td><p>MITS 88-2SIO Dual Serial Interface Board.
Port 1 is assumed to be connected to a serial “glass TTY”;
that is, your terminal running the simulator.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ptr"><span class="html"><samp>PTR</samp></span></a></p></td>
<td><p>Paper tape reader attached to port 2 of the <span class="html"><samp>2SIO</samp></span> board.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ptp"><span class="html"><samp>PTP</samp></span></a></p></td>
<td><p>Paper tape punch attached to port 2 of the <span class="html"><samp>2SIO</samp></span> board.
This also doubles as a printer port.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dsk"><span class="html"><samp>DSK</samp></span></a></p></td>
<td><p>MITS 88-DISK floppy disk controller with up to eight drives.</p></td>
</tr>
</tbody>
</table>
<section id="cpu">
<h3><span class="sectnum">1.4.1. </span>CPU<a class="headerlink" href="#cpu" title="Permalink to this heading">¶</a></h3>
<p>We have three <span class="html"><samp>CPU</samp></span> options that were not present on the original machine but are useful in the simulator.
We also allow you to select memory sizes,
but be aware that some sample software requires the full 64K
(i.e. CP/M)
and the MITS Disk Basic and Altair DOS require about a minimum of 24K.</p>
<table class="docutils align-default" id="cpu-set">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET CPU 8080</b></samp></span></p></td>
<td><p>Simulates the 8080 CPU (default)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET CPU Z80</b></samp></span></p></td>
<td><p>Simulates the Z80 CPU.
Note that some software
(e.g. most original Altair software such as 4K Basic)
requires an 8080 CPU and will not or not properly run on a Z80.
This is mainly due to the use of the parity flag on the 8080,
which has not always the same semantics on the Z80.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET CPU 8086</b></samp></span></p></td>
<td><p>Simulates 8086 CPU.
This also enables 1024 KB of memory by default.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET CPU M68K</b></samp></span></p></td>
<td><p>Simulates Motorola M68000 CPU.
This also enables 16 MB of memory by default.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET CPU ITRAP</b></samp></span></p></td>
<td><p>Causes the simulator to halt if an invalid opcode is detected
(depending on the chosen CPU).</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET CPU NOITRAP</b></samp></span></p>
</td>
<td><p>Does not stop on an invalid opcode.
This is how the real 8080 works.
Note that some software such as 4K Basic apparently
tries to execute nonexistent 8080 instructions.
Therefore it is advisable in this case to <span class="html"><samp><b>SET CPU NOITRAP</b></samp></span>.</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><span class="html"><samp><b>SET CPU 4K</b></samp></span></div>
<div class="line"><span class="html"><samp><b>SET CPU 8K</b></samp></span></div>
<div class="line"><span class="html"><samp><b>SET CPU 12K</b></samp></span></div>
<div class="line"><span class="html"><samp><b>SET CPU 16K</b></samp></span></div>
<div class="line">… (in 4K steps)</div>
<div class="line"><span class="html"><samp><b>SET CPU 64K</b></samp></span></div>
</div>
</td>
<td><p>All these set various CPU memory configurations.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET CPU MEMORY=</b><var>nnn</var><b>K</b></samp></span></p></td>
<td><p>Set the memory to <span class="html"><samp><var>nnn</var></samp></span> kilobytes</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET CPU BANKED</b></samp></span></p></td>
<td><p>Enables the banked memory support.
The simulated memory has eight banks with address range <span class="html"><samp>0</samp></span>..<a class="reference internal" href="#common"><span class="html"><samp class="register">COMMON</samp></span></a>
(see <a class="reference internal" href="#registers-for-the-8080-and-z80">registers</a> below)
and a common area from <a class="reference internal" href="#common"><span class="html"><samp class="register">COMMON</samp></span></a> to <span class="html"><samp>0xFFFF</samp></span> which is common to all banks.
The currently active bank is determined by register <span class="html"><samp class="register">BANK</samp></span>
(<a class="reference internal" href="#registers-for-the-8080-and-z80">see below</a>).
You can only switch to banked memory if the memory is set to 64K.
The banked memory is used by CP/M 3.</p>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET CPU NONBANKED</b></samp></span></p></td>
<td><p>Disables banked memory support.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET CPU CLEARMEMORY</b></samp></span></p></td>
<td><p>Resets all internal memory to 0 and also resets the memory management unit (MMU) such that all memory pages are RAM.
Note that resetting the CPU does only clear the CPU registers but not the memory nor the MMU.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET CPU ALTAIRROM</b></samp></span></p>
</td>
<td><p>Enables the slightly modified but downwards-compatible Altair boot ROM at addresses <span class="html"><samp>0xFF00</samp></span> to <span class="html"><samp>0xFFFF</samp></span>.
This is the default.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET CPU NOALTAIRROM</b></samp></span></p>
</td>
<td><p>Disables standard Altair ROM behavior.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET CPU MMU</b></samp></span></p></td>
<td><p>Enables the Memory Management Unit (MMU) and clock frequency support.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET CPU NOMMU</b></samp></span></p></td>
<td><p>Disables the Memory Management Unit (MMU) and clock frequency support.
The simulator will run with maximum speed,
which can be more than twice the speed as with MMU enabled.
This feature is only available for the Z80 and 8080 CPU using 64 KB.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET CPU AZ80</b></samp></span></p></td>
<td><p>Sets the RAM type to AltairZ80 RAM for 8080 / Z80 / 8086.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET CPU HRAM</b></samp></span></p></td>
<td><p>Sets the RAM type to NorthStar HRAM for 8080 / Z80 / 8086.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET CPU VRAM</b></samp></span></p></td>
<td><p>Sets the RAM type to Vector RAM for 8080 / Z80 / 8086.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET CPU CRAM</b></samp></span></p></td>
<td><p>Sets the RAM type to Cromemco RAM for 8080 / Z80 / 8086.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET CPU SWITCHER</b></samp></span></p></td>
<td><p>Sets the CPU switcher port for 8080 / Z80 / 8086 from the CPU pseudo-register <span class="html"><samp class="register">SWITCHERPORT</samp></span>.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET CPU NOSWITCHER</b></samp></span></p></td>
<td><p>Resets the CPU switcher port for 8080 / Z80 / 8086.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET CPU VERBOSE</b></samp></span></p></td>
<td><p>Enables warning messages to be printed when the CPU attempts to write into ROM or into non-existing memory.
Also prints a warning message if the CPU attempts to read from non-existing memory.
Also shows the status of the MMU.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET CPU QUIET</b></samp></span></p></td>
<td><p>Suppresses all warning messages.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET CPU STOPONHALT</b></samp></span></p></td>
<td><p>Z80 or 8080 CPU stops when <span class="html"><samp>HALT</samp></span> instruction is encountered.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET CPU LOOPONHALT</b></samp></span></p></td>
<td><p>Z80 or 8080 CPU does not stop when a <span class="html"><samp>HALT</samp></span> instruction is encountered,
but waits for an interrupt to occur.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET CPU HISTORY</b></samp></span></p></td>
<td><p>Clears CPU instruction history buffer (8080 and Z80).</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET CPU HISTORY=0</b></samp></span></p></td>
<td><p>Disables CPU instruction history (8080 and Z80).</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET CPU HISTORY=</b><var>n</var></samp></span></p></td>
<td><p>Enables CPU instruction history buffer with a size of <span class="html"><samp><var>n</var></samp></span> (8080 and Z80).</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SHOW CPU HISTORY</b></samp></span></p></td>
<td><p>Displays CPU instruction history buffer in CP/M DDT format (8080 and Z80).</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SHOW CPU HISTORY=</b><var>n</var></samp></span></p></td>
<td><p>Displays last <span class="html"><samp><var>n</var></samp></span> entries of the CPU instruction history buffer in CP/M DDT format (8080 and Z80).</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>BOOT</samp></span> EPROM card starts at address <span class="html"><samp>0xFF00</samp></span> if it has been enabled by <span class="html"><samp><b>SET CPU ALTAIRROM</b></samp></span>.
Jumping to this address will boot drive 0 of the floppy controller
(CPU must be set to ROM or equivalent code must be present).
If no valid bootable software is present there,
the machine crashes.</p>
<section id="registers-for-the-8080-and-z80">
<h4><span class="sectnum">1.4.1.1. </span>Registers for the 8080 and Z80<a class="headerlink" href="#registers-for-the-8080-and-z80" title="Permalink to this heading">¶</a></h4>
<p>CPU registers include the following for the Z80 / 8080:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p id="pc"><span class="html"><samp class="register">PC</samp></span></p>
</td>
<td><p>20</p></td>
<td><p>The program counter for the 8080 and Z80.</p></td>
</tr>
<tr class="row-odd"><td><p id="af"><span class="html"><samp class="register">AF</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>The accumulator (8 bits) and the flag register.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">F</span> <span class="pre">=</span> <span class="pre">S</span> <span class="pre">Z</span> <span class="pre">-</span> <span class="pre">AC</span> <span class="pre">-</span> <span class="pre">P/V</span> <span class="pre">N</span> <span class="pre">C</span></code></dt><dd><dl class="field-list simple">
<dt class="field-odd">S<span class="colon">:</span></dt>
<dd class="field-odd"><p>Sign flag</p>
</dd>
<dt class="field-even">Z<span class="colon">:</span></dt>
<dd class="field-even"><p>Zero flag</p>
</dd>
<dt class="field-odd">-<span class="colon">:</span></dt>
<dd class="field-odd"><p>Not used (undefined)</p>
</dd>
<dt class="field-even">AC<span class="colon">:</span></dt>
<dd class="field-even"><p>Auxiliary carry flag</p>
</dd>
<dt class="field-odd">P/V<span class="colon">:</span></dt>
<dd class="field-odd"><p>Parity flag on 8080
(Parity / overflow flag on Z80)</p>
</dd>
<dt class="field-even">-<span class="colon">:</span></dt>
<dd class="field-even"><p>Not used (undefined)</p>
</dd>
<dt class="field-odd">N<span class="colon">:</span></dt>
<dd class="field-odd"><p>Internal sign flag</p>
</dd>
<dt class="field-even">C<span class="colon">:</span></dt>
<dd class="field-even"><p>Carry flag</p>
</dd>
</dl>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p id="bc"><span class="html"><samp class="register">BC</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>The <span class="html"><samp class="register">BC</samp></span> register pair.
Register <span class="html"><samp>B</samp></span> is the high 8 bits,
<span class="html"><samp>C</samp></span> is the lower 8 bits.</p></td>
</tr>
<tr class="row-odd"><td><p id="de"><span class="html"><samp class="register">DE</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>The <span class="html"><samp class="register">DE</samp></span> register pair.
Register <span class="html"><samp>D</samp></span> is the high 8 bits,
<span class="html"><samp>E</samp></span> is the lower 8 bits.</p></td>
</tr>
<tr class="row-even"><td><p id="hl"><span class="html"><samp class="register">HL</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>The <span class="html"><samp class="register">HL</samp></span> register pair.
Register <span class="html"><samp>H</samp></span> is the high 8 bits,
<span class="html"><samp>L</samp></span> is the lower 8 bits.</p></td>
</tr>
<tr class="row-odd"><td><p id="af1"><span class="html"><samp class="register">AF1</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>The alternate <span class="html"><samp class="register">AF</samp></span> register (on Z80 only)</p></td>
</tr>
<tr class="row-even"><td><p id="bc1"><span class="html"><samp class="register">BC1</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>The alternate <span class="html"><samp class="register">BC</samp></span> register (on Z80 only)</p></td>
</tr>
<tr class="row-odd"><td><p id="de1"><span class="html"><samp class="register">DE1</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>The alternate <span class="html"><samp class="register">DE</samp></span> register (on Z80 only)</p></td>
</tr>
<tr class="row-even"><td><p id="hl1"><span class="html"><samp class="register">HL1</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>The alternate HL register (on Z80 only)</p></td>
</tr>
<tr class="row-odd"><td><p id="ix"><span class="html"><samp class="register">IX</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>The <span class="html"><samp class="register">IX</samp></span> index register (on Z80 only)</p></td>
</tr>
<tr class="row-even"><td><p id="iy"><span class="html"><samp class="register">IY</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>The <span class="html"><samp class="register">IY</samp></span> index register (on Z80 only)</p></td>
</tr>
<tr class="row-odd"><td><p id="iff"><span class="html"><samp class="register">IFF</samp></span></p>
</td>
<td><p>8</p></td>
<td><p>Interrupt flag (on Z80 only)</p></td>
</tr>
<tr class="row-even"><td><p id="ir"><span class="html"><samp class="register">IR</samp></span></p>
</td>
<td><p>8</p></td>
<td><p>Interrupt register (on Z80 only)</p></td>
</tr>
<tr class="row-odd"><td><p id="sr"><span class="html"><samp class="register">SR</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>The front panel switches
(use D SR 8 for 4k Basic).</p></td>
</tr>
<tr class="row-even"><td><p id="wru"><span class="html"><samp class="register">WRU</samp></span></p>
</td>
<td><p>8</p></td>
<td><p>The interrupt character.
This starts as <span class="html"><samp>5</samp></span> (<span class="html"><kbd>Control-E</kbd></span>),
but some Altair software uses this keystroke,
so best to change this to something exotic such as <span class="html"><samp>1D</samp></span>
(which is <span class="html"><kbd>Control-]</kbd></span>).
But make sure you can actually create this character via the keyboard.</p></td>
</tr>
<tr class="row-odd"><td><p id="bank"><span class="html"><samp class="register">BANK</samp></span></p>
</td>
<td><p>3</p></td>
<td><p>The currently active memory bank
(if banked memory is activated – see memory options above).</p></td>
</tr>
<tr class="row-even"><td><p id="common"><span class="html"><samp class="register">COMMON</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>The starting address of common memory.
Originally set to <span class="html"><samp>0xC000</samp></span>
(note this setting must agree with the value supplied to GENCPM for CP/M 3 system generation).</p></td>
</tr>
<tr class="row-odd"><td><p id="pcq"><span class="html"><samp class="register">PCQ</samp></span></p>
</td>
<td><p>16 × 64</p></td>
<td><p>Circular buffer of the last 64 PC jump targets.
This can be viewed with <span class="html"><samp><b>e pcq</b>[<var>0-63</var>]</samp></span>.</p></td>
</tr>
<tr class="row-even"><td><p id="pcqp"><span class="html"><samp class="register">PCQP</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>The head index of the circular buffer</p></td>
</tr>
<tr class="row-odd"><td></td>
<td id="clock"><p>32</p></td>
<td><p>The clock speed of the simulated CPU (8080 / Z80) in kHz,
or 0 to run at maximum speed.
To set the clock speed for a typical 4 MHz Z80 CPU,
use <span class="html"><samp>D CLOCK 4000</samp></span>.
The CP/M utility <code class="docutils literal notranslate"><span class="pre">SPEED</span></code> measures the clock speed of the simulated CPU.</p></td>
</tr>
<tr class="row-even"><td><p id="slice"><span class="html"><samp class="register">SLICE</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>The slice length in milliseconds for the clock speed simulation.
The default is 10 ms.</p></td>
</tr>
<tr class="row-odd"><td><p id="tstates"><span class="html"><samp class="register">TSTATES</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>The number of executed t-states (8080 / Z80) — read-only.</p></td>
</tr>
<tr class="row-even"><td><p id="capacity"><span class="html"><samp class="register">CAPACITY</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>Capacity of the RAM — read-only.
Use the <span class="html"><samp><b>SET</b></samp></span> commands above to set the memory capacity.</p></td>
</tr>
<tr class="row-odd"><td><p id="prevcap"><span class="html"><samp class="register">PREVCAP</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>The previous capacity of the RAM — read-only.</p></td>
</tr>
<tr class="row-even"><td><p id="switcherport"><span class="html"><samp class="register">SWITCHERPORT</samp></span></p>
</td>
<td></td>
<td><p>The 8-bit port number of the CPU switcher port.
The default is <span class="html"><samp>FD</samp></span>.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="registers-for-the-8086">
<h4><span class="sectnum">1.4.1.2. </span>Registers for the 8086<a class="headerlink" href="#registers-for-the-8086" title="Permalink to this heading">¶</a></h4>
<p>CPU registers include the following for the 8086:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p id="ax"><span class="html"><samp class="register">AX</samp></span></p>
</td>
<td><p>16</p></td>
<td><p><span class="html"><samp class="register">AX</samp></span> general-purpose register</p></td>
</tr>
<tr class="row-odd"><td><p id="al"><span class="html"><samp class="register">AL</samp></span></p>
</td>
<td><p>8</p></td>
<td><p>Low 8 bits of <span class="html"><samp class="register">AX</samp></span></p></td>
</tr>
<tr class="row-even"><td><p id="ah"><span class="html"><samp class="register">AH</samp></span></p>
</td>
<td><p>8</p></td>
<td><p>High 8 bits of <span class="html"><samp class="register">AX</samp></span></p></td>
</tr>
<tr class="row-odd"><td><p id="bx"><span class="html"><samp class="register">BX</samp></span></p>
</td>
<td><p>16</p></td>
<td><p><span class="html"><samp class="register">BX</samp></span> general-purpose register</p></td>
</tr>
<tr class="row-even"><td><p id="bl"><span class="html"><samp class="register">BL</samp></span></p>
</td>
<td><p>8</p></td>
<td><p>Low 8 bits of <span class="html"><samp class="register">BX</samp></span></p></td>
</tr>
<tr class="row-odd"><td><p id="bh"><span class="html"><samp class="register">BH</samp></span></p>
</td>
<td><p>8</p></td>
<td><p>High 8 bits of <span class="html"><samp class="register">BX</samp></span></p></td>
</tr>
<tr class="row-even"><td><p id="cx"><span class="html"><samp class="register">CX</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>CX general-purpose register</p></td>
</tr>
<tr class="row-odd"><td><p id="cl"><span class="html"><samp class="register">CL</samp></span></p>
</td>
<td><p>8</p></td>
<td><p>Low 8 bits of <span class="html"><samp class="register">CX</samp></span></p></td>
</tr>
<tr class="row-even"><td><p id="ch"><span class="html"><samp class="register">CH</samp></span></p>
</td>
<td><p>8</p></td>
<td><p>High 8 bits of <span class="html"><samp class="register">CX</samp></span></p></td>
</tr>
<tr class="row-odd"><td><p id="dx"><span class="html"><samp class="register">DX</samp></span></p>
</td>
<td><p>16</p></td>
<td><p><span class="html"><samp class="register">DX</samp></span> general-purpose register</p></td>
</tr>
<tr class="row-even"><td><p id="dl"><span class="html"><samp class="register">DL</samp></span></p>
</td>
<td><p>8</p></td>
<td><p>Low 8 bits of <span class="html"><samp class="register">DX</samp></span></p></td>
</tr>
<tr class="row-odd"><td><p id="dh"><span class="html"><samp class="register">DH</samp></span></p>
</td>
<td><p>8</p></td>
<td><p>High 8 bits of <span class="html"><samp class="register">DX</samp></span></p></td>
</tr>
<tr class="row-even"><td><p id="bp"><span class="html"><samp class="register">BP</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>Base pointer</p></td>
</tr>
<tr class="row-odd"><td><p id="si"><span class="html"><samp class="register">SI</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>Source index</p></td>
</tr>
<tr class="row-even"><td><p id="di"><span class="html"><samp class="register">DI</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>Destination index</p></td>
</tr>
<tr class="row-odd"><td><p id="sp86"><span class="html"><samp class="register">SP86</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>Stack pointer</p></td>
</tr>
<tr class="row-even"><td><p id="cs"><span class="html"><samp class="register">CS</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>Code segment</p></td>
</tr>
<tr class="row-odd"><td><p id="ds"><span class="html"><samp class="register">DS</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>Data segment</p></td>
</tr>
<tr class="row-even"><td><p id="es"><span class="html"><samp class="register">ES</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>Extra segment</p></td>
</tr>
<tr class="row-odd"><td><p id="ss"><span class="html"><samp class="register">SS</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>Stack segment</p></td>
</tr>
<tr class="row-even"><td><p id="pcx"><span class="html"><samp class="register">PCX</samp></span></p>
</td>
<td><p>20</p></td>
<td><p>Virtual 20-bit program counter</p></td>
</tr>
<tr class="row-odd"><td><p id="spx"><span class="html"><samp class="register">SPX</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>Stack pointer</p></td>
</tr>
<tr class="row-even"><td><p id="ip"><span class="html"><samp class="register">IP</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>Instruction pointer, read-only.
To set, use <span class="html"><samp class="register">PCX</samp></span> which allows 20-bit addresses.</p></td>
</tr>
<tr class="row-odd"><td><p id="flags"><span class="html"><samp class="register">FLAGS</samp></span></p>
</td>
<td><p>16</p></td>
<td><p>Flags:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">15</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">14</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">13</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">12</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">11</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">10</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">09</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">08</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">07</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">06</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">05</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">04</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">03</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">02</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">01</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">00</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>OF</p></td>
<td><p>DF</p></td>
<td><p>IF</p></td>
<td><p>TF</p></td>
<td><p>SF</p></td>
<td><p>ZF</p></td>
<td><p>Res.</p></td>
<td><p>AF</p></td>
<td><p>Res.</p></td>
<td><p>PF</p></td>
<td><p>1</p></td>
<td><p>CF</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">OF<span class="colon">:</span></dt>
<dd class="field-odd"><p>Overflow flag</p>
</dd>
<dt class="field-even">DF<span class="colon">:</span></dt>
<dd class="field-even"><p>Direction flag</p>
</dd>
<dt class="field-odd">IF<span class="colon">:</span></dt>
<dd class="field-odd"><p>Interrupt flag</p>
</dd>
<dt class="field-even">TF<span class="colon">:</span></dt>
<dd class="field-even"><p>Trace flag</p>
</dd>
<dt class="field-odd">SF<span class="colon">:</span></dt>
<dd class="field-odd"><p>Sign flag</p>
</dd>
<dt class="field-even">ZF<span class="colon">:</span></dt>
<dd class="field-even"><p>Zero flag</p>
</dd>
<dt class="field-odd">AF<span class="colon">:</span></dt>
<dd class="field-odd"><p>Auxiliary carry flag</p>
</dd>
<dt class="field-even">PF<span class="colon">:</span></dt>
<dd class="field-even"><p>Parity flag</p>
</dd>
<dt class="field-odd">CF<span class="colon">:</span></dt>
<dd class="field-odd"><p>Carry flag</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</section>
<section id="registers-for-the-mc68000">
<h4><span class="sectnum">1.4.1.3. </span>Registers for the MC68000<a class="headerlink" href="#registers-for-the-mc68000" title="Permalink to this heading">¶</a></h4>
<p>CPU registers include the following for the MC68000:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p id="m68k-d0"><span class="html"><samp class="register">M68K_D0</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>D0 – general-purpose data register</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-d1"><span class="html"><samp class="register">M68K_D1</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>D1 – general-purpose data register</p></td>
</tr>
<tr class="row-even"><td><p id="m68k-d2"><span class="html"><samp class="register">M68K_D2</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>D2 – general-purpose data register</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-d3"><span class="html"><samp class="register">M68K_D3</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>D3 – general-purpose data register</p></td>
</tr>
<tr class="row-even"><td><p id="m68k-d4"><span class="html"><samp class="register">M68K_D4</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>D4 – general-purpose data register</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-d5"><span class="html"><samp class="register">M68K_D5</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>D5 – general-purpose data register</p></td>
</tr>
<tr class="row-even"><td><p id="m68k-d6"><span class="html"><samp class="register">M68K_D6</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>D6 – general-purpose data register</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-d7"><span class="html"><samp class="register">M68K_D7</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>D7 – general-purpose data register</p></td>
</tr>
<tr class="row-even"><td><p id="m68k-a0"><span class="html"><samp class="register">M68K_A0</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>A0 – general-purpose address register</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-a1"><span class="html"><samp class="register">M68K_A1</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>A1 – general-purpose address register</p></td>
</tr>
<tr class="row-even"><td><p id="m68k-a2"><span class="html"><samp class="register">M68K_A2</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>A2 – general-purpose address register</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-a3"><span class="html"><samp class="register">M68K_A3</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>A3 – general-purpose address register</p></td>
</tr>
<tr class="row-even"><td><p id="m68k-a4"><span class="html"><samp class="register">M68K_A4</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>A4 – general-purpose address register</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-a5"><span class="html"><samp class="register">M68K_A5</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>A5 – general-purpose address register</p></td>
</tr>
<tr class="row-even"><td><p id="m68k-a6"><span class="html"><samp class="register">M68K_A6</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>A6 – general-purpose address register</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-a7"><span class="html"><samp class="register">M68K_A7</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>A7 – general-purpose address register</p></td>
</tr>
<tr class="row-even"><td><p id="m68k-pc"><span class="html"><samp class="register">M68K_PC</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>PC – program counter</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-sr"><span class="html"><samp class="register">M68K_SR</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>SR – status register</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">15</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">14</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">13</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">12</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">11</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">10</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">09</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">08</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">07</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">06</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">05</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">04</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">03</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">02</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">01</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">00</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>T1</p></td>
<td><p>T0</p></td>
<td><p>S</p></td>
<td><p>M</p></td>
<td><p>0</p></td>
<td><p>I2</p></td>
<td><p>I1</p></td>
<td><p>I0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>X</p></td>
<td><p>N</p></td>
<td><p>Z</p></td>
<td><p>V</p></td>
<td><p>C</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">T1<span class="colon">:</span></dt>
<dd class="field-odd"><p>Trace enable T1</p>
</dd>
<dt class="field-even">T0<span class="colon">:</span></dt>
<dd class="field-even"><p>Trace enable T0</p>
</dd>
<dt class="field-odd">S<span class="colon">:</span></dt>
<dd class="field-odd"><p>Supervisor / user state</p>
</dd>
<dt class="field-even">M<span class="colon">:</span></dt>
<dd class="field-even"><p>Master / interrupt state</p>
</dd>
<dt class="field-odd">I2<span class="colon">:</span></dt>
<dd class="field-odd"><p>Interrupt priority mask I2</p>
</dd>
<dt class="field-even">I1<span class="colon">:</span></dt>
<dd class="field-even"><p>Interrupt priority mask I1</p>
</dd>
<dt class="field-odd">I0<span class="colon">:</span></dt>
<dd class="field-odd"><p>Interrupt priority mask I0</p>
</dd>
<dt class="field-even">X<span class="colon">:</span></dt>
<dd class="field-even"><p>Extend</p>
</dd>
<dt class="field-odd">N<span class="colon">:</span></dt>
<dd class="field-odd"><p>Negative</p>
</dd>
<dt class="field-even">Z<span class="colon">:</span></dt>
<dd class="field-even"><p>Zero</p>
</dd>
<dt class="field-odd">V<span class="colon">:</span></dt>
<dd class="field-odd"><p>Overflow</p>
</dd>
<dt class="field-even">C<span class="colon">:</span></dt>
<dd class="field-even"><p>Carry</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p id="m68k-sp"><span class="html"><samp class="register">M68K_SP</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>SP – stack pointer (located in A7)</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-usp"><span class="html"><samp class="register">M68K_USP</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>USP – user stack pointer</p></td>
</tr>
<tr class="row-even"><td><p id="m68k-isp"><span class="html"><samp class="register">M68K_ISP</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>ISP – interrupt stack pointer</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-msp"><span class="html"><samp class="register">M68K_MSP</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>MSP – master stack pointer</p></td>
</tr>
<tr class="row-even"><td><p id="m68k-sfc"><span class="html"><samp class="register">M68K_SFC</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>SFC – source function code register</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-dfc"><span class="html"><samp class="register">M68K_DFC</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>DFC – destination function code register</p></td>
</tr>
<tr class="row-even"><td><p id="m68k-vbr"><span class="html"><samp class="register">M68K_VBR</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>VBR – vector base register</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-cacr"><span class="html"><samp class="register">M68K_CACR</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>CACR – cache control register</p></td>
</tr>
<tr class="row-even"><td><p id="m68k-caar"><span class="html"><samp class="register">M68K_CAAR</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>CAAR – cache address register</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-pref-addr"><span class="html"><samp class="register">M68K_PREF_ADDR</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>Last prefetch address</p></td>
</tr>
<tr class="row-even"><td><p id="m68k-pref-data"><span class="html"><samp class="register">M68K_PREF_DATA</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>Last prefetch data</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-ppc"><span class="html"><samp class="register">M68K_PPC</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>PPC – previous value of program counter</p></td>
</tr>
<tr class="row-even"><td><p id="m68k-ir"><span class="html"><samp class="register">M68K_IR</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>IR – instruction register</p></td>
</tr>
<tr class="row-odd"><td><p id="m68k-cpu-type"><span class="html"><samp class="register">M68K_CPU_TYPE</samp></span></p>
</td>
<td><p>32</p></td>
<td><p>CPU type (read-only),
<code class="docutils literal notranslate"><span class="pre">1</span></code> for MC68000</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>CPU</samp></span> device supports the following debug flags
(set with <span class="html"><samp><b>SET CPU DEBUG=</b><var>f1</var>{;<var>f</var>}</samp></span>,
or <span class="html"><samp><b>SET CPU DEBUG</b></samp></span> to enable all of them).</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>LOG_IN</samp></span></p></td>
<td><p>Log all IN operations to the file specified with <span class="html"><samp><b>SET DEBUG</b> <var>file</var></samp></span>.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>LOG_OUT</samp></span></p></td>
<td><p>Log all OUT operations to the file specified with <span class="html"><samp><b>SET DEBUG</b> <var>file</var></samp></span>.
Use <span class="html"><samp><b>SET NODEBUG</b></samp></span> to close the file.
Also note that there is no logging if no file has been specified.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="the-serial-i-o-card-2sio">
<span id="id3"></span><span id="sio"></span><h3><span class="sectnum">1.4.2. </span>The serial I/O card (<span class="html"><samp>2SIO</samp></span>)<a class="headerlink" href="#the-serial-i-o-card-2sio" title="Permalink to this heading">¶</a></h3>
<p>This simple programmed I/O device provides 2 serial ports to the outside world,
which could be hardware jumpered to support RS-232 plugs or a TTY current loop interface.
The standard I/O addresses assigned by MITS was <span class="html"><samp>10</samp></span>–<span class="html"><samp>11</samp></span> (hex) for the first port,
and <span class="html"><samp>12</samp></span>–<span class="html"><samp>13</samp></span> (hex) for the second.
We follow this standard in the simulator.</p>
<p>The simulator directs I/O to/from the first port to the screen.
The second port reads from an attachable “tape reader” file on input,
and writes to an attachable “punch file” on output.
These files are considered a simple stream of 8-bit bytes.</p>
<p>The <span class="html"><samp>SIO</samp></span> can be configured in SIMH with the following commands:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET SIO ANSI</b></samp></span></p></td>
<td><p>Bit 8 is set to zero on console output</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET SIO TTY</b></samp></span></p></td>
<td><p>Bit 8 is not touched on console output</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET SIO ALL</b></samp></span></p></td>
<td><p>Console input remain unchanged</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET SIO UPPER</b></samp></span></p></td>
<td><p>Console input is transformed to upper case characters only
(This feature is useful for most Altair software).
<a class="reference internal" href="#set-sio-map"><span class="html"><samp><b>SET SIO MAP</b></samp></span></a> must also have been executed for this option to take effect —
otherwise, no mapping occurs.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET SIO BS</b></samp></span></p></td>
<td><p>Map the delete character to <span class="html"><kbd>backspace</kbd></span>.
<a class="reference internal" href="#set-sio-map"><span class="html"><samp><b>SET SIO MAP</b></samp></span></a> must also have been executed for this option to take effect —
otherwise, no mapping occurs.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET SIO DEL</b></samp></span></p></td>
<td><p>Map the backspace character to <span class="html"><kbd>delete</kbd></span>.
<a class="reference internal" href="#set-sio-map"><span class="html"><samp><b>SET SIO MAP</b></samp></span></a> must also have been executed for this option to take effect —
otherwise, no mapping occurs.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET SIO QUIET</b></samp></span></p></td>
<td><p>Do not print warning messages.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET SIO VERBOSE</b></samp></span></p></td>
<td><p id="siowlev">Print warning messages
(useful for debugging)
The register <span class="html"><samp class="register">SIOWLEV</samp></span> determines how often the same warning is displayed.
The default is 3.</p>
</td>
</tr>
<tr class="row-odd"><td><p id="map"><span id="set-sio-map"></span><span class="html"><samp><b>SET SIO MAP</b></samp></span></p>
</td>
<td><p>Enable mapping of characters
(see also <span class="html"><samp><b>SET SIO ALL</b>/<b>UPPER</b>/<b>BS</b>/<b>DEL</b></samp></span>).</p></td>
</tr>
<tr class="row-even"><td><p id="nomap"><span id="set-sio-nomap"></span><span class="html"><samp><b>SET SIO NOMAP</b></samp></span></p>
</td>
<td><p>Disable mapping of characters
(see also <span class="html"><samp><b>SET SIO ALL</b>/<b>UPPER</b>/<b>BS</b>/<b>DEL</b></samp></span>).</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET SIO BELL</b></samp></span></p></td>
<td><p>Displaying <code class="docutils literal notranslate"><span class="pre">^G</span></code> (<span class="html"><kbd>Control-G</kbd></span>) sounds the bell.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET SIO NOBELL</b></samp></span></p></td>
<td><p>Do not display <code class="docutils literal notranslate"><span class="pre">^G</span></code> (<span class="html"><kbd>Control-G</kbd></span>, bell character).
This feature is useful when a simulated program makes excessive use of the bell character.
Furthermore, the <span class="html"><samp><b>SHOW</b></samp></span> command prints more information.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET SIO INTERRUPT</b></samp></span></p></td>
<td><p id="keybdh">Status port 0 creates an interrupt when a character becomes available.
The handler is at <span class="html"><samp>SIO</samp></span> register <span class="html"><samp class="register">KEYBDH</samp></span>.</p>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET SIO NOINTERRUPT</b></samp></span></p></td>
<td><p>Status port 0 does not create interrupts.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET SIO SLEEP</b></samp></span></p></td>
<td><p>Sleeps for <span class="html"><samp>SLEEP</samp></span> milliseconds after a keyboard status check where no character was available.
This is useful in many operating systems to avoid high real CPU usage in busy wait loops.
Use <span class="html"><samp><b>D SLEEP</b> <var>n</var></samp></span> to change the number of milliseconds —
the default value is 1.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET SIO NOSLEEP</b></samp></span></p></td>
<td><p>Do not sleep after unsuccessful keyboard status checks.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET SIO PORT=</b><var>Port</var><b>/</b><var>Terminal</var><b>/</b><var>Read</var><b>/</b><var>NotRead</var><b>/</b><var>Write</var><b>/</b><var>Reset</var><b>/</b><var>Reset</var><b>/</b><var>Data</var></samp></span></p></td>
<td><table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><var>Port</var></samp></span></p></td>
<td><p>Two-digit hex address of the new port</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><var>Terminal</var></samp></span></p></td>
<td><p>One-digit decimal number of terminal line</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><var>Read</var></samp></span></p></td>
<td><p>Two-digit hex mask indicating the bit(s) set when a character is available</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><var>NotRead</var></samp></span></p></td>
<td><p>Two-digit hex mask indicating the bit(s) to set in case no character is available</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><var>Write</var></samp></span></p></td>
<td><p>Two-digit hex mask indicating the bits set when a character can be written</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><var>Reset</var></samp></span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">T</span></code> (port has reset command) or
<code class="docutils literal notranslate"><span class="pre">F</span></code> (port has no reset command)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><var>Reset</var></samp></span></p></td>
<td><p>Two-digit hex value of the reset command</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><var>Data</var></samp></span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">T</span></code> (port accepts OUT, i.e., is a data port) or
<code class="docutils literal notranslate"><span class="pre">F</span></code> (port only has IN, i.e., is a status port).</p></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<p>The standard setting for the console / keyboard port is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">SIO</span> <span class="n">PORT</span><span class="o">=</span><span class="mi">10</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="mi">3</span><span class="o">/</span><span class="n">F</span>
<span class="n">SET</span> <span class="n">SIO</span> <span class="n">PORT</span><span class="o">=</span><span class="mi">11</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="mi">3</span><span class="o">/</span><span class="n">T</span>
</pre></div>
</div>
<p>You can also attach the <span class="html"><samp>SIO</samp></span> to a port or a file:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><b>ATTACH SIO 23</b></samp></span></p></td>
<td><p>Console I/O goes via a Telnet connection on port 23
(often requires root privileges,
you can also use another port and use Telnet with this port).</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>ATTACH SIO</b> <var>filename</var></samp></span></p></td>
<td><p>Console input is taken from the file with name <span class="html"><samp><var>filename</var></samp></span> and output goes to the SIMH console.
Note that sometimes this does not work as expected since some application programs or operating system commands periodically check for input.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>DETACH SIO</b></samp></span></p></td>
<td><p>Console I/O goes via the regular SIMH console.</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>SIO</samp></span> device supports the following debug flags
(set with <span class="html"><samp><b>SET SIO DEBUG=</b><var>f1</var>{<b>;</b><var>f</var>}</samp></span>,
or <span class="html"><samp><b>SET SIO DEBUG</b></samp></span> to enable all of them):</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>IN</samp></span></p></td>
<td><p>All <span class="html"><samp>IN</samp></span> operations on the <span class="html"><samp>SIO</samp></span> ports (status and data)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>OUT</samp></span></p></td>
<td><p>All <span class="html"><samp>OUT</samp></span> operations on the <span class="html"><samp>SIO</samp></span> ports (status and data)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>CMD</samp></span></p></td>
<td><p>All <span class="html"><samp>OUT</samp></span> operations which are interpreted as commands</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>VERBOSE</samp></span></p></td>
<td><p>All warning messages (currently: none)</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>PTP</samp></span>/<span class="html"><samp>PTR</samp></span> can be configured in SIMH with the following command:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET PTP PORT=</b><var>StatusPort</var><b>/</b><var>DataPort</var></samp></span> or <span class="html"><samp><b>SET PTR PORT=</b><var>StatusPort</var><b>/</b><var>DataPort</var></samp></span></p></td>
<td><table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><var>StatusPort</var></samp></span></p></td>
<td><p>Two-digit hex address of the new status port (originally <code class="docutils literal notranslate"><span class="pre">0x12</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><var>DataPort</var></samp></span></p></td>
<td><p>Two-digit hex address of the new data port (originally <code class="docutils literal notranslate"><span class="pre">0x13</span></code>)</p></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<p id="ptp">The <span class="html"><samp>PTP</samp></span> device supports the following debug flags
(set with <span class="html"><samp><b>SET PTP DEBUG=</b><var>f1</var>{<b>;</b><var>f</var>}</samp></span>,
or <span class="html"><samp><b>SET PTP DEBUG</b></samp></span> to enable all of them):</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>IN</samp></span></p></td>
<td><p>All <span class="html"><samp>IN</samp></span> operations on the <span class="html"><samp>PTP</samp></span> ports (status and data)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>OUT</samp></span></p></td>
<td><p>All <span class="html"><samp>OUT</samp></span> operations on the <span class="html"><samp>PTP</samp></span> ports (status and data)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>CMD</samp></span></p></td>
<td><p>All <span class="html"><samp>OUT</samp></span> operations which are interpreted as commands</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>VERBOSE</samp></span></p></td>
<td><p>All warning messages (currently: use of unattached <span class="html"><samp>PTP</samp></span>)</p></td>
</tr>
</tbody>
</table>
<p id="ptr">The <span class="html"><samp>PTR</samp></span> device supports the following debug flags
(set with <span class="html"><samp><b>SET PTR DEBUG=</b><var>f1</var>{<b>;</b><var>f</var>}</samp></span>,
or <span class="html"><samp><b>SET PTR DEBUG</b></samp></span> to enable all of them):</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>IN</samp></span></p></td>
<td><p>All <span class="html"><samp>IN</samp></span> operations on the <span class="html"><samp>PTR</samp></span> ports (status and data)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>OUT</samp></span></p></td>
<td><p>All <span class="html"><samp>OUT</samp></span> operations on the <span class="html"><samp>PTR</samp></span> ports (status and data)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>CMD</samp></span></p></td>
<td><p>All <span class="html"><samp>OUT</samp></span> operations which are interpreted as commands</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>VERBOSE</samp></span></p></td>
<td><p>All warning messages (currently: use of unattached <span class="html"><samp>PTR</samp></span>,
attempt to read past end of attached file)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="mits-88-2sio-serial-adapter-m2sio">
<span id="id4"></span><span id="m2sio1"></span><span id="m2sio0"></span><span id="m2sio"></span><h3><span class="sectnum">1.4.3. </span>MITS 88-2SIO serial adapter (<span class="html"><samp>M2SIO</samp></span>)<a class="headerlink" href="#mits-88-2sio-serial-adapter-m2sio" title="Permalink to this heading">¶</a></h3>
<p>This <span class="html"><samp>M2SIO</samp></span> device provides an alternative to the SIO device for serial communications.
The <span class="html"><samp>M2SIO</samp></span> device provides two independent MITS <span class="html"><samp>88-2SIO</samp></span> serial ports,
<span class="html"><samp>M2SIO0</samp></span> and <span class="html"><samp>M2SIO1</samp></span>,
with full support for attaching to sockets and host serial ports.</p>
<p>By default,
the <span class="html"><samp>M2SIO0</samp></span> port directs I/O to/from the screen and keyboard.
The second port also directs its output to the screen.
The default I/O base port for <span class="html"><samp>M2SIO0</samp></span> is <code class="docutils literal notranslate"><span class="pre">10H</span></code> and <span class="html"><samp>M2SIO1</samp></span> is <code class="docutils literal notranslate"><span class="pre">12H</span></code>.</p>
<p>Unlike the <a class="reference internal" href="#id3"><span class="html"><samp>SIO</samp></span></a> device,
the <span class="html"><samp>M2SIO</samp></span> device provides raw ports,
meaning data is sent and received as-is without any translation or other manipulations.
Also, there are no <span class="html"><samp>PTP</samp></span> or <span class="html"><samp>PTR</samp></span> devices.</p>
<p>Before either of these ports can be used,
they must be enabled:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET M2SIO0 ENA</b></samp></span></p></td>
<td><p>Enable the first 88-2SIO port (replaces <span class="html"><samp>SIO</samp></span> port)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET M2SIO1 ENA</b></samp></span></p></td>
<td><p>Enable the second 88-2SIO port (replaces <span class="html"><samp>PTP</samp></span> and <span class="html"><samp>PTR</samp></span> ports)</p></td>
</tr>
</tbody>
</table>
<p>Once enabled,
the <span class="html"><samp>M2SIO</samp></span> ports can be configured in SIMH with the following commands,
where <span class="html"><samp><var>x</var></samp></span> is 0 for port 0 and 1 for port 1:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET M2SIO</b><var>x</var> <b>IOBASE</b></samp></span></p></td>
<td><p>Sets MITS 2SIO base I/O address</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET M2SIO</b><var>x</var> <b>CONSOLE</b></samp></span></p></td>
<td><p>Port checks console for input</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET M2SIO</b><var>x</var> <b>NOCONSOLE</b></samp></span></p></td>
<td><p>Port does not check console for input</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET M2SIO</b><var>x</var> <b>DTR</b></samp></span></p></td>
<td><p>DTR follows RTS</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET M2SIO</b><var>x</var> <b>NODTR</b></samp></span></p></td>
<td><p>DTR does not follow RTS (default)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET M2SIO</b><var>x</var> <b>DCD</b></samp></span></p></td>
<td><p>Force DCD active low</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET M2SIO</b><var>x</var> <b>NODCD</b></samp></span></p></td>
<td><p>DCD follows status line (default)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET M2SIO</b><var>x</var> <b>BAUD=</b><var>val</var></samp></span></p></td>
<td><p>Set baud rate (default: <code class="docutils literal notranslate"><span class="pre">9600</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET M2SIO</b><var>x</var> <b>DEBUG</b></samp></span></p></td>
<td><p>Enables debugging for device <span class="html"><samp>M2SIO<var>x</var></samp></span></p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET M2SIO</b><var>x</var> <b>NODEBUG</b></samp></span></p></td>
<td><p>Disables debugging for device <span class="html"><samp>M2SIO<var>x</var></samp></span></p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>M2SIO</samp></span> device implements these registers:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="html"><samp>M2STA<var>x</var></samp></span></p></td>
<td><p>8</p></td>
<td><p><span class="html"><samp>2SIO</samp></span> port <span class="html"><samp><var>x</var></samp></span> status register</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>M2CTL<var>x</var></samp></span></p></td>
<td><p>8</p></td>
<td><p><span class="html"><samp>2SIO</samp></span> port <span class="html"><samp><var>x</var></samp></span> control register</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>M2RXD<var>x</var></samp></span></p></td>
<td><p>8</p></td>
<td><p><span class="html"><samp>2SIO</samp></span> port <span class="html"><samp><var>x</var></samp></span> rx data buffer</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>M2TXD<var>x</var></samp></span></p></td>
<td><p>8</p></td>
<td><p><span class="html"><samp>2SIO</samp></span> port <span class="html"><samp><var>x</var></samp></span> tx data buffer</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>M2TXP<var>x</var></samp></span></p></td>
<td><p>8</p></td>
<td><p><span class="html"><samp>2SIO</samp></span> port <span class="html"><samp><var>x</var></samp></span> tx data pending</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>M2CON<var>x</var></samp></span></p></td>
<td><p>1</p></td>
<td><p><span class="html"><samp>2SIO</samp></span> port <span class="html"><samp><var>x</var></samp></span> connection status</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>M2RIE<var>x</var></samp></span></p></td>
<td><p>1</p></td>
<td><p><span class="html"><samp>2SIO</samp></span> port <span class="html"><samp><var>x</var></samp></span> receive interrupt enable</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>M2TIE<var>x</var></samp></span></p></td>
<td><p>1</p></td>
<td><p><span class="html"><samp>2SIO</samp></span> port <span class="html"><samp><var>x</var></samp></span> transmit interrupt enable</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>M2RTS<var>x</var></samp></span></p></td>
<td><p>1</p></td>
<td><p><span class="html"><samp>2SIO</samp></span> port <span class="html"><samp><var>x</var></samp></span> RTS status (active low)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>M2RDRF<var>x</var></samp></span></p></td>
<td><p>1</p></td>
<td><p><span class="html"><samp>2SIO</samp></span> port <span class="html"><samp><var>x</var></samp></span> RDRF status</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>M2TDRE<var>x</var></samp></span></p></td>
<td><p>1</p></td>
<td><p><span class="html"><samp>2SIO</samp></span> port <span class="html"><samp><var>x</var></samp></span> TDRE status</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>M2DCD<var>x</var></samp></span></p></td>
<td><p>1</p></td>
<td><p><span class="html"><samp>2SIO</samp></span> port <span class="html"><samp><var>x</var></samp></span> DCD status (active low)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>M2CTS<var>x</var></samp></span></p></td>
<td><p>1</p></td>
<td><p><span class="html"><samp>2SIO</samp></span> port <span class="html"><samp><var>x</var></samp></span> CTS status (active low)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>M2OVRN<var>x</var></samp></span></p></td>
<td><p>1</p></td>
<td><p><span class="html"><samp>2SIO</samp></span> port <span class="html"><samp><var>x</var></samp></span> OVRN status</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>M2WAIT<var>x</var></samp></span></p></td>
<td><p>32</p></td>
<td><p><span class="html"><samp>2SIO</samp></span> port <span class="html"><samp><var>x</var></samp></span> wait cycles</p></td>
</tr>
</tbody>
</table>
<section id="using-the-m2sio-device-with-serial-ports">
<h4><span class="sectnum">1.4.3.1. </span>Using the <span class="html"><samp>M2SIO</samp></span> device with serial ports<a class="headerlink" href="#using-the-m2sio-device-with-serial-ports" title="Permalink to this heading">¶</a></h4>
<p>It is possible to attach host serial ports to the <span class="html"><samp>M2SIO</samp></span> ports using the <span class="html"><samp><b>ATTACH</b></samp></span> command.
The following example shows how to attach the second 88-2SIO port (<span class="html"><samp>M2SIO1</samp></span>) to a serial port to on a Unix-type platform:</p>
<pre class="literal-block">sim&gt; <strong>set m2sio1 enable</strong>
sim&gt; <strong>attach m2sio1 connect=/dev/cu.USA19H14411P1.1</strong></pre>
<p>The 88-2SIO does not have a DTR modem output.
If you need DTR,
configure the port to have DTR follow RTS with the <span class="html"><samp><b>set m2siox dtr</b></samp></span> command.</p>
<p>The 88-2SIO will not enable the receiver unless DCD is present.
If you need the port to receive without DCD,
configure the port to force DCD to an active low state with the <span class="html"><samp><b>set m2siox dcd</b></samp></span> command.</p>
<p>The 88-2SIO will not enable the transmitter unless RTS is active,
which your software should do.</p>
</section>
<section id="using-the-m2sio-device-with-sockets">
<h4><span class="sectnum">1.4.3.2. </span>Using the <span class="html"><samp>M2SIO</samp></span> device with sockets<a class="headerlink" href="#using-the-m2sio-device-with-sockets" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>M2SIO</samp></span> devices may also be attached to sockets.
The following example show how to attach the second 88-2SIO port to a socket listening on port 8800:</p>
<pre class="literal-block">sim&gt; <strong>set m2sio1 enable</strong>            ; Enable M2SIO1 device
sim&gt; <strong>set m2sio1 dtr</strong>               ; TMXR sockets require DTR
sim&gt; <strong>attach m2sio1 -U :8800</strong>       ; Bind to all interfaces on port 8800</pre>
<p>Now that the simulator is listening on port 8800,
you may connect to the simulator’s 88-2SIO port with <span class="html"><samp><b>telnet</b> <var>ip-address</var> <b>8800</b></samp></span>,
where <span class="html"><samp><var>ip-address</var></samp></span> is the IP address of your computer.</p>
</section>
<section id="m2sio-limitations">
<h4><span class="sectnum">1.4.3.3. </span><span class="html"><samp>M2SIO</samp></span> limitations<a class="headerlink" href="#m2sio-limitations" title="Permalink to this heading">¶</a></h4>
<p>The CP/M utilties <code class="docutils literal notranslate"><span class="pre">R.COM</span></code> and <code class="docutils literal notranslate"><span class="pre">W.COM</span></code> use the <span class="html"><samp>PTP</samp></span> and <span class="html"><samp>PTR</samp></span> devices to transfer files between the simulator and host file system.
If the <span class="html"><samp>M2SIO1</samp></span> device is enabled using the default <code class="docutils literal notranslate"><span class="pre">12H</span></code> port address,
these utilties will no longer work, as the <span class="html"><samp>M2SIO1</samp></span> device replaces the <span class="html"><samp>PTP</samp></span> and <span class="html"><samp>PTR</samp></span> devices.</p>
<p>The <span class="html"><samp>M2SIO</samp></span> device makes it possible to run communications software for CP/M,
such as <code class="docutils literal notranslate"><span class="pre">PCGET/PUT</span></code>, <code class="docutils literal notranslate"><span class="pre">MEX</span></code>, <code class="docutils literal notranslate"><span class="pre">MODEM 7</span></code>, and <code class="docutils literal notranslate"><span class="pre">BYE</span></code> using host serial ports and sockets.
Many of these programs use loops for timeout processing.
For these timeouts to work properly,
it is necessary to use the <span class="html"><samp class="register">CLOCK</samp></span> register to simulate your CPU’s speed.</p>
</section>
</section>
<section id="the-simh-pseudo-device">
<span id="simh"></span><h3><span class="sectnum">1.4.4. </span>The SIMH pseudo-device<a class="headerlink" href="#the-simh-pseudo-device" title="Permalink to this heading">¶</a></h3>
<p>The <span class="html"><samp>SIMH</samp></span> pseudo-device facilitates the communication between the simulated ALTAIR and the simulator environment.
This device defines a number of (mostly read-only) registers
(see source code)
which are primarily useful for debugging purposes.</p>
<p>The <span class="html"><samp>SIMH</samp></span> pseudo-device can be configured with</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET SIMH TIMERON</b></samp></span></p></td>
<td><p>Start periodic timer interrupts</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET SIMH TIMEROFF</b></samp></span></p></td>
<td><p>Stop the periodic timer interrupts</p></td>
</tr>
</tbody>
</table>
<p>The following variables determine the behavior of the timer:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>TIMD</samp></span></p></td>
<td><p>This is the delay between consecutive interrupts in milliseconds.
Use <span class="html"><samp><b>D TIMD 20</b></samp></span> for a 50 Hz clock.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>TIMH</samp></span></p></td>
<td><p>This is the address of the interrupt handler to call for a timer interrupt.</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>SIMH</samp></span> device supports the following debug flags
(set with <span class="html"><samp><b>SET SIMH DEBUG=</b><var>f1</var>{<b>;</b><var>f</var>}</samp></span>,
or <span class="html"><samp><b>SET SIMH DEBUG</b></samp></span> to enable all of them):</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>IN</samp></span></p></td>
<td><p>All <span class="html"><samp>IN</samp></span> operations on the <span class="html"><samp>SIMH</samp></span> port</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>OUT</samp></span></p></td>
<td><p>All <span class="html"><samp>OUT</samp></span> operations on the <span class="html"><samp>SIMH</samp></span> port</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>CMD</samp></span></p></td>
<td><p>All illegal commands</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>VERBOSE</samp></span></p></td>
<td><p>All other warning or error messages</p></td>
</tr>
</tbody>
</table>
</section>
<section id="the-88-disk-controller">
<span id="dsk"></span><h3><span class="sectnum">1.4.5. </span>The 88-DISK controller<a class="headerlink" href="#the-88-disk-controller" title="Permalink to this heading">¶</a></h3>
<p>The MITS 88-DISK is a simple programmed I/O interface to the MITS 8-inch floppy drive,
which was basically a Pertec FD-400 with a power supply and buffer board built-in.
The controller supports neither interrupts nor DMA,
so floppy access required the sustained attention of the CPU.
The standard I/O addresses were <span class="html"><samp>8</samp></span>, <span class="html"><samp>9</samp></span>, and <span class="html"><samp>0x0A</samp></span> (hex),
and we follow the standard.
Details on controlling this hardware are in the <code class="docutils literal notranslate"><span class="pre">altairz80_dsk.c</span></code> source file.</p>
<p>The only difference is that the simulated disks may be larger than the original ones:
The original disk had 77 tracks while the simulated disks support up to 254 tracks
(only relevant for CP/M).
You can change the number of tracks per disk by setting the appropriate value in <code class="docutils literal notranslate"><span class="pre">TRACKS[..]</span></code>.
For example,
<code class="docutils literal notranslate"><span class="pre">D TRACKS[0] 77</span></code> sets the number of tracks for disk 0 to the original number of 77.
The command <code class="docutils literal notranslate"><span class="pre">D TRACKS[0-7] 77</span></code> changes the highest track number for all disks to 77.
The Mini-Disk support was added by Mike Douglas in May 2014.</p>
<p>The <span class="html"><samp>DSK</samp></span> device can be configured with</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET DSK</b><var>n</var> <b>WRTENB</b></samp></span></p></td>
<td><p>Allow write operations for disk <span class="html"><samp><var>n</var></samp></span>.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET DSK</b><var>n</var> <b>WRTLCK</b></samp></span></p></td>
<td><p>Disk <span class="html"><samp><var>n</var></samp></span> is locked; i.e., no write operations will be allowed.</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>DSK</samp></span> device supports the following debug flags
(set with <span class="html"><samp><b>SET DSK DEBUG=</b><var>f1</var>{<b>;</b><var>f</var>}</samp></span>,
or <span class="html"><samp><b>SET DSK DEBUG</b></samp></span> to enable all of them):</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>IN</samp></span></p></td>
<td><p>All <span class="html"><samp>IN</samp></span> operations on the controller port</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>OUT</samp></span></p></td>
<td><p>All <span class="html"><samp>OUT</samp></span> operations on the controller port</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>READ</samp></span></p></td>
<td><p>All read operations of the disk</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>WRITE</samp></span></p></td>
<td><p>All write operations on the disk</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>SECTOR_STUCK</samp></span></p></td>
<td><p>Warn when the controller appears to be stuck searching for a sector</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>TRACK_STUCK</samp></span></p></td>
<td><p>Warn when the controller appears to be stuck searching for a track</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>VERBOSE</samp></span></p></td>
<td><p>All other warning and error messages
(e.g., disk is write-locked, disk is not attached)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="the-88-hdsk-controller">
<span id="mhdsk"></span><h3><span class="sectnum">1.4.6. </span>The 88-HDSK controller<a class="headerlink" href="#the-88-hdsk-controller" title="Permalink to this heading">¶</a></h3>
<p>The 88-HDSK from MITS/Pertec consists of a 5mb removable platter and a fixed 5mb platter.
Each platter is double-sided.
Head 0 and 1 are the top and bottom surface of the removable platter,
and head 2 and 3 are the top and bottom surface of the fixed platter.
Hard disk BASIC treats the two platters as two separate drives.
Each platter has 406 cylinders with 24 sectors per track and 256 bytes per sector.</p>
<p>The disk image file starts with head 0, track 0, sector 0 (0,0,0) through (0,0,23),
followed by head 1, track 0, sector 0 (1,0,0) through (1,0,23).
The pattern then repeats starting with (0,1,0).
The external hard disk is accessed through eight ports of a 4-PIO card at I/O addresses <span class="html"><samp>A0<var>h</var></samp></span>–<span class="html"><samp>A7<var>h</var></samp></span>.
The module was written by Mike Douglas in March 2014 and the disk images were provided by Martin Eberhard.</p>
<p>The <span class="html"><samp>MHDSK</samp></span> device can be configured with</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET MHDSK</b> <var>n</var> <b>WRTENB</b></samp></span></p></td>
<td><p>Allow write operations for hard disk <span class="html"><samp><var>n</var></samp></span>.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET MHDSK</b> <var>n</var> <b>WRTLCK</b></samp></span></p></td>
<td><p>Hard disk <span class="html"><samp><var>n</var></samp></span> is locked; i.e., no write operations will be allowed.</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>MHDSK</samp></span> device supports the following debug flags
(set with <span class="html"><samp><b>SET MHDSK DEBUG=</b><var>f1</var>{<b>;</b><var>f</var>}</samp></span>,
or <span class="html"><samp><b>SET MHDSK DEBUG</b></samp></span> to enable all of them):</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>READ</samp></span></p></td>
<td><p>All read operations of the disk</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>WRITE</samp></span></p></td>
<td><p>All write operations on the disk</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>VERBOSE</samp></span></p></td>
<td><p>All other operations of the disk</p></td>
</tr>
</tbody>
</table>
</section>
<section id="the-simulated-hard-disk">
<span id="hdsk7"></span><span id="hdsk0"></span><span id="hdsk"></span><h3><span class="sectnum">1.4.7. </span>The simulated hard disk<a class="headerlink" href="#the-simulated-hard-disk" title="Permalink to this heading">¶</a></h3>
<p>In order to increase the available storage capacity,
the simulator features 8 simulated hard disks with a capacity of 8MB (<span class="html"><samp>HDSK0</samp></span> to <span class="html"><samp>HDSK7</samp></span>).
Currently, only CP/M supports two hard disks as devices <code class="docutils literal notranslate"><span class="pre">I:</span></code> and <code class="docutils literal notranslate"><span class="pre">J:</span></code>.</p>
<p>The <span class="html"><samp>HDSK</samp></span> device can be configured with</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET HDSK</b><var>n</var> <b>WRTENB</b></samp></span></p></td>
<td><p>Allow write operations for hard disk <span class="html"><samp><var>n</var></samp></span>.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET HDSK</b><var>n</var> <b>WRTLCK</b></samp></span></p></td>
<td><p>Hard disk <span class="html"><samp><var>n</var></samp></span> is locked; i.e., no write operations will be allowed.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET HDSK</b><var>n</var> <b>FORMAT=</b><var>value</var></samp></span><a class="footnote-reference brackets" href="#id11" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a></p></td>
<td><p>Set the hard disk to <span class="html"><samp><var>value</var></samp></span>.
Possible values are</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">HDSK</span></code></p></td>
<td><p>Standard simulated AltairZ80 hard disk with 8192 kB capacity</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CPM68K</span></code></p></td>
<td><p>Simulated hard drive 16384 kB capacity for CP/M-68K</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EZ80FL</span></code></p></td>
<td><p>128 kB flash</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">P112</span></code></p></td>
<td><p>1440 kB P112</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SU720</span></code></p></td>
<td><p>720 kB Super I/O</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OSB1</span></code></p></td>
<td><p>100 kB Osborne 1 5.25″ single-side single-density</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">OSB2</span></code></p></td>
<td><p>200 kB Osborne 1 5.25″ single-side dual-density</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NSSS1</span></code></p></td>
<td><p>175 kB Northstar single-side dual-density format 1</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">NSSS2</span></code></p></td>
<td><p>175 kB Northstar single-side dual-density format 2</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NSDS2</span></code></p></td>
<td><p>350 kB Northstar dual-side dual-density format 2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">VGSS</span></code></p></td>
<td><p>308 kB Vector single-side single-density</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VGDS</span></code></p></td>
<td><p>616 kB Vector dual-side single-density</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DISK1A</span></code></p></td>
<td><p>616 kB CompuPro Disk1A single-side single-density</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SSSD8</span></code></p></td>
<td><p>Standard 8″ single-side single-density floppy disk with 77 tracks of 26 sectors with 128 bytes;
i.e., 256 kB capacity, no skew</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SSSD8S</span></code></p></td>
<td><p>Standard 8″ single-side single-density floppy disk with 77 tracks of 26 sectors with 128 bytes;
i.e., 256 kB capacity, standard skew factor 6</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SSDD8</span></code></p></td>
<td><p>Standard 8″ single-side double-density floppy disk with 77 tracks of 26 sectors with 256 bytes;
i.e., 512 kB capacity, no skew</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SSDD8S</span></code></p></td>
<td><p>Standard 8″ single-side double-density floppy disk with 77 tracks of 26 sectors with 256 bytes;
i.e., 512 kB capacity, standard skew factor 6</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DSDD8</span></code></p></td>
<td><p>Standard 8″ double-side double-density floppy disk with 77 tracks of 26 sectors with 512 bytes;
i.e., 1025 kB capacity, no skew</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DSDD8S</span></code></p></td>
<td><p>Standard 8″ double-side double-density floppy disk with 77 tracks of 26 sectors with 512 bytes;
i.e., 1025 kB capacity, standard skew factor 6</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">512SSDD8</span></code></p></td>
<td><p>Standard 8″ single-side double-density floppy disk with 77 tracks of 15 sectors with 512 bytes;
i.e., 591 kB capacity, no skew</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">512DSDD8</span></code></p></td>
<td><p>Standard 8″ double-side double-density floppy disk with 77 tracks of 15 sectors with 512 bytes;
i.e., 1183 kB capacity, no skew</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">APPLE-DO</span></code></p></td>
<td><p>140 kB, Apple II, DOS 3.3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">APPLE-PO</span></code></p></td>
<td><p>140 kB, Apple II, PRODOS</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">APPLE-D2</span></code></p></td>
<td><p>140 kB, Apple II, DOS 3.3, 128-byte sectors for CP/M 2<a class="footnote-reference brackets" href="#id10" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">APPLE-P2</span></code></p></td>
<td><p>140 kB, Apple II, PRODOS, 128-byte sectors for CP/M 2<a class="footnote-reference brackets" href="#id10" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MITS</span></code></p></td>
<td><p>308 kB Altair standard disk with skew</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MITS2</span></code></p></td>
<td><p>1016 kB Altair extended disk with skew</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V1050</span></code></p></td>
<td><p>410 kB, Visual Technology Visual 1050, 512-byte sectors for CP/M 3<a class="footnote-reference brackets" href="#id9" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a></p></td>
</tr>
</tbody>
</table>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id9" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">4</a><span class="fn-bracket">]</span></span>
<p>The CP/M 3 implementation that comes with Altair Z80 automatically adapts to the attached hard disk.
It supports sector sizes of 128 bytes, 256 bytes, and 512 bytes.</p>
</aside>
<aside class="footnote brackets" id="id10" role="note">
<span class="label"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id6">1</a>,<a role="doc-backlink" href="#id7">2</a>)</span>
<p>The CP/M 2 implementation that comes with Altair Z80 can also adapt to all hard disk formats with 128-byte sectors.
You need to set the correct format with this command after attaching a file.</p>
</aside>
<aside class="footnote brackets" id="id11" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">6</a><span class="fn-bracket">]</span></span>
<p>When attaching a file to a hard disk,
the format is guessed based on the size of the file.
In case there is more than one possibility,
you may need to change the format after attaching.</p>
</aside>
</aside>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET HDSK</b><var>n</var> <b>GEOM=</b><var>t</var><b>/</b><var>s</var><b>/</b><var>l</var></samp></span></p></td>
<td><p>Set the hard disk geometry to <span class="html"><samp><var>t</var></samp></span> tracks with <span class="html"><samp><var>s</var></samp></span> sectors with sector length <span class="html"><samp><var>l</var></samp></span>.
Alternatively, you can also use <span class="html"><samp><b>GEOM=T:</b><var>t</var><b>/N:</b><var>s</var><b>/S:</b><var>s</var></samp></span>.</p></td>
</tr>
</tbody>
</table>
<p>Note that the <span class="html"><samp><b>ATTACH</b></samp></span> command will choose the correct format based on the size of the attached file.
In case the file does not yet exist,
it is created and the <span class="html"><samp>HDSK</samp></span> format will be used with the currently set capacity.</p>
<p>The <span class="html"><samp>HDSK</samp></span> device supports the following debug flags
(set with <span class="html"><samp><b>SET HDSK DEBUG=</b><var>f1</var>{<b>;</b><var>f</var>}</samp></span>,
or <span class="html"><samp><b>SET HDSK DEBUG</b></samp></span> to enable all of them):</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>READ</samp></span></p></td>
<td><p>All read operations of the disk</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>WRITE</samp></span></p></td>
<td><p>All write operations on the disk</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>VERBOSE</samp></span></p></td>
<td><p>All other warning and error messages
(e.g., disk is write-locked, disk is not attached)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="the-simulated-network">
<span id="net"></span><h3><span class="sectnum">1.4.8. </span>The simulated network<a class="headerlink" href="#the-simulated-network" title="Permalink to this heading">¶</a></h3>
<p>The simulator supports networking via sockets (TCP/IP) for simulating operating systems such as <a class="reference internal" href="#cp-net">CP/NET</a> and <a class="reference internal" href="#cpnos">CPNOS</a> which require at least two machines connected by a network.</p>
<p>The <span class="html"><samp>NET</samp></span> device can be configured with</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><b>SET NET CLIENT</b></samp></span></p></td>
<td><p>Puts this machine into client mode.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>SET NET SERVER</b></samp></span></p></td>
<td><p>Puts this machine into server mode.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>ATTACH NET</b> <var>IP-addr</var><b>:</b><var>port</var></samp></span></p></td>
<td><p>Attaches the machine to the given IP address and listening on the specified port.
The IP address is given in <code class="docutils literal notranslate"><span class="pre">a.b.c.d</span></code> format (<span class="math notranslate nohighlight">\(0 \leq a, b, c, d \leq 255\)</span>).
A typical example is <span class="html"><samp>ATTACH NET 127.0.0.1:4000</samp></span>,
which attaches to the local host at port 4000.
Note that certain “small” port numbers might require special permissions.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>DETACH NET</b></samp></span></p></td>
<td><p>Detaches the machine from the network.</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>NET</samp></span> device supports the following debug flags
(set with <span class="html"><samp><b>SET NET DEBUG=</b><var>f1</var>{<b>;</b><var>f</var>}</samp></span>,
or <span class="html"><samp><b>SET NET DEBUG</b></samp></span> to enable all of them):</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>ACCEPT</samp></span></p></td>
<td><p>Show a message when a connection is accepted</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>DROP</samp></span></p></td>
<td><p>Show a message when a connection is dropped</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>IN</samp></span></p></td>
<td><p>Show all data received from the network</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>OUT</samp></span></p></td>
<td><p>Show all data transmitted to the network</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="sample-software">
<h2><span class="sectnum">1.5. </span>Sample software<a class="headerlink" href="#sample-software" title="Permalink to this heading">¶</a></h2>
<p>Running an Altair in 1977,
you would be running either MITS Disk Extended BASIC,
or the brand new and sexy CP/M Operating System from Digital Research.
Or possibly,
you ordered Altair DOS back when it was promised in 1975,
and are still waiting for it to be delivered in early 1977.</p>
<p>We have samples of all three for you to check out.
We can’t go into the details of how they work,
but we’ll give you a few hints.</p>
<section id="cp-m-version-2-2">
<h3><span class="sectnum">1.5.1. </span>CP/M version 2.2<a class="headerlink" href="#cp-m-version-2-2" title="Permalink to this heading">¶</a></h3>
<p>This version is my own port of the standard CP/M to the Altair.
There were some “official” versions but I don’t have them.
None were endorsed or sold by MITS to my knowledge, however.</p>
<p>To boot CP/M:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sim</span><span class="o">&gt;</span> <span class="n">attach</span> <span class="n">dsk</span> <span class="n">cpm2</span><span class="o">.</span><span class="n">dsk</span>
<span class="n">sim</span><span class="o">&gt;</span> <span class="n">boot</span> <span class="n">dsk</span>
</pre></div>
</div>
<p>CP/M feels like DOS,
sort of.
<span class="html"><samp class="command">DIR</samp></span> will work.
I have included all the standard CP/M utilities,
plus a few common public-domain ones.
I also include the sources to the customized BIOS and some other small programs.
<span class="html"><samp class="command">TYPE</samp></span> will print an ASCII file.
<span class="html"><samp class="command">DUMP</samp></span> will dump a binary one.
<span class="html"><samp class="command">LS</samp></span> is a better <span class="html"><samp class="command">DIR</samp></span> than <span class="html"><samp class="command">DIR</samp></span>.
<span class="html"><samp class="command">ASM</samp></span> will assemble <code class="docutils literal notranslate"><span class="pre">.ASM</span></code> files to hex,
<span class="html"><samp class="command">LOAD</samp></span> will “load” them to binary format (<code class="docutils literal notranslate"><span class="pre">.COM</span></code>).
<span class="html"><samp class="command">ED</samp></span> is a simple editor,
<span class="html"><samp>#A</samp></span> command will bring the source file to the buffer,
<span class="html"><samp>T</samp></span> command will “type” lines,
<span class="html"><samp>L</samp></span> will move lines,
<span class="html"><samp>E</samp></span> exits the editor.
<span class="html"><samp>20L20T</samp></span> will move down 20 lines, and type <code class="docutils literal notranslate"><span class="pre">20</span></code>.
Very DECish.
<span class="html"><samp class="command">DDT</samp></span> is the debugger,
<span class="html"><samp class="command">DO</samp></span> is a batch-type command processor.
A sample batch file that will assemble and write out the bootable CP/M image
(on drive A)
is <code class="docutils literal notranslate"><span class="pre">SYSCPM2.SUB</span></code>.
To run it,
type <span class="html"><samp><b>DO SYSCPM2</b></samp></span>.</p>
<p>In order to efficiently transfer files into the CP/M environment,
use the included program <span class="html"><samp><b>R <var>filename.ext</var></b></samp></span>.
If you have a file named <code class="docutils literal notranslate"><span class="pre">foo.ext</span></code> in the current directory
(i.e., the directory where SIMH is),
executing <span class="html"><samp>R FOO.EXT</samp></span> under CP/M will transfer the file onto the CP/M disk.
Transferring a file from the CP/M environment to the SIMH environment is accomplished by <span class="html"><samp><b>W</b> <var>filename.ext</var></samp></span> for text files or by <span class="html"><samp><b>W</b> <var>filename.ext</var> <b>B</b></samp></span> for binary files.
The simplest way for transferring multiple files is to create a <code class="docutils literal notranslate"><span class="pre">.SUB</span></code> batch file which contains the necessary <span class="html"><samp>R</samp></span> resp. <span class="html"><samp>W</samp></span> commands.</p>
<p>If you need more storage space,
you can use a simulated hard disk on drives <code class="docutils literal notranslate"><span class="pre">I:</span></code> and <code class="docutils literal notranslate"><span class="pre">J:</span></code>.
To use, do <span class="html"><samp>attach HDSK0 hdi.dsk</samp></span> and issue the <span class="html"><samp>XFORMAT I:</samp></span> resp. <span class="html"><samp>XFORMAT J:</samp></span> command from CP/M do initialize the disk to an empty state.</p>
<p>The disk <code class="docutils literal notranslate"><span class="pre">cpm2.dsk</span></code> contains the following files:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Ext</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ASM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>8K</p></td>
<td><p>CP/M assembler</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BDOS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>66K</p></td>
<td><p>Basic Disk Operating System assembler source code</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BOOT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Transfer control to boot ROM</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BOOT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>2K</p></td>
<td><p>Source for <code class="docutils literal notranslate"><span class="pre">BOOT.COM</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BOOTGEN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Put a program on the boot sectors</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CBIOSX</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>48K</p></td>
<td><p>CP/M 2 BIOS source for Altair</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CCP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>26K</p></td>
<td><p>Console Command Processor assembler source code,
original Digital Research</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CCPZ</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>50K</p></td>
<td><p>Console Command Processor assembler source code,
Z80 replacement with some extra features</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CCPZ</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.TXT</span></code></p></td>
<td><p>40K</p></td>
<td><p>Documentation for CCPZ</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CFGCCP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.LIB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Configuration file for system generation, original CCP</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CFGCCPZ</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.LIB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Configuration file for system generation, with CCPZ</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">COPY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Copy disks</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CPU</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Get and set the CPU type (8080 or Z80)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CPU</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>2K</p></td>
<td><p>Source for <code class="docutils literal notranslate"><span class="pre">CPU.COM</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CREF80</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Cross-reference utility</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DDT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>6K</p></td>
<td><p>8080 debugger</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DDTZ</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>10K</p></td>
<td><p>Z80 debugger</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DIF</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Determine differences between two files</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DO</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Batch processing with SuperSub (<code class="docutils literal notranslate"><span class="pre">SUBMIT.COM</span></code> replacement)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DSKBOOT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>8K</p></td>
<td><p>Source for boot ROM</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DUMP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Hex dump a file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>8K</p></td>
<td><p>Line editor</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ELIZA</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.BAS</span></code></p></td>
<td><p>10K</p></td>
<td><p>Eliza game in Basic</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EX</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>48K</p></td>
<td><p>Source for <code class="docutils literal notranslate"><span class="pre">EX8080.COM</span></code>, <code class="docutils literal notranslate"><span class="pre">EXZ80DOC.COM</span></code>, <code class="docutils literal notranslate"><span class="pre">EXZ80ALL.COM</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">EX</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SUB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Benchmark execution of <code class="docutils literal notranslate"><span class="pre">EX8080.COM</span></code>, <code class="docutils literal notranslate"><span class="pre">EXZ80DOC.COM</span></code>, <code class="docutils literal notranslate"><span class="pre">EXZ80ALL.COM</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EX8080</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>12K</p></td>
<td><p>Exercise 8080 instruction set</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">EXZ80ALL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>12K</p></td>
<td><p>Exercise Z80 instruction set,
undefined status bits taken into account</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EXZ80DOC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>12K</p></td>
<td><p>Exercise Z80 instruction set,
no undefined status bits taken into account</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FORMAT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Format disks</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">GO</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>0K</p></td>
<td><p>Start the currently-loaded program at <span class="html"><samp>100H</samp></span></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HALT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Execute the <span class="html"><samp>HALT</samp></span> operation for returning to the <code class="docutils literal notranslate"><span class="pre">sim&gt;</span></code> command prompt —
useful as the last command in a script</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">HDSKBOOT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>6K</p></td>
<td><p>Boot code for hard disk</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">L80</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>12K</p></td>
<td><p>Microsoft linker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LADDER</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>40K</p></td>
<td><p>Game</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LADDER</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.DAT</span></code></p></td>
<td><p>2K</p></td>
<td><p>High score file for <code class="docutils literal notranslate"><span class="pre">LADDER.COM</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LIB80</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>6K</p></td>
<td><p>Library utility</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LOAD</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Load hex files</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Directory utility</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LU</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>20K</p></td>
<td><p>Library utility</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">M80</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>20K</p></td>
<td><p>Microsoft macro assembler</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MBASIC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>24K</p></td>
<td><p>Microsoft Basic interpreter</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SUB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Assemble and link an assembler program</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MCC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SUB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Read, assemble, and link an assembler program</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MCCL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SUB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Assemble, link, and produce listing</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MOVER</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>2K</p></td>
<td><p>Moves operating system in place</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">OTHELLO</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>12K</p></td>
<td><p>Othello (Reversi) game</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PIP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>8K</p></td>
<td><p>Peripheral Interchange Program</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PRELIM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Preliminary CPU tests</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PRELIM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>6K</p></td>
<td><p>Source code for <code class="docutils literal notranslate"><span class="pre">PRELIM.COM</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">R</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Read files from SIMH environment.
Supports wild card expansion on Unix and Windows for reading multiple files.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RSETSIMH</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Reset SIMH interface</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RSETSIMH</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>2K</p></td>
<td><p>Assembler source for <code class="docutils literal notranslate"><span class="pre">RSETSIMH.COM</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SHOWSEC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Show sectors on a disk</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SID</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>8K</p></td>
<td><p>Debugger for 8080</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SPEED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Utility to measure the clock speed of the simulated CPU</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STAT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>6K</p></td>
<td><p>Provide information about currently logged disks</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SUBMIT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Batch processing</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SURVEY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>System survey</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SURVEY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>16K</p></td>
<td><p>Assembler source for <code class="docutils literal notranslate"><span class="pre">SURVEY.COM</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SYSCOPY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Copy system tracks between disks</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SYSCPM2</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SUB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Create CP/M 2 on drive <code class="docutils literal notranslate"><span class="pre">A:</span></code>, Digital Research CCP and BDOS</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SYSCPM2Z</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SUB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Create CP/M 2 on drive <code class="docutils literal notranslate"><span class="pre">A:</span></code>, CCPZ and Digital Research BDOS</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIMER</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Perform various timer operations</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIMER</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>2K</p></td>
<td><p>Source code for <code class="docutils literal notranslate"><span class="pre">TIMER.COM</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">UNCR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>8K</p></td>
<td><p>Un-crunch utility</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">UNERA</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Un-erase a file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">UNERA</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>16K</p></td>
<td><p>Source for <code class="docutils literal notranslate"><span class="pre">UNERA.COM</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">USQ</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Un-squeeze utility</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">W</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Write files to SIMH environment.
Supports CP/M wild card expansion for writing multiple files.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>12K</p></td>
<td><p>Word Master screen editor</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.HLP</span></code></p></td>
<td><p>4K</p></td>
<td><p>Help file for <code class="docutils literal notranslate"><span class="pre">WM.COM</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WORM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Worm game for VT100 terminal</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">XFORMAT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Initialize a drive
(floppy or hard disk)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XSUB</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Support for <code class="docutils literal notranslate"><span class="pre">DO.COM</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ZAP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>10K</p></td>
<td><p>SuperZap 5.2 disk editor configured for VT100</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ZSID</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>10K</p></td>
<td><p>Debugger for Z80</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ZTRAN4</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Translate 8080 mnemonics into Z80 equivalents</p></td>
</tr>
</tbody>
</table>
</section>
<section id="cp-m-version-3-with-banked-memory">
<h3><span class="sectnum">1.5.2. </span>CP/M version 3 with banked memory<a class="headerlink" href="#cp-m-version-3-with-banked-memory" title="Permalink to this heading">¶</a></h3>
<p>CP/M 3 is the successor to CP/M 2.2.
A customized BIOS (<code class="docutils literal notranslate"><span class="pre">BIOS3.MAC</span></code>) is included to facilitate modification if so desired.
The defaults supplied in <code class="docutils literal notranslate"><span class="pre">GENCPM.DAT</span></code> for system generation can be used.
<code class="docutils literal notranslate"><span class="pre">BOOTGEN.COM</span></code> is used to place the CP/M loader (<code class="docutils literal notranslate"><span class="pre">LDR.COM</span></code>) on the boot tracks of a disk.</p>
<p>Running CP/M 3 with banked memory:</p>
<pre class="literal-block">sim&gt; <strong>attach dsk cpm3.dsk</strong>
sim&gt; <strong>reset cpu</strong>
sim&gt; <strong>set cpu banked</strong>
sim&gt; <strong>set cpu itrap</strong>
sim&gt; <strong>boot dsk</strong></pre>
<p>Executing <span class="html"><samp>DO SYSCPM3</samp></span> will re-generate the banked version of CP/M 3.
You can boot CP/M 3 with or without a Z80 CPU.
The Z80 CPU is needed for both sysgens due to the use of <code class="docutils literal notranslate"><span class="pre">BOOTGEN.COM</span></code> which requires it.</p>
<p>The disk <code class="docutils literal notranslate"><span class="pre">cpm3.dsk</span></code> contains the following files:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Ext</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ASM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>8K</p></td>
<td><p>CP/M assembler</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ASSIGN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SYS</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BDOS3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPR</span></code></p></td>
<td><p>10K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BIOS3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>28K</p></td>
<td><p>CP/M 3 BIOS source for Altair SIMH</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BIOS3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPR</span></code></p></td>
<td><p>4K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BNKBDOS3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPR</span></code></p></td>
<td><p>14K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BNKBIOS3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPR</span></code></p></td>
<td><p>4K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BOOT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Transfer control to boot ROM</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BOOTGEN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Put a program on the boot sectors</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CCP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">COPYSYS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CPM3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SYS</span></code></p></td>
<td><p>18K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CPMLDR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>38K</p></td>
<td><p>CP/M 3 loader assembler source</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DATE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Date utility</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DDT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>6K</p></td>
<td><p>8080 debugger</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DDTZ</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>10K</p></td>
<td><p>Z80 debugger</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DEFS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.LIB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Include file for <code class="docutils literal notranslate"><span class="pre">BIOS3.MAC</span></code> to create banked CP/M 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DEVICE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>8K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DIF</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Determine differences between two files</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DIR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>16K</p></td>
<td><p>Directory utility</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DO</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>6K</p></td>
<td><p>Batch processing (<code class="docutils literal notranslate"><span class="pre">SUBMIT.COM</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DUMP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>10K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ERASE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">GENCOM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>16K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">GENCPM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>22K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">GENCPM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.DAT</span></code></p></td>
<td><p>4K</p></td>
<td><p>CP/M generation information for banked version</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">GENCPMNB</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.DAT</span></code></p></td>
<td><p>4K</p></td>
<td><p>CP/M generation information for non-banked version</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">GET</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>8K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">HELP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>8K</p></td>
<td><p>Help utility</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HELP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.HLP</span></code></p></td>
<td><p>62K</p></td>
<td><p>Help files</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">HEXCOM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.CPM</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HIST</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.UTL</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INITDIR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>32K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">L80</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>12K</p></td>
<td><p>Microsoft linker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LDR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>CP/M loader with optimized loader BIOS</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LDRBIOS3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>14K</p></td>
<td><p>Optimized (for space) loader BIOS</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LIB</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>8K</p></td>
<td><p>Digital Research librarian</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LINK</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>16K</p></td>
<td><p>Digital Research linker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LOAD</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">M80</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>20K</p></td>
<td><p>Microsoft macro assembler</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SUB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Assemble and link an assembler program</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MCC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SUB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Read, assemble, and link an assembler program</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PATCH</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PIP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>10K</p></td>
<td><p>Peripheral Interchange Program</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PROFILE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SUB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Commands to be executed at startup</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PUT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>8K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">R</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Read files from SIMH environment</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RENAME</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RESBDOS3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPR</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RMAC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>14K</p></td>
<td><p>Digital Research macro assembler</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RSETSIMH</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Reset SIMH interface</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SAVE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SCB</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>12K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SETDEF</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>6K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SHOW</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>10K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SHOWSEC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Show sectors on a disk</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SID</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>8K</p></td>
<td><p>8080 debugger</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SUBMIT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>6K</p></td>
<td><p>Batch processing</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SYSCOPY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Copy system tracks between disks</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SYSCPM3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SUB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Create banked CP/M 3 system</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TRACE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.UTL</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TSHOW</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Show split time</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TSTART</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Create timer and start it</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TSTOP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Show final time and stop timer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TYPE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">UNERA</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Un-erase a file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">W</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Write files to SIMH environment</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XREF</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>16K</p></td>
<td><p>Cross-reference utility</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ZSID</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>10K</p></td>
<td><p>Z80 debugger</p></td>
</tr>
</tbody>
</table>
</section>
<section id="mp-m-ii-with-banked-memory">
<h3><span class="sectnum">1.5.3. </span>MP/M II with banked memory<a class="headerlink" href="#mp-m-ii-with-banked-memory" title="Permalink to this heading">¶</a></h3>
<p>MP/M II is an acronym for MultiProgramming Monitor Control Program for Microprocessors.
It is a multi-user operating system for an 8-bit microcomputer.
MP/M II supports multiprogramming at each terminal.
This version supports four terminals available via Telnet.
To boot:</p>
<pre class="literal-block">sim&gt; <strong>attach dsk mpm.dsk</strong>
sim&gt; <strong>set cpu itrap</strong>
sim&gt; <strong>set cpu z80</strong>
sim&gt; <strong>set cpu altairrom</strong>
sim&gt; <strong>set cpu banked</strong>
sim&gt; <strong>attach sio 23</strong>
sim&gt; <strong>d common b000</strong>
sim&gt; <strong>boot dsk</strong></pre>
<p>Now connect a Telnet session to the simulator and type <code class="docutils literal notranslate"><span class="pre">MPM</span></code> at the <code class="docutils literal notranslate"><span class="pre">A&gt;</span></code> prompt.
Now you can connect up to three additional terminals via Telnet to the Altair running MP/M II.
To re-generate the system, perform <span class="html"><samp><b>DO SYSMPM</b></samp></span> in the CP/M environment
(not possible under MP/M since XSUB is needed).</p>
<p>The disk <code class="docutils literal notranslate"><span class="pre">mpm.dsk</span></code> contains the following files:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Ext</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ABORT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>2K</p></td>
<td><p>Abort a process</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ABORT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.RSP</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ASM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>10K</p></td>
<td><p>MP/M assembler</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BNKBDOS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPR</span></code></p></td>
<td><p>12K</p></td>
<td><p>Banked BDOS</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BNKXDOS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPR</span></code></p></td>
<td><p>2K</p></td>
<td><p>Banked XDOS</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BNKXIOS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPR</span></code></p></td>
<td><p>4K</p></td>
<td><p>Banked XIOS</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BOOTGEN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Copy an executable to the boot section</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONSOLE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>2K</p></td>
<td><p>Print console number</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CPM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Return to CP/M</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CPM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>2K</p></td>
<td><p>Source for <code class="docutils literal notranslate"><span class="pre">CPM.COM</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DDT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>6K</p></td>
<td><p>MP/M DDT</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DDT2</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>6K</p></td>
<td><p>CP/M DDT</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DDTZ</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>10K</p></td>
<td><p>CP/M DDT with Z80 support</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DIF</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Difference between two files</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DIR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>2K</p></td>
<td><p>Directory command</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DO</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Batch processing (<code class="docutils literal notranslate"><span class="pre">SUBMIT.COM</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DSKRESET</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>2K</p></td>
<td><p>Disk reset command</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DUMP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>6K</p></td>
<td><p>Source for <code class="docutils literal notranslate"><span class="pre">DUMP.PRL</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DUMP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>2K</p></td>
<td><p>Dump command</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>10K</p></td>
<td><p>MP/M line editor</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ERA</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>2K</p></td>
<td><p>Erase command</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ERAQ</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>4K</p></td>
<td><p>Erase command (verbose)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">GENHEX</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">GENMOD</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">GENSYS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>10K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">L80</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>12K</p></td>
<td><p>Microsoft linker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LDRBIOS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>14K</p></td>
<td><p>Loader BIOS</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LIB</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>8K</p></td>
<td><p>Library utility</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LINK</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>16K</p></td>
<td><p>Linker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LOAD</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Loader</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">M80</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>20K</p></td>
<td><p>Microsoft macro assembler</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SUB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Assemble and link an assembler program</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MCC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SUB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Read, assemble, and link an assembler program</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MPM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>8K</p></td>
<td><p>Start MP/M II</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MPM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SYS</span></code></p></td>
<td><p>26K</p></td>
<td><p>MP/M system file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MPMD</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.LIB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Define a banked system</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MPMLDR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>6K</p></td>
<td><p>MP/M loader without LDRBIOS</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MPMSTAT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.BRS</span></code></p></td>
<td><p>6K</p></td>
<td><p>Status of MP/M system</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MPMSTAT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>6K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MPMSTAT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.RSP</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MPMXIOS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>26K</p></td>
<td><p>XIOS for MP/M</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PIP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>10K</p></td>
<td><p>MP/M peripheral interchange program</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PIP2</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>8K</p></td>
<td><p>CP/M peripheral interchange program</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PRINTER</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PRLCOM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>4K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">R</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Read a file from the SIMH environment</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RDT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>8K</p></td>
<td><p>Debugger for page relocatable programs</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">REN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>4K</p></td>
<td><p>Rename a file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RESBDOS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPR</span></code></p></td>
<td><p>4K</p></td>
<td><p>Non-banked BDOS</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RMAC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>14K</p></td>
<td><p>Digital Research macro assembler</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RSETSIMH</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Reset SIMH interface</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SCHED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.BRS</span></code></p></td>
<td><p>2K</p></td>
<td><p>Schedule a job</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SCHED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>4K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SCHED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.RSP</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SDIR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>18K</p></td>
<td><p>Fancy directory command</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SET</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>8K</p></td>
<td><p>Set parameters</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SHOW</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>8K</p></td>
<td><p>Show status of disks</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SPOOL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.BRS</span></code></p></td>
<td><p>4K</p></td>
<td><p>Spool utility</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SPOOL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>4K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SPOOL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.RSP</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STAT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>6K</p></td>
<td><p>CP/M stat command</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">STAT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>10K</p></td>
<td><p>MP/M stat command</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">STOPSPLR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>2K</p></td>
<td><p>Stop spooler</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SUBMIT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>6K</p></td>
<td><p>MP/M submit</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SYSCOPY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Copy system tracks</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SYSMPM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SUB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Do a system generation</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SYSTEM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.DAT</span></code></p></td>
<td><p>2K</p></td>
<td><p>Default values for system generation</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TMP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPR</span></code></p></td>
<td><p>2K</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TOD</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>4K</p></td>
<td><p>Time of day</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TSHOW</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Show split time</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TSTART</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Create timer and start it</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TSTOP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Show final time and stop timer</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TYPE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>2K</p></td>
<td><p>Type a file on the screen</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">USER</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRL</span></code></p></td>
<td><p>2K</p></td>
<td><p>Set user area</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">W</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Write a file to SIMH environment</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XDOS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPR</span></code></p></td>
<td><p>10K</p></td>
<td><p>XDOS</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">XREF</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>16K</p></td>
<td><p>Cross-reference utility</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XSUB</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>For CP/M <code class="docutils literal notranslate"><span class="pre">DO</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="cp-net">
<h3><span class="sectnum">1.5.4. </span>CP/NET<a class="headerlink" href="#cp-net" title="Permalink to this heading">¶</a></h3>
<p>This software is included as part of the archive <code class="docutils literal notranslate"><span class="pre">cpnet.zip</span></code>.
To bring up the server component:</p>
<pre class="literal-block">sim&gt; <strong>attach dsk cpnetserver.dsk</strong>
sim&gt; <strong>d common ab00</strong>
sim&gt; <strong>set cpu   64k</strong>
sim&gt; <strong>set cpu itrap</strong>
sim&gt; <strong>set cpu z80</strong>
sim&gt; <strong>set cpu altairrom</strong>
sim&gt; <strong>set cpu banked</strong>
sim&gt; <strong>set simh timeroff</strong>
sim&gt; <strong>attach sio 23</strong>
sim&gt; <strong>set net server</strong>
sim&gt; <strong>at net 127.0.0.1:4000</strong>
sim&gt; <strong>boot dsk</strong></pre>
<p>You can also execute <span class="html"><samp><b>AltairZ80 cpnetserver</b></samp></span> for the same effect,
or type <span class="html"><samp><b>do cpnetserver</b><kbd>return</kbd></samp></span> at the <code class="docutils literal notranslate"><span class="pre">sim&gt;</span></code> command prompt.
Then connect via Telnet
(<span class="html"><samp><b>telnet 127.0.0.1</b></samp></span> or <span class="html"><samp><b>telnet localhost</b></samp></span>)
to the simulator and type <span class="html"><samp><b>mpm</b> <kbd>return</kbd></samp></span> at the <code class="docutils literal notranslate"><span class="pre">A&gt;</span></code> command prompt to start the MP/M CP/NET server.</p>
<p>To bring up a client,
start another instance of AltairZ80 and type the following at the command prompt:</p>
<pre class="literal-block">sim&gt; <strong>attach dsk cpnetclient.dsk</strong>
sim&gt; <strong>set cpu 64k</strong>
sim&gt; <strong>set cpu noitrap</strong>
sim&gt; <strong>set cpu z80</strong>
sim&gt; <strong>set cpu altairrom</strong>
sim&gt; <strong>set cpu nonbanked</strong>
sim&gt; <strong>reset cpu</strong>
sim&gt; <strong>set sio ansi</strong>
sim&gt; <strong>set net client</strong>
sim&gt; <strong>at net 127.0.0.1:4000</strong>
sim&gt; <strong>boot dsk</strong></pre>
<p>You can also execute <span class="html"><samp><b>AltairZ80 cpnetclient</b></samp></span> for the same effect,
or type <span class="html"><samp><b>do cpnetclient</b><kbd>return</kbd></samp></span> at the <code class="docutils literal notranslate"><span class="pre">sim&gt;</span></code> command prompt.
Then:</p>
<pre class="literal-block">A&gt;<strong>cpnetldr</strong>&lt;return&gt;     ; Loads CP/NET client
A&gt;<strong>login</strong>&lt;return&gt;        ; To login
A&gt;<strong>network b:=a:</strong>        ; To map server drive A: to client drive B:
A&gt;<strong>dir b:</strong>               ; Shows the contents of the server drive A:</pre>
<p>The MP/M server is configured to accept one or two network clients.
So you can repeat the previous procedure for a second client if you wish.</p>
<p>Note that all system-specific sources
(<code class="docutils literal notranslate"><span class="pre">SNIOS.MAC</span></code>, <code class="docutils literal notranslate"><span class="pre">NETWRKIF.MAC</span></code>, <code class="docutils literal notranslate"><span class="pre">MPMXIOS.MAC</span></code>)
are included on <code class="docutils literal notranslate"><span class="pre">cpnetclient.dsk</span></code> respectively <code class="docutils literal notranslate"><span class="pre">cpnetserver.dsk</span></code>.
When executing <span class="html"><samp class="command">GENSYS</samp></span> for re-creating MP/M,
keep in mind to include <code class="docutils literal notranslate"><span class="pre">SERVER.RSP</span></code> and <code class="docutils literal notranslate"><span class="pre">NETWRKIF.RSP</span></code> as this is not automatically suggested by <span class="html"><samp class="command">GENSYS</samp></span>.</p>
</section>
<section id="cpnos">
<h3><span class="sectnum">1.5.5. </span>CPNOS<a class="headerlink" href="#cpnos" title="Permalink to this heading">¶</a></h3>
<p>CPNOS is a thin client front-end for the CP/NET server.
This software is also included as part of the archive <code class="docutils literal notranslate"><span class="pre">cpnet.zip</span></code>.
In order to execute,
first bring up a CP/NET server as described in <a class="reference external" href="CP/NET">the previous section</a>.
Then for the client,
start another instance of AltairZ80:</p>
<pre class="literal-block">sim&gt; <strong>set cpu 64k</strong>
sim&gt; <strong>set cpu noitrap</strong>
sim&gt; <strong>set cpu z80</strong>
sim&gt; <strong>set cpu noaltairrom</strong>
sim&gt; <strong>set cpu nonbanked</strong>
sim&gt; <strong>reset cpu</strong>
sim&gt; <strong>set sio ansi</strong>
sim&gt; <strong>set net client</strong>
sim&gt; <strong>at net 127.0.0.1:4000</strong>
sim&gt; <strong>load cpnos.com f000</strong>
sim&gt; <strong>g f000</strong></pre>
<p>For the same effect,
you can also execute <span class="html"><samp><b>AltairZ80 cpnos</b></samp></span> or type <span class="html"><samp><b>do cpnos</b><kbd>return</kbd></samp></span> at the <code class="docutils literal notranslate"><span class="pre">sim&gt;</span></code> command prompt.
At the <code class="docutils literal notranslate"><span class="pre">LOGIN=</span></code> prompt,
just type <span class="html"><kbd>return</kbd></span> and you will see the familiar <code class="docutils literal notranslate"><span class="pre">A&gt;</span></code> prompt,
but the drive is the A: drive of the MP/M CP/NET server
(you can also attach other disks to the server and they will become available to the CPNOS client).
You can also connect a second CPNOS client to the same CP/NET server —
further connection attempts will block after logging in until another CPNOS client is disconnected
(e.g., by typing <code class="docutils literal notranslate"><span class="pre">^E</span></code> to stop the simulator and then typing <span class="html"><samp><b>bye</b><kbd>return</kbd></samp></span> at the SIMH command prompt).
It is also possible to have both a CP/NET client and a CPNOS thin client connect to the same CP/NET server.</p>
<p>Note that all system-specific sources
(<code class="docutils literal notranslate"><span class="pre">CPBIOS.MAC</span></code> and <code class="docutils literal notranslate"><span class="pre">CPNIOS.MAC</span></code>)
are included on <code class="docutils literal notranslate"><span class="pre">cpnetclient.dsk</span></code>.</p>
</section>
<section id="cp-m-application-software">
<h3><span class="sectnum">1.5.6. </span>CP/M application software<a class="headerlink" href="#cp-m-application-software" title="Permalink to this heading">¶</a></h3>
<p>There is also a small collection of sample application software containing the following items:</p>
<dl class="field-list simple">
<dt class="field-odd">SPL<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Small Programming Language with a suite of sample programs</p>
</dd>
<dt class="field-even">PROLOGZ<span class="colon">:</span></dt>
<dd class="field-even"><p>A Prolog interpreter written in SPL with sources</p>
</dd>
<dt class="field-odd">PASCFORM<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Pascal pretty-printer written in Pascal</p>
</dd>
<dt class="field-even">Pascal MT+<span class="colon">:</span></dt>
<dd class="field-even"><p>Pascal language system needed to compile <code class="docutils literal notranslate"><span class="pre">PASCFORM</span></code></p>
</dd>
</dl>
<div class="compound">
<p>The sample software comes on <code class="docutils literal notranslate"><span class="pre">app.dsk</span></code>,
and to use it, do</p>
<pre class="literal-block">sim&gt; <strong>attach dsk1 app.dsk</strong></pre>
<p>before booting CP/M.</p>
</div>
<p>The disk <code class="docutils literal notranslate"><span class="pre">app.dsk</span></code> contains the following files:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Ext</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ACKER</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Compute the Ackermann function</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ACKER</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>4K</p></td>
<td><p>Compute the Ackermann function, SPL source</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BOOTGEN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Copy the operating system to the rights sectors and tracks</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BOOTGEN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>6K</p></td>
<td><p>SPL source for <code class="docutils literal notranslate"><span class="pre">BOOTGEN.COM</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">C</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SUB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Batch file for compiling an SPL source file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CALC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRO</span></code></p></td>
<td><p>4K</p></td>
<td><p>Prolog demo program: Calculator</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DIF</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DIF</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>10K</p></td>
<td><p>SPL source for <code class="docutils literal notranslate"><span class="pre">DIF.COM</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FAC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Compute the factorial</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">FAC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>4K</p></td>
<td><p>Compute the factorial, SPL source</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FAMILY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRO</span></code></p></td>
<td><p>4K</p></td>
<td><p>Prolog demo program: Family relations</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">FORMEL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Calculator</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FORMEL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>6K</p></td>
<td><p>Calculator, SPL source</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INTEGER</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRO</span></code></p></td>
<td><p>2K</p></td>
<td><p>Prolog demo program: Integer arithmetic</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">KNAKE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRO</span></code></p></td>
<td><p>2K</p></td>
<td><p>Prolog demo program: Logic puzzle</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LINKMT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>12K</p></td>
<td><p>Pascal MT+ 5.5 linker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MTERRS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.TXT</span></code></p></td>
<td><p>6K</p></td>
<td><p>Pascal MT+ error messages</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MTPLUS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.000</span></code></p></td>
<td><p>14K</p></td>
<td><p>Pascal MT+ 5.5 compiler file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MTPLUS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.001</span></code></p></td>
<td><p>12K</p></td>
<td><p>Pascal MT+ 5.5 compiler file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MTPLUS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.002</span></code></p></td>
<td><p>8K</p></td>
<td><p>Pascal MT+ 5.5 compiler file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MTPLUS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.003</span></code></p></td>
<td><p>8K</p></td>
<td><p>Pascal MT+ 5.5 compiler file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MTPLUS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.004</span></code></p></td>
<td><p>18K</p></td>
<td><p>Pascal MT+ 5.5 compiler file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MTPLUS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.005</span></code></p></td>
<td><p>8K</p></td>
<td><p>Pascal MT+ 5.5 compiler file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MTPLUS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.006</span></code></p></td>
<td><p>6K</p></td>
<td><p>Pascal MT+ 5.5 compiler file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MTPLUS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>36K</p></td>
<td><p>Pascal MT+ 5.5 compiler</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PASCFORM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>36K</p></td>
<td><p>Pascal formatter</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PASCFORM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PAS</span></code></p></td>
<td><p>54K</p></td>
<td><p>Pascal formatter source code</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PASCFORM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SUB</span></code></p></td>
<td><p>2K</p></td>
<td><p>Create Pascal formatter</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PASLIB</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.ERL</span></code></p></td>
<td><p>24K</p></td>
<td><p>Pascal MT+ 5.5 runtime library</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PINST</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Terminal installation program for <code class="docutils literal notranslate"><span class="pre">PROLOGZ</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PINST</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>16K</p></td>
<td><p>Terminal installation program for <code class="docutils literal notranslate"><span class="pre">PROLOGZ</span></code>, SPL source</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PRIM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Compute prime numbers</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PRIM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>2K</p></td>
<td><p>Compute prime numbers, SPL source</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PROLOGZ</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>16K</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PROLOGZ</span></code> interpreter and screen editor</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PROLOGZ</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>54K</p></td>
<td><p>SPL source for <code class="docutils literal notranslate"><span class="pre">PROLOGZ</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PROLOGZ</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.TXT</span></code></p></td>
<td><p>40K</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PROLOGZ</span></code> documentation in German</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PROLOGZU</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.MAC</span></code></p></td>
<td><p>2K</p></td>
<td><p>Helper functions for <code class="docutils literal notranslate"><span class="pre">PROLOGZ</span></code> in assembler</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">QUEEN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.PRO</span></code></p></td>
<td><p>2K</p></td>
<td><p>Prolog demo program: <em>N</em>-queens problem</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">READ</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Transfer a file from the file system to the CP/M disk;
see also <code class="docutils literal notranslate"><span class="pre">WRITE.COM</span></code>.
Often, the name of this program is abbreviated to <code class="docutils literal notranslate"><span class="pre">R.COM</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">READ</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>10K</p></td>
<td><p>SPL source for <code class="docutils literal notranslate"><span class="pre">READ.COM</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RELDUMP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>4K</p></td>
<td><p>Dump a <code class="docutils literal notranslate"><span class="pre">.REL</span></code> file to the console</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RELDUMP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>10K</p></td>
<td><p>Dump a <code class="docutils literal notranslate"><span class="pre">.REL</span></code> file to the console, SPL source</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SHOWSEC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Show a disk sector</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SHOWSEC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>6K</p></td>
<td><p>SPL source for <code class="docutils literal notranslate"><span class="pre">SHOWSEC.COM</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SIEVE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Compute prime numbers with a sieve</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SIEVE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>6K</p></td>
<td><p>Compute prime numbers with a sieve, SPL source</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SPEED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Utility to measure the clock speed of the simulated CPU</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SPEED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>4K</p></td>
<td><p>SPL source for <code class="docutils literal notranslate"><span class="pre">SPEED.COM</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SPL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>28K</p></td>
<td><p>The SPL compiler itself</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SPL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.TXT</span></code></p></td>
<td><p>50K</p></td>
<td><p>SPL language and compiler documentation</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SPLERROR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.DAT</span></code></p></td>
<td><p>8K</p></td>
<td><p>Error messages of the compiler</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SPLRTLB</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.REL</span></code></p></td>
<td><p>2K</p></td>
<td><p>SPL runtime library</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SYSCOPY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Copy the system tracks between disks</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SYSCOPY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>6K</p></td>
<td><p>SPL source for <code class="docutils literal notranslate"><span class="pre">SYSCOPY.COM</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>6K</p></td>
<td><p>Word count and query facility</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>14K</p></td>
<td><p>Word count and query facility, SPL source</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WRITE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Write a CP/M file to the file system;
see also <code class="docutils literal notranslate"><span class="pre">READ.COM</span></code>.
Often, the name of this program is abbreviated to <code class="docutils literal notranslate"><span class="pre">W.COM</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WRITE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>8K</p></td>
<td><p>SPL source for <code class="docutils literal notranslate"><span class="pre">WRITE.COM</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">XFORMAT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.COM</span></code></p></td>
<td><p>2K</p></td>
<td><p>Format a regular disk or a hard disk</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XFORMAT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.SPL</span></code></p></td>
<td><p>6K</p></td>
<td><p>SPL source for <code class="docutils literal notranslate"><span class="pre">XFORMAT.COM</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="mits-disk-extended-basic-version-4-1">
<h3><span class="sectnum">1.5.7. </span>MITS disk extended BASIC version 4.1<a class="headerlink" href="#mits-disk-extended-basic-version-4-1" title="Permalink to this heading">¶</a></h3>
<p>This was the commonly-used software for serious users of the Altair computer.
It is a powerful (but slow) BASIC with some extended commands to allow it to access and manage the disk.
There was no operating system it ran under.
This software is part of the archive <code class="docutils literal notranslate"><span class="pre">altsw.zip</span></code>.
To boot:</p>
<pre class="literal-block">sim&gt; <strong>set cpu 8080</strong>                ; Z80 will not work
sim&gt; <strong>attach dsk mbasic.dsk</strong>
sim&gt; <strong>set sio upper</strong>
sim&gt; <strong>go ff00</strong>
MEMORY SIZE? [return]
LINEPRINTER? [C return]
HIGHEST DISK NUMBER? [0 return] (0 here = 1 drive system)
NUMBER OF FILES? [3 return]
NUMBER OF RANDOM FILES? [2 return]
44041 BYTES FREE
ALTAIR BASIC REV. 4.1
[DISK EXTENDED VERSION]
COPYRIGHT 1977 BY MITS INC.
OK
[MOUNT 0]
OK
[FILES]</pre>
</section>
<section id="altair-dos-version-1-0">
<h3><span class="sectnum">1.5.8. </span>Altair DOS version 1.0<a class="headerlink" href="#altair-dos-version-1-0" title="Permalink to this heading">¶</a></h3>
<p>This was long promised,
but not delivered until it was almost irrelevant.
A short attempted tour will reveal it to be a dog,
far inferior to CP/M.
This software is part of the archive <code class="docutils literal notranslate"><span class="pre">altsw.zip</span></code>.
To boot:</p>
<pre class="literal-block">sim&gt; <strong>d tracks[0-7] 77</strong>       ; Set to Altair settings
sim&gt; <strong>set cpu altairrom</strong>
sim&gt; <strong>attach dsk altdos.dsk</strong>
sim&gt; <strong>set sio upper</strong>
sim&gt; <strong>go ff00</strong>
MEMORY SIZE? [return]
INTERRUPTS? N [return]
HIGHEST DISK NUMBER? [0 return] (3 here = 4 drive system)
HOW MANY DISK FILES? [3 return]
HOW MANY RANDOM FILES? [2 return]

056449 BYTES AVAILABLE
DOS MONITOR VER 1.0
COPYRIGHT 1977 BY MITS INC
.[MNT 0]

.[DIR 0]</pre>
</section>
<section id="altair-basic-3-2-4k">
<h3><span class="sectnum">1.5.9. </span>Altair Basic 3.2 (4k)<a class="headerlink" href="#altair-basic-3-2-4k" title="Permalink to this heading">¶</a></h3>
<p>In order to run the famous 4k Basic,
use the following commands
(the trick is to get the Switch Register right).
This software is part of the archive <code class="docutils literal notranslate"><span class="pre">altsw.zip</span></code>.
You can also use <span class="html"><samp><b>altairz80 bas432</b></samp></span> to run this version of Basic.
Note that the underscore character (<code class="docutils literal notranslate"><span class="pre">_</span></code>) can be used to cancel the last character entered,
i.e., <span class="html"><samp><b>PRINT 199_8</b></samp></span> will print <code class="docutils literal notranslate"><span class="pre">198</span></code>.</p>
<pre class="literal-block">sim&gt; <strong>set cpu 8080</strong>      ; Note 4k Basic will not run on a Z80 CPU
sim&gt; <strong>set sio upper</strong>     ; 4k Basic does not like lowercase letters as input
sim&gt; <strong>set cpu noitrap</strong>   ; 4k Basic likes to execute non 8080 instructions-ignore
sim&gt; <strong>set sio ansi</strong>      ; 4k Basic produces 8-bit output, strip to seven bits
sim&gt; <strong>d sr 8</strong>            ; Good setting for the Switch Register
sim&gt; <strong>load 4kbas32.bin</strong>  ; Load it at 0
sim&gt; <strong>g</strong>                 ; and start it
MEMORY SIZE? [return]
TERMINAL WIDTH? [return]
WANT SIN? [Y]

61911 BYTES FREE

BASIC VERSION 3.2
[4K VERSION]

OK</pre>
</section>
<section id="altair-basic-4-0-4k">
<h3><span class="sectnum">1.5.10. </span>Altair Basic 4.0 (4k)<a class="headerlink" href="#altair-basic-4-0-4k" title="Permalink to this heading">¶</a></h3>
<p>An improved 4K Basic is also included as part of the archive <code class="docutils literal notranslate"><span class="pre">altsw.zip</span></code>.
You can also use <span class="html"><samp><b>altairz80 bas440</b></samp></span> to run this version of Basic.</p>
<pre class="literal-block">sim&gt; <strong>set cpu 8080</strong>      ; Note 4k Basic will not run on a Z80 CPU
sim&gt; <strong>set sio upper</strong>     ; 4k Basic does not like lowercase letters as input
sim&gt; <strong>set cpu noitrap</strong>   ; 4k Basic likes to execute non-8080 instructions; ignore
sim&gt; <strong>set sio ansi</strong>      ; 4k Basic produces 8-bit output, strip to seven bits
sim&gt; <strong>d sr 8</strong>            ; Good setting for the Switch Register
sim&gt; <strong>load 4kbas40.bin</strong>  ; Load it at 0
sim&gt; <strong>g</strong>                 ; and start it
MEMORY SIZE? [return]
TERMINAL WIDTH? [return]
WANT SIN? [Y]
61900 BYTES FREE
4K BASIC 4.0
COPYRIGHT MITS 1976
OK</pre>
</section>
<section id="altair-8k-basic">
<h3><span class="sectnum">1.5.11. </span>Altair 8k Basic<a class="headerlink" href="#altair-8k-basic" title="Permalink to this heading">¶</a></h3>
<p>Running 8k Basic follows the procedure for 4k Basic.
This software is part of the archive <code class="docutils literal notranslate"><span class="pre">altsw.zip</span></code>.</p>
<pre class="literal-block">sim&gt; <strong>set cpu 8080</strong>      ; Note 8k Basic will not run on a Z80 CPU
sim&gt; <strong>set sio upper</strong>     ; 8k Basic does not like lowercase letters as input
sim&gt; <strong>set sio ansi</strong>      ; 8k Basic produces 8-bit output, strip to seven bits
sim&gt; <strong>d sr 8</strong>            ; Good setting for the Switch Register
sim&gt; <strong>load 8kbas.bin 0</strong>  ; Load it at 0
sim&gt; <strong>go 0</strong>              ; and start it
MEMORY SIZE? [A]
WRITTEN FOR ROYALTIES BY MICRO-SOFT

MEMORY SIZE? [return]
TERMINAL WIDTH? [return]
WANT SIN-COS-TAN-ATN? [Y]

58756 BYTES FREE
ALTAIR BASIC REV. 4.0
[EIGHT-K VERSION]
COPYRIGHT 1976 BY MITS INC.
OK</pre>
</section>
<section id="altair-basic-4-0">
<h3><span class="sectnum">1.5.12. </span>Altair Basic 4.0<a class="headerlink" href="#altair-basic-4-0" title="Permalink to this heading">¶</a></h3>
<p>This software is part of the archive <code class="docutils literal notranslate"><span class="pre">altsw.zip</span></code>.
Execute the following commands to run Altair Extended Basic:</p>
<pre class="literal-block">sim&gt; <strong>set sio upper</strong>     ; Extended Basic requires uppercase input
sim&gt; <strong>set sio ansi</strong>      ; Extended Basic produces 8-bit output, strip to 7 bits
sim&gt; <strong>d sr 8</strong>            ; Good setting for the Switch Register
sim&gt; <strong>load exbas.bin 0</strong>  ; Load it at 0
sim&gt; <strong>go 0</strong>              ; and start it
16384 Bytes loaded at 0.

MEMORY SIZE? [return]
WANT SIN-COS-TAN-ATN? [Y]

50606 BYTES FREE
ALTAIR BASIC REV. 4.0
[EXTENDED VERSION]
COPYRIGHT 1977 BY MITS INC.
OK</pre>
</section>
<section id="altair-disk-extended-basic-version-300-5-c">
<h3><span class="sectnum">1.5.13. </span>Altair disk extended basic version 300-5-C<a class="headerlink" href="#altair-disk-extended-basic-version-300-5-c" title="Permalink to this heading">¶</a></h3>
<p>This version of Basic was provided by Scott LaBombard.
This software is part of the archive <code class="docutils literal notranslate"><span class="pre">altsw.zip</span></code>.
To execute,
use the following commands:</p>
<pre class="literal-block">sim&gt; <strong>d tracks[0-7] 77</strong>      ; Set to Altair settings
sim&gt; <strong>at dsk extbas5.dsk</strong>
sim&gt; <strong>g 0</strong>

MEMORY SIZE? [return]
LINEPRINTER? [C]
HIGHEST DISK NUMBER? [0]
HOW MANY FILES? [3]
HOW MANY RANDOM FILES? [3]

42082 BYTES FREE

ALTAIR DISK EXTENDED BASIC
VERSION 300-5-C [01NOV78]
COPYRIGHT 1978 BY MITS INC.

OK</pre>
</section>
<section id="altair-disk-extended-basic-version-5-0">
<span id="altair-basic-5-0"></span><h3><span class="sectnum">1.5.14. </span>Altair disk extended basic version 5.0<a class="headerlink" href="#altair-disk-extended-basic-version-5-0" title="Permalink to this heading">¶</a></h3>
<p>This version of Basic could be found on Andrew Kessel’s website <a class="reference external" href="https://web.archive.org/web/20090220224102/http://www.altairage.com/">altairage.com</a>, circa 2009.
Note that the MBL files on this site need to be converted to plain binary files using the Python script in the appendix.
This software is part of the archive <code class="docutils literal notranslate"><span class="pre">altsw.zip</span></code>.
To execute,
use the following commands:</p>
<pre class="literal-block">sim&gt; <strong>d tracks[0-7] 77</strong>     ; Set to Altair settings
sim&gt; <strong>at dsk disbas50.dsk</strong>
sim&gt; <strong>d sr 8</strong>
sim&gt; <strong>load disbas50.bin 0</strong>
sim&gt; <strong>g 0</strong>

MEMORY SIZE? [return]
LINEPRINTER? [C]
HIGHEST DISK NUMBER? [return]
HOW MANY FILES? [3]
HOW MANY RANDOM FILES? [3]

41695 BYTES FREE
ALTAIR BASIC 5.0 [14JUL78]
[DISK EXTENDED VERSION]
COPYRIGHT 1978 BY MITS INC.
OK</pre>
</section>
<section id="altair-hard-disk-basic-300-5-c">
<h3><span class="sectnum">1.5.15. </span>Altair hard disk basic 300-5-C<a class="headerlink" href="#altair-hard-disk-basic-300-5-c" title="Permalink to this heading">¶</a></h3>
<p>This version of Basic was provided by Martin Eberhard and uses the <span class="html"><samp>MHDSK</samp></span> device contributed by Mike Douglas.
This software is part of the archive <code class="docutils literal notranslate"><span class="pre">althdsw.zip</span></code>.
To execute,
use the following commands or type <span class="html"><samp><b>AltairZ80 hdbasic</b></samp></span> in a command shell.</p>
<pre class="literal-block">sim&gt; <strong>set sio ansi</strong>
sim&gt; <strong>set sio nobell</strong>  ; Avoid problems with accounting software
sim&gt; <strong>attach mhdsk0 hdbasic-300-5-c-acct.dsk</strong>
sim&gt; <strong>attach mhdsk1 hdbasic-300-5-f.dsk</strong>
sim&gt; <strong>attach dsk0 fdbasic-300-5-f.dsk</strong>  ; Floppy disk for copying
sim&gt; <strong>boot mhdsk</strong>

HDBL 1.01
LOADING
MEMORY SIZE? [return]
LINEPRINTER? [C]
HIGHEST DISK NUMBER? [2]
HOW MANY FILES? [4]
CURRENT DAY? [4]
CURRENT MONTH? [4]
CURRENT YEAR? [88]

32762 BYTES FREE
ALTAIR HARD DISK BASIC
VERSION 300-5-C [02NOV78]
COPYRIGHT 1978 BY MITS INC.
OK</pre>
</section>
<section id="altair-programming-languages-vtl-2-and-minol">
<span id="vtl-2"></span><span id="minol"></span><h3><span class="sectnum">1.5.16. </span>Altair programming languages VTL-2 and MINOL<a class="headerlink" href="#altair-programming-languages-vtl-2-and-minol" title="Permalink to this heading">¶</a></h3>
<p>Emmanuel Roche retyped the manuals and assembler code for these two tiny languages.
You need the archive <code class="docutils literal notranslate"><span class="pre">minolvtl.zip</span></code> which contains full documentation,
sources,
and command files to execute the simulator.</p>
</section>
<section id="ucsd-pascal-ii-0">
<h3><span class="sectnum">1.5.17. </span>UCSD Pascal II.0<a class="headerlink" href="#ucsd-pascal-ii-0" title="Permalink to this heading">¶</a></h3>
<p>The software is part of the <code class="docutils literal notranslate"><span class="pre">ucsd.zip</span></code> archive.
To run it,
type <span class="html"><samp><b>altairz80 ucsd</b></samp></span> at your command prompt,
or alternatively,
invoke <span class="html"><samp><b>altairz80</b></samp></span> and type <span class="html"><samp><b>do ucsd</b></samp></span> at the <code class="docutils literal notranslate"><span class="pre">sim&gt;</span></code> command prompt.</p>
<p>Useful hints:</p>
<ul class="simple">
<li><p><span class="html"><code><kbd>?</kbd></code></span> shows additional commands.</p></li>
<li><p><span class="html"><code><kbd>V</kbd></code></span> shows online volumes in the Filer.</p></li>
<li><p><span class="html"><code> :</code></span> denotes the prefixed volume.</p></li>
<li><p>Compiling the compiler and similar tools:
Attach the correct disk and set the prefix to the name of the mounted volume.
Then the include files will be found.</p></li>
<li><p>To invoke the Basic compiler,
rename <code class="docutils literal notranslate"><span class="pre">SYSTEM.COMPILER</span></code> to <code class="docutils literal notranslate"><span class="pre">PASCAL.COMPILER</span></code>,
and then rename <code class="docutils literal notranslate"><span class="pre">BASIC.COMPILER</span></code> to <code class="docutils literal notranslate"><span class="pre">SYSTEM.COMPILER</span></code>.</p></li>
<li><p>If you get <em>“Please re-boot”</em> after crunching a disk:
type <code class="docutils literal notranslate"><span class="pre">^E</span></code>, <span class="html"><samp><b>g 0</b></samp></span> and <span class="html"><samp><b>pascal</b></samp></span> to restart the system.</p></li>
</ul>
<p><span class="html"><samp>DSK0</samp></span> contains a fairly complete development system with Pascal, Assembler, and Basic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Filer</span><span class="p">:</span> <span class="n">G</span><span class="p">(</span><span class="n">et</span><span class="p">,</span> <span class="n">S</span><span class="p">(</span><span class="n">ave</span><span class="p">,</span> <span class="n">W</span><span class="p">(</span><span class="n">hat</span><span class="p">,</span> <span class="n">N</span><span class="p">(</span><span class="n">ew</span><span class="p">,</span> <span class="n">L</span><span class="p">(</span><span class="nb">dir</span><span class="p">,</span> <span class="n">R</span><span class="p">(</span><span class="n">em</span><span class="p">,</span> <span class="n">C</span><span class="p">(</span><span class="n">hng</span><span class="p">,</span> <span class="n">T</span><span class="p">(</span><span class="n">rans</span><span class="p">,</span> <span class="n">D</span><span class="p">(</span><span class="n">ate</span><span class="p">,</span> <span class="n">Q</span><span class="p">(</span><span class="n">uit</span> <span class="p">[</span><span class="n">B</span><span class="p">]</span>
    <span class="n">DSK0</span><span class="p">:</span>
    <span class="n">SYSTEM</span><span class="o">.</span><span class="n">MICRO</span>      <span class="mi">19</span>  <span class="mi">9</span><span class="o">-</span><span class="n">Feb</span><span class="o">-</span><span class="mi">79</span>    <span class="mi">10</span>   <span class="mi">512</span>  <span class="n">Datafile</span>
    <span class="n">SYSTEM</span><span class="o">.</span><span class="n">FILER</span>      <span class="mi">28</span> <span class="mi">10</span><span class="o">-</span><span class="n">Apr</span><span class="o">-</span><span class="mi">79</span>    <span class="mi">29</span>   <span class="mi">512</span>  <span class="n">Codefile</span>
    <span class="n">SYSTEM</span><span class="o">.</span><span class="n">EDITOR</span>     <span class="mi">45</span> <span class="mi">10</span><span class="o">-</span><span class="n">Feb</span><span class="o">-</span><span class="mi">79</span>    <span class="mi">57</span>   <span class="mi">512</span>  <span class="n">Codefile</span>
    <span class="n">SYSTEM</span><span class="o">.</span><span class="n">LINKER</span>     <span class="mi">22</span> <span class="mi">10</span><span class="o">-</span><span class="n">Feb</span><span class="o">-</span><span class="mi">79</span>   <span class="mi">102</span>   <span class="mi">512</span>  <span class="n">Codefile</span>
    <span class="n">SYSTEM</span><span class="o">.</span><span class="n">COMPILER</span>   <span class="mi">68</span>  <span class="mi">8</span><span class="o">-</span><span class="n">Feb</span><span class="o">-</span><span class="mi">79</span>   <span class="mi">124</span>   <span class="mi">512</span>  <span class="n">Codefile</span>
    <span class="n">SYSTEM</span><span class="o">.</span><span class="n">SYNTAX</span>     <span class="mi">14</span>  <span class="mi">2</span><span class="o">-</span><span class="n">May</span><span class="o">-</span><span class="mi">79</span>   <span class="mi">192</span>   <span class="mi">512</span>  <span class="n">Textfile</span>
    <span class="n">SETUP</span><span class="o">.</span><span class="n">CODE</span>        <span class="mi">25</span> <span class="mi">14</span><span class="o">-</span><span class="n">May</span><span class="o">-</span><span class="mi">79</span>   <span class="mi">206</span>   <span class="mi">512</span>  <span class="n">Codefile</span>
    <span class="n">BINDER</span><span class="o">.</span><span class="n">CODE</span>        <span class="mi">6</span>  <span class="mi">3</span><span class="o">-</span><span class="n">May</span><span class="o">-</span><span class="mi">79</span>   <span class="mi">231</span>   <span class="mi">512</span>  <span class="n">Codefile</span>
    <span class="n">SYSTEM</span><span class="o">.</span><span class="n">MISCINFO</span>    <span class="mi">1</span> <span class="mi">10</span><span class="o">-</span><span class="n">Feb</span><span class="o">-</span><span class="mi">79</span>   <span class="mi">237</span>   <span class="mi">192</span>  <span class="n">Datafile</span>
    <span class="n">VT100GOTO</span><span class="o">.</span><span class="n">TEXT</span>     <span class="mi">4</span> <span class="mi">10</span><span class="o">-</span><span class="n">Apr</span><span class="o">-</span> <span class="mi">7</span>   <span class="mi">238</span>   <span class="mi">512</span>  <span class="n">Textfile</span>
    <span class="n">VT100GOTO</span><span class="o">.</span><span class="n">CODE</span>     <span class="mi">2</span> <span class="mi">10</span><span class="o">-</span><span class="n">Apr</span><span class="o">-</span> <span class="mi">7</span>   <span class="mi">242</span>   <span class="mi">512</span>  <span class="n">Codefile</span>
    <span class="n">SYSTEM</span><span class="o">.</span><span class="n">PASCAL</span>     <span class="mi">33</span> <span class="mi">10</span><span class="o">-</span><span class="n">Apr</span><span class="o">-</span> <span class="mi">7</span>   <span class="mi">244</span>   <span class="mi">512</span>  <span class="n">Datafile</span>
    <span class="n">SYSTEM</span><span class="o">.</span><span class="n">LIBRARY</span>    <span class="mi">17</span> <span class="mi">10</span><span class="o">-</span><span class="n">Apr</span><span class="o">-</span> <span class="mi">7</span>   <span class="mi">277</span>   <span class="mi">512</span>  <span class="n">Datafile</span>
    <span class="n">BASIC</span><span class="o">.</span><span class="n">COMPILER</span>    <span class="mi">30</span> <span class="mi">11</span><span class="o">-</span><span class="n">Apr</span><span class="o">-</span><span class="mi">79</span>   <span class="mi">294</span>   <span class="mi">512</span>  <span class="n">Codefile</span>
    <span class="n">LOOP</span><span class="o">.</span><span class="n">TEXT</span>          <span class="mi">4</span> <span class="mi">10</span><span class="o">-</span><span class="n">Apr</span><span class="o">-</span> <span class="mi">7</span>   <span class="mi">324</span>   <span class="mi">512</span>  <span class="n">Textfile</span>
    <span class="n">LOOP</span><span class="o">.</span><span class="n">CODE</span>          <span class="mi">4</span> <span class="mi">10</span><span class="o">-</span><span class="n">Apr</span><span class="o">-</span> <span class="mi">7</span>   <span class="mi">328</span>   <span class="mi">512</span>  <span class="n">Codefile</span>
    <span class="n">Z80</span><span class="o">.</span><span class="n">ERRORS</span>         <span class="mi">8</span> <span class="mi">28</span><span class="o">-</span><span class="n">Mar</span><span class="o">-</span><span class="mi">79</span>   <span class="mi">332</span>    <span class="mi">70</span>  <span class="n">Datafile</span>
    <span class="n">Z80</span><span class="o">.</span><span class="n">OPCODES</span>        <span class="mi">3</span> <span class="mi">20</span><span class="o">-</span><span class="n">Dec</span><span class="o">-</span><span class="mi">78</span>   <span class="mi">340</span>    <span class="mi">68</span>  <span class="n">Datafile</span>
    <span class="n">SYSTEM</span><span class="o">.</span><span class="n">ASSMBLER</span>   <span class="mi">53</span> <span class="mi">13</span><span class="o">-</span><span class="n">Apr</span><span class="o">-</span><span class="mi">79</span>   <span class="mi">343</span>   <span class="mi">512</span>  <span class="n">Codefile</span>
    <span class="o">&lt;</span> <span class="n">UNUSED</span> <span class="o">&gt;</span>        <span class="mi">98</span>             <span class="mi">396</span>
    <span class="mi">19</span><span class="o">/</span><span class="mi">19</span> <span class="n">files</span><span class="o">&lt;</span><span class="n">listed</span><span class="o">/</span><span class="ow">in</span><span class="o">-</span><span class="nb">dir</span><span class="o">&gt;</span><span class="p">,</span> <span class="mi">396</span> <span class="n">blocks</span> <span class="n">used</span><span class="p">,</span> <span class="mi">98</span> <span class="n">unused</span><span class="p">,</span> <span class="mi">98</span> <span class="ow">in</span> <span class="n">largest</span>
</pre></div>
</div>
</section>
<section id="cp-m-68k">
<h3><span class="sectnum">1.5.18. </span>CP/M-68K<a class="headerlink" href="#cp-m-68k" title="Permalink to this heading">¶</a></h3>
<p>The software is part of the <code class="docutils literal notranslate"><span class="pre">cpm68k.zip</span></code> archive.
To run it,
type <span class="html"><samp><b>altairz80 cpm68k</b></samp></span> at your command prompt,
or alternatively,
invoke <span class="html"><samp><b>altairz80</b></samp></span> and type <span class="html"><samp><b>do cpm68k</b></samp></span> at the <code class="docutils literal notranslate"><span class="pre">sim&gt;</span></code> command prompt.</p>
</section>
</section>
<section id="special-simulator-features">
<h2><span class="sectnum">1.6. </span>Special simulator features<a class="headerlink" href="#special-simulator-features" title="Permalink to this heading">¶</a></h2>
<section id="memory-access-breakpoints-8080-z80-only">
<h3><span class="sectnum">1.6.1. </span>Memory access breakpoints (8080/Z80 only)<a class="headerlink" href="#memory-access-breakpoints-8080-z80-only" title="Permalink to this heading">¶</a></h3>
<p>In addition to the regular SIMH features such as PC queue, breakpoints etc.,
this simulator supports memory access breakpoints.
A memory access breakpoint is triggered when a pre-defined memory location is accessed
(read, write, or update).
To set a memory location breakpoint, enter</p>
<pre class="literal-block">sim&gt; <span class="html"><samp><b>break -m</b> <var>location</var></samp></span></pre>
<p>Execution will stop whenever an operation accesses <span class="html"><samp><var>location</var></samp></span>.
Note that a memory access breakpoint is not triggered by fetching code from memory
(this is the job of regular breakpoints).
This feature has been implemented by using the typing facility of the SIMH breakpoints.</p>
</section>
<section id="instruction-breakpoints-8080-z80-8086">
<h3><span class="sectnum">1.6.2. </span>Instruction breakpoints (8080/Z80/8086)<a class="headerlink" href="#instruction-breakpoints-8080-z80-8086" title="Permalink to this heading">¶</a></h3>
<p>One can also set a breakpoint once a certain instruction is executed.
To set an instruction breakpoint, enter</p>
<pre class="literal-block">sim&gt; <span class="html"><samp><b>break -I</b> <var>first byte of instruction</var></samp></span></pre>
<p>Execution will stop whenever an instruction is executed which starts with <span class="html"><samp><var>first byte of instruction</var></samp></span>.</p>
</section>
<section id="breakpoints-and-instruction-history-8080-z80-only">
<h3><span class="sectnum">1.6.3. </span>Breakpoints and instruction history (8080/Z80 only)<a class="headerlink" href="#breakpoints-and-instruction-history-8080-z80-only" title="Permalink to this heading">¶</a></h3>
<p>One can use breakpoints with the <span class="html"><samp>CPU</samp></span> instruction history.
For example,
suppose one wanted to determine what lead up to memory address <span class="html"><samp>0x5C00</samp></span> being accessed:</p>
<pre class="literal-block">sim&gt; <strong>break –m 5c00</strong>
sim&gt; <strong>set cpu history=32</strong>
sim&gt; <strong>g ff00</strong>

Memory access breakpoint [05c00h], PC: 0FF29 (MOV M,A)
sim&gt; show cpu history=10
CPU: C0Z1M0E1I0 A=16 B=0000 D=0000 H=0000 S=0000 P=FF0D OUT 0FEh
CPU: C0Z1M0E1I0 A=12 B=0000 D=0000 H=0000 S=0000 P=FF0F MVI A,12h
CPU: C0Z1M0E1I0 A=12 B=0000 D=0000 H=0000 S=0000 P=FF11 OUT 0FEh
CPU: C0Z1M0E1I0 A=00 B=0000 D=0000 H=0000 S=0000 P=FF13 IN 0FEh
CPU: C0Z1M0E1I0 A=00 B=0000 D=0000 H=0000 S=0000 P=FF15 ORA A
CPU: C0Z1M0E1I0 A=00 B=0000 D=0000 H=0000 S=0000 P=FF16 JZ 0FF20h
CPU: C0Z1M0E1I0 A=00 B=0000 D=0000 H=5C00 S=0000 P=FF20 LXI H,5C00h
CPU: C0Z1M0E1I0 A=00 B=0000 D=FF33 H=5C00 S=0000 P=FF23 LXI D,0FF33h
CPU: C0Z1M0E1I0 A=00 B=0088 D=FF33 H=5C00 S=0000 P=FF26 MVI C,88h
CPU: C0Z1M0E1I0 A=31 B=0088 D=FF33 H=5C00 S=0000 P=FF28 LDAX D</pre>
</section>
</section>
<section id="brief-summary-of-all-major-changes-to-the-original-altair-simulator">
<h2><span class="sectnum">1.7. </span>Brief summary of all major changes to the original Altair simulator<a class="headerlink" href="#brief-summary-of-all-major-changes-to-the-original-altair-simulator" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Full support for Z80.
CP/M software requiring a Z80 CPU now runs properly.
DDTZ and PROLOGZ are included for demonstration purposes.</p></li>
<li><p>Added banked memory support.</p></li>
<li><p>PC queue implemented.</p></li>
<li><p>Full assembler and disassembler support for Z80 and 8080 mnemonics.
Depending on the current setting of the CPU,
the appropriate mnemonics are used.</p></li>
<li><p>The BOOT ROM was changed to fully load the software from disk.
The original code basically loaded a copy of itself from the disk and executed it.</p></li>
<li><p>ROM and memory size settings are now fully honored.
This means that you cannot write into the ROM or outside the defined RAM
(e.g., when the RAM size was truncated with the <span class="html"><samp><b>SET CPU</b></samp></span> commands).
This feature allows programs which check for the size of available RAM to run properly
(e.g., 4k Basic).
In addition,
one can enable and disable the ROM which is useful in special cases
(e.g., when testing a new version of the ROM).</p></li>
<li><p>The console can also be used via Telnet.
This is useful when a terminal is needed which supports cursor control such as a VT100.
PROLOGZ, for example,
has a built-in screen editor which works under Telnet.</p></li>
<li><p id="r">Simplified file exchange for CP/M.
Using the <span class="html"><samp>READ</samp></span> resp. <span class="html"><samp>R</samp></span> program under CP/M,
one can easily import files into CP/M from the regular file system.
Note that <span class="html"><samp>PIP</samp></span> does not work properly on non-text files on <span class="html"><samp>PTR</samp></span>.</p>
</li>
<li><p id="w">The <span class="html"><samp>WRITE</samp></span> resp. <span class="html"><samp>W</samp></span> program can be used to transfer files from the CP/M environment to the regular environment
(binary or ASCII transfer).</p>
</li>
<li><p>The last character read from <span class="html"><samp>PTR</samp></span> is always <span class="html"><kbd>Control-Z</kbd></span>
(the EOF character for CP/M).
This makes sure that <span class="html"><samp>PIP</samp></span>
(Peripheral Interchange Program on CP/M)
will terminate properly.</p>
</li>
<li><p>Fixed a bug in the BIOS warm boot routine which caused CP/M to crash.</p></li>
<li><p>Modified the BIOS for CP/M to support 8 disks.</p></li>
<li><p>Added CP/M 3 banked version as sample software</p></li>
<li><p>Changed from octal to hex</p></li>
<li><p>Made the <span class="html"><samp>DSK</samp></span> and <span class="html"><samp>SIO</samp></span> device more robust
(previously, malicious code could crash the simulator)</p></li>
<li><p>Added memory access breakpoints</p></li>
<li><p>Added periodic timer interrupts
(useful for MP/M)</p></li>
<li><p>Added additional consoles
(useful for MP/M)</p></li>
<li><p>Added MP/M II banked version as sample software</p></li>
<li><p>Added networking support for CP/NET and CPNOS</p></li>
</ul>
</section>
<section id="appendix-python-script-for-converting-mbl-files-to-plain-binary-files">
<h2><span class="sectnum">1.8. </span>Appendix: Python script for converting MBL files to plain binary files<a class="headerlink" href="#appendix-python-script-for-converting-mbl-files-to-plain-binary-files" title="Permalink to this heading">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#! /usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>
<span class="c1"># formatted for tab-stops 4</span>
<span class="c1">#</span>
<span class="c1">#     By Peter Schorn, peter.schorn@acm.org, September 2006</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1"># Transform an MBL file to a binary file suitable for loading with SIMH</span>
<span class="c1">#</span>
<span class="c1"># Structure of MBL files is as follows:</span>
<span class="c1"># &lt;byte&gt;+ 0x00 0x00</span>
<span class="c1"># (checkSum&lt;byte&gt; 0x3c count&lt;byte&gt; loadLow&lt;byte&gt; loadHigh&lt;byte&gt;</span>
<span class="c1">#  &lt;byte&gt; * count)+</span>
<span class="c1"># where the lower 8 bit of the load address are determined by loadLow</span>
<span class="c1"># and the upper 8 bit of the load address are determined by loadHigh</span>
<span class="c1"># For checkSum the following rules hold:</span>
<span class="c1">#     For the first load record: 0</span>
<span class="c1">#     For the second load record: (sum of all load bytes of the first</span>
<span class="c1">#           load record) mod 256</span>
<span class="c1">#     For the third and higher load records: (sum of all load bytes of</span>
<span class="c1">#           the preceding load record - 1) mod 256</span>
<span class="c1"># A header with count = 0 or second position is unequal to 0x3c denotes</span>
<span class="c1"># end of file.</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="n">CHR0</span> <span class="o">=</span> <span class="mi">2</span>    <span class="c1"># i.e. first header is prefixed by 2 chr(0)</span>

<span class="k">if</span>    <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&lt;&gt;</span> <span class="mi">3</span><span class="p">:</span>
      <span class="nb">print</span> <span class="s1">&#39;Usage </span><span class="si">%s</span><span class="s1"> inputmbl.bin output.bin</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
      <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">file</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="n">CHR0</span> <span class="o">+</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="nb">chr</span><span class="p">(</span><span class="mh">0x3c</span><span class="p">))</span> <span class="o">+</span> <span class="n">CHR0</span> <span class="o">+</span> <span class="mi">2</span>
<span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="nb">chr</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

<span class="n">k</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">count</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="k">while</span> <span class="n">count</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="mh">0x3c</span><span class="p">):</span>
      <span class="n">l</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span>
      <span class="n">checkSum</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">):</span>
            <span class="n">result</span><span class="p">[</span><span class="n">l</span> <span class="o">+</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">j</span><span class="p">]</span>
            <span class="n">checkSum</span> <span class="o">+=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">j</span><span class="p">])</span>
      <span class="n">expectedCheckSum</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
      <span class="n">receivedCheckSum</span> <span class="o">=</span> <span class="n">expectedCheckSum</span>
      <span class="k">if</span>    <span class="n">k</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">receivedCheckSum</span> <span class="o">=</span> <span class="n">previousCheckSum</span> <span class="o">&amp;</span> <span class="mi">255</span>
      <span class="k">elif</span> <span class="n">k</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">receivedCheckSum</span> <span class="o">=</span> <span class="p">(</span><span class="n">previousCheckSum</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">255</span>
      <span class="k">if</span> <span class="n">receivedCheckSum</span> <span class="o">&lt;&gt;</span> <span class="n">expectedCheckSum</span><span class="p">:</span>
         <span class="nb">print</span> <span class="s1">&#39;Checksum error in record </span><span class="si">%i</span><span class="s1">. Got </span><span class="si">%02X</span><span class="s1"> and expected </span><span class="si">%02X</span><span class="s1"> &#39;</span> <span class="o">%</span> <span class="p">(</span>
                     <span class="n">k</span><span class="p">,</span> <span class="n">receivedCheckSum</span><span class="p">,</span> <span class="n">expectedCheckSum</span><span class="p">)</span>
      <span class="n">i</span> <span class="o">+=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">5</span>
      <span class="n">count</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
      <span class="n">k</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="n">previousCheckSum</span> <span class="o">=</span> <span class="n">checkSum</span>

<span class="n">i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="k">while</span> <span class="n">result</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">0</span><span class="p">):</span>
      <span class="n">i</span> <span class="o">-=</span> <span class="mi">1</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">file</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;wb+&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[:</span><span class="n">i</span><span class="p">]:</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="nb">print</span> <span class="s1">&#39;</span><span class="si">%i</span><span class="s1"> load records processed and </span><span class="si">%i</span><span class="s1"> bytes written to </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span>
      <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="appendix-how-to-bring-up-ucsd-pascal-ii-0-on-simh">
<h2><span class="sectnum">1.9. </span>Appendix: How to bring up UCSD Pascal II.0 on SIMH<a class="headerlink" href="#appendix-how-to-bring-up-ucsd-pascal-ii-0-on-simh" title="Permalink to this heading">¶</a></h2>
<p>Precondition:
Your current working directory contains the files mentioned below and <code class="docutils literal notranslate"><span class="pre">altairz80</span></code> is available.
The files <code class="docutils literal notranslate"><span class="pre">*.raw.gz</span></code> can be downloaded from <a class="reference external" href="http://bitsavers.org/bits/UCSD_Pascal/ucsd_II.0/">BitSavers</a>.</p>
<ul class="simple">
<li><p><a class="reference external" href="http://bitsavers.org/bits/UCSD_Pascal/ucsd_II.0/U002A.5_Z80_SYS1.raw.gz"><code class="docutils literal notranslate"><span class="pre">U002A.5_Z80_SYS1.raw.gz</span></code></a></p></li>
<li><p><a class="reference external" href="http://bitsavers.org/bits/UCSD_Pascal/ucsd_II.0/U012.1_SYS_2.raw.gz"><code class="docutils literal notranslate"><span class="pre">U012.1_SYS_2.raw.gz</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ucsd</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ucsd.dsk</span></code></p></li>
</ul>
<dl>
<dt><strong>Step 1:</strong></dt><dd><p>Get <code class="docutils literal notranslate"><span class="pre">U002A.5_Z80_SYS1.raw.gz</span></code> and <code class="docutils literal notranslate"><span class="pre">U012.1_SYS_2.raw.gz</span></code> from the distribution and <span class="html"><samp class="command">gunzip</samp></span>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gunzip</span> <span class="o">*</span><span class="n">gz</span>
</pre></div>
</div>
</dd>
<dt><strong>Step 2:</strong></dt><dd><p>Patch <span class="html"><samp class="command">H</samp></span> command with <code class="docutils literal notranslate"><span class="pre">ZAP</span></code>
(<span class="html"><samp class="command">H</samp></span> command will otherwise indefinitely loop as patched command is a jump to itself).
Execute <code class="docutils literal notranslate"><span class="pre">altairz80</span></code> with <span class="html"><samp><b>altairz80 ucsd</b></samp></span>,
type <code class="docutils literal notranslate"><span class="pre">^E</span></code> and <span class="html"><samp><b>G 0</b></samp></span> at the <code class="docutils literal notranslate"><span class="pre">sim&gt;</span></code> command prompt.
This brings you back to CP/M.
At the <code class="docutils literal notranslate"><span class="pre">E&gt;</span></code>,
type <span class="html"><samp><b>ZAP</b></samp></span> to invoke the disk editor for fixing on drive A: sector 13 on track 5 as shown below.</p>
<ul>
<li><p>Change drive to A (<span class="html"><samp class="command">D</samp></span> command)</p></li>
<li><p>Select track/sector (<span class="html"><samp class="command">S</samp></span> command)</p></li>
<li><p>Select track (<span class="html"><samp><var>t</var></samp></span> command) - type <span class="html"><samp><b>5</b> <kbd>return</kbd></samp></span></p></li>
<li><p>Select sector (<span class="html"><samp class="command">S</samp></span> command) - type <span class="html"><samp><b>C</b> <kbd>kbd</kbd></samp></span></p></li>
<li><p>Edit sector (<span class="html"><samp class="command">E</samp></span> command)</p>
<div class="compound">
<p>change</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>000060   C2 96 1A 21  FF FF C3 AC  1A C3 E9 1A  D1 2A 1A 03   |B..!C,.Ci.Q*..|
</pre></div>
</div>
<p>to</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>000060   C2 96 1A 21  FF FF C3 AC  1A C3 00 00  D1 2A 1A 03   |B..!C,.Ci.....|
</pre></div>
</div>
</div>
</li>
<li><p>Commit change with <code class="docutils literal notranslate"><span class="pre">^W</span></code> command</p></li>
<li><p>Exit <span class="html"><samp class="command">ZAP</samp></span> with <code class="docutils literal notranslate"><span class="pre">Z</span></code> command</p></li>
<li><p>Exit simulator (<code class="docutils literal notranslate"><span class="pre">^E</span></code> and <code class="docutils literal notranslate"><span class="pre">bye</span></code>)</p></li>
</ul>
<p>before</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      Current Track    Current Sector     Current Block      Current Drive
       0005             000C               000B                A:
Offset    0  1  2  3   4  5  6  7   8  9  A  B   C  D  E  F    -----ASCII------
000000   09 29 29 EB  01 36 00 2A  94 02 19 09  C9 E1 22 90   |.))k.6.*....Ia&quot;.|
000010   02 E1 22 92  02 D1 EB 22  94 02 EB 2A  90 02 06 08   |.a&quot;..Qk&quot;..k*....|
000020   1A BE C2 BA  1A 23 13 10  F7 21 00 00  E5 2A 94 02   |.&gt;B:
000030   EB 2A 92 02  73 23 72 C3  A4 03 D2 D3  1A 2A 94 02   |k*..s#rC$.RS.*..|
000040   11 08 00 19  5E 23 56 7B  3D B2 C2 96  1A 21 01 00   |....^#V{=2B..!..|
000050   C3 AC 1A 2A  94 02 11 0A  00 19 5E 23  56 7B 3D B2   |C,.*......^#V{=2|
000060   C2 96 1A 21  FF FF C3 AC  1A C3 E9 1A  D1 2A 1A 03   |B..!C,.Ci.Q*..|
000070   EB 73 23 72  D1 2A 1C 03  EB 73 23 72  C3 B0 03 07   |ks#rQ*..ks#rC0..|
</pre></div>
</div>
<p>after</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      Current Track    Current Sector     Current Block      Current Drive
       0005             000C               000B                A:

Offset    0  1  2  3   4  5  6  7   8  9  A  B   C  D  E  F    -----ASCII------
000000   09 29 29 EB  01 36 00 2A  94 02 19 09  C9 E1 22 90   |.))k.6.*....Ia&quot;.|
000010   02 E1 22 92  02 D1 EB 22  94 02 EB 2A  90 02 06 08   |.a&quot;..Qk&quot;..k*....|
000020   1A BE C2 BA  1A 23 13 10  F7 21 00 00  E5 2A 94 02   |.&gt;B:.#..w!..e*..|
000030   EB 2A 92 02  73 23 72 C3  A4 03 D2 D3  1A 2A 94 02   |k*..s#rC$.RS.*..|
000040   11 08 00 19  5E 23 56 7B  3D B2 C2 96  1A 21 01 00   |....^#V{=2B..!..|
000050   C3 AC 1A 2A  94 02 11 0A  00 19 5E 23  56 7B 3D B2   |C,.*......^#V{=2|
000060   C2 96 1A 21  FF FF C3 AC  1A C3 00 00  D1 2A 1A 03   |B..!C,.Ci.....|
000070   EB 73 23 72  D1 2A 1C 03  EB 73 23 72  C3 B0 03 07   |ks#rQ*..ks#rC0..|
</pre></div>
</div>
</dd>
<dt><strong>Step 3:</strong></dt><dd><p>Proceed to UCSD Pascal by typing <span class="html"><samp><b>pascal</b> <kbd>return</kbd></samp></span> at the <code class="docutils literal notranslate"><span class="pre">E&gt;</span></code> command prompt.
Type <span class="html"><kbd>return</kbd></span> until you see the menu bar:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Command: E(dit, R(un, F(ile, C(omp, L(ink, X(ecute, A(ssem, D(ebug,? [II.0]
</pre></div>
</div>
<p>X(ecute setup and choose Prompted mode to update parameters as follows:</p>
<pre class="literal-block">Command: E(dit, R(un, F(ile, C(omp, L(ink, X(ecute, A(ssem, D(ebug,? [II.0]x
    Execute what file? setup
    INITIALIZING............................
    ...........................
    SETUP: C(HANGE T(EACH H(ELP Q(UIT [D1]
C
    CHANGE: S(INGLE) P(ROMPTED) R(ADIX)
        H(ELP) Q(UIT)
P
    FIELD NAME = <strong>BACKSPACE</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
        10      8     8        BS     ^H
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>EDITOR ACCEPT KEY</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
         0      0     0        NUL    ^&#64;
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>26</strong>  NEW VALUE: 26
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
        32     26    1A        SUB    ^Z
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>EDITOR ESCAPE KEY</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
        33     27    1B        ESC    ^[
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>ERASE LINE</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
         0      0     0        NUL   ^&#64;
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>ERASE SCREEN</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
         0      0     0        NUL    ^&#64;
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>ERASE TO END OF LINE</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
         0      0     0        NUL    ^&#64;
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>75</strong>   NEW VALUE: 75
      OCTAL DECIMAL HEXADECIMAL ASCII
        113     75    4B        K
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>ERASE TO END OF SCREEN</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
         0      0     0        NUL   ^&#64;
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>74</strong>   NEW VALUE: 74
      OCTAL DECIMAL HEXADECIMAL ASCII
        112     74    4A        J
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>HAS 8510A</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>HAS BYTE FLIPPED MACHINE</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>HAS CLOCK</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>HAS LOWER CASE</strong>
    CURRENT VALUE IS FALSE
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>T</strong>   NEW VALUE: T
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>HAS RANDOM CURSOR ADDRESSING</strong>
    CURRENT VALUE IS FALSE
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>T</strong>   NEW VALUE: T
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>HAS SLOW TERMINAL</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>HAS WORD ORIENTED MACHINE</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>KEY FOR BREAK</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
         0      0     0        NUL    ^&#64;
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>3</strong>   NEW VALUE: 3
3   NEW VALUE
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
         3      3     3        ETX    ^C
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>KEY FOR FLUSH</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
         6      6     6        ACK    ^F
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>KEY FOR STOP</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
        23     19    13        DC3    ^S
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>KEY TO DELETE CHARACTER</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
        10      8     8        BS     ^H
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>KEY TO DELETE LINE</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII
       177    127    7F        DEL
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>KEY TO END FILE</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
         3      3     3        ETX    ^C
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>26</strong>  NEW VALUE: 26
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
        32     26    1A        SUB    ^Z
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>KEY TO MOVE CURSOR DOWN</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
        12     10     A        LF     ^J
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>KEY TO MOVE CURSOR LEFT</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
        10      8     8        BS     ^H
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>KEY TO MOVE CURSOR RIGHT</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
        34     28    1C        FS     ^<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>12</strong>  NEW VALUE: 12
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
        14     12     C        FF     ^L
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>KEY TO MOVE CURSOR UP</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
        37     31    1F        US     ^_
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>11</strong>  NEW VALUE: 11
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
        13     11     B        VT     ^K
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>LEAD IN FROM KEYBOARD</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
         0      0     0        NUL    ^&#64;
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>LEAD IN TO SCREEN</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
         0      0     0        NUL    ^&#64;
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>27</strong>  NEW VALUE: 27
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
        33     27    1B        ESC    ^[
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>MOVE CURSOR HOME</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
        15     13     D        CR     ^M
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>72</strong>  NEW VALUE: 72
     OCTAL DECIMAL HEXADECIMAL ASCII
       110     72    48        H
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>MOVE CURSOR RIGHT</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII
        41     33    21        !
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>68</strong>  NEW VALUE: 68
68  NEW
     OCTAL DECIMAL HEXADECIMAL ASCII
       104     68    44        D
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>MOVE CURSOR UP</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII CONTROL
         0      0     0        NUL    ^&#64;
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>65</strong>  NEW VALUE: 65
     OCTAL DECIMAL HEXADECIMAL ASCII
       101     65    41        A
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>NON PRINTING CHARACTER</strong>
     OCTAL DECIMAL HEXADECIMAL ASCII
        77     63    3F        ?
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[DELETE CHARACTER]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[EDITOR ACCEPT KEY]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[EDITOR ESCAPE KEY]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[ERASE LINE]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[ERASE SCREEN]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[ERASE TO END OF LINE]</strong>
    CURRENT VALUE IS FALSE
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>T</strong>   NEW VALUE: T
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[ERASE TO END OF SCREEN]</strong>
    CURRENT VALUE IS FALSE
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>T</strong>   NEW VALUE: T
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[KEY FOR BREAK]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[KEY FOR FLUSH]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[KEY FOR STOP]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[KEY TO DELETE CHARACTER]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[KEY TO DELETE LINE]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[KEY TO END FILE]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[KEY TO MOVE CURSOR DOWN]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[KEY TO MOVE CURSOR LEFT]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[KEY TO MOVE CURSOR RIGHT]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[KEY TO MOVE CURSOR UP]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[MOVE CURSOR HOME]</strong>
    CURRENT VALUE IS FALSE
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>T</strong>   NEW VALUE: T
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[MOVE CURSOR RIGHT]</strong>
    CURRENT VALUE IS FALSE
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>T</strong>   NEW VALUE: T
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[MOVE CURSOR UP]</strong>
    CURRENT VALUE IS FALSE
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>T</strong>   NEW VALUE: T
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>PREFIXED[NON PRINTING CHARACTER]</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>SCREEN HEIGHT</strong>
     OCTAL DECIMAL HEXADECIMAL
        30     24    18
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>SCREEN WIDTH</strong>
     OCTAL DECIMAL HEXADECIMAL
       120     80    50
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>STUDENT</strong>
    CURRENT VALUE IS FALSE
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    FIELD NAME = <strong>VERTICAL MOVE DELAY</strong>
     OCTAL DECIMAL HEXADECIMAL
         5      5     5
<strong>Y</strong>   WANT TO CHANGE THIS VALUE? (Y,N,!)
<strong>0</strong>   NEW VALUE: 0
O   NEW V
     OCTAL DECIMAL HEXADECIMAL
         0      0     0
N   WANT TO CHANGE THIS VALUE? (Y,N,!)
    CHANGE: S(INGLE) P(ROMPTED) R(ADIX)
Q       H(ELP) Q(UIT)
Q   SETUP: C(HANGE T(EACH H(ELP Q(UIT [D1]
D   QUIT: D(ISK) OR M(EMORY) UPDATE,
          R(ETURN) H(ELP) E(XIT)
M   QUIT: D(ISK) OR M(EMORY) UPDATE,
          R(ETURN) H(ELP) E(XIT)
E   QUIT: D(ISK) OR M(EMORY) UPDATE,
          R(ETURN) H(ELP) E(XIT)</pre>
</dd>
<dt><strong>Step 4:</strong></dt><dd><p>Rename <code class="docutils literal notranslate"><span class="pre">NEW.MISCINFO</span></code> to <code class="docutils literal notranslate"><span class="pre">SYSTEM.MISCINFO</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Command: E(dit, R(un, F(ile, C(omp, L(ink, X(ecute, A(ssem, D(ebug,? [II.0]
F
    Filer: G(et, S(ave, W(hat, N(ew, L(dir, R(em, C(hng, T(rans, D(ate, Q(uit [B]
L
    Dir listing of what vol ? *
    Filer: G(et, S(ave, W(hat, N(ew, L(dir, R(em, C(hng, T(rans, D(ate, Q(uit [B]L
    U002A.5:
    SYSTEM.STARTUP     5 28-Feb-79
    SYSTEM.MICRO      16  9-Feb-79
    Z80T.MICRO        19  9-Feb-79
    SYSTEM.FILER      28 10-Apr-79
    SYSTEM.PASCAL     33  7-Mar-79
    SYSTEM.EDITOR     45 10-Feb-79
    SYSTEM.LINKER     22 10-Feb-79
    SYSTEM.COMPILER   68  8-Feb-79
    SYSTEM.LIBRARY     8 17-Apr-79
    SYSTEM.SYNTAX     14  2-May-79
    SAMPLEGOTO.TEXT    4 17-Nov-78
    SETUP.CODE        25 14-May-79
    READ.ME.TEXT       4 17-Apr-79
    BINDER.CODE        6  3-May-79
    NEW.MISCINFO       1 10-Feb-79
    15/15 files&lt;listed/in-dir&gt;, 308 blocks used, 186 unused, 186 in largest
    Filer: G(et, S(ave, W(hat, N(ew, L(dir, R(em, C(hng, T(rans, D(ate, Q(uit [B]
C
    Change what file ?  NEW.MISCINFO
    Change to what ? SYSTEM.MISCINFO
</pre></div>
</div>
</dd>
<dt><strong>Step 5:</strong></dt><dd><p>Delete <code class="docutils literal notranslate"><span class="pre">SYSTEM.STARTUP</span></code>
(<span class="html"><samp>R</samp></span> command in Filer)</p>
</dd>
<dt><strong>Step 6:</strong></dt><dd><p>Set date with <span class="html"><samp class="command">D</samp></span> command in Filer</p>
</dd>
<dt><strong>Step 7:</strong></dt><dd><p>Create new goto file for VT100 (<code class="docutils literal notranslate"><span class="pre">VT100GOTO.TEXT</span></code>)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(*$U-*)
PROGRAM DUMMY;
(* Direct cursor addressing for VT100 terminal *)
(* &#39;[&#39; after escape is done by BIOS - trick from Udo Munk *)
PROCEDURE FGOTOXY(X,Y:INTEGER);
BEGIN
  IF X&lt;0 THEN X:=0;
  IF X&gt;79 THEN X:=79;
  IF Y&lt;0 THEN Y:=0;
  IF Y&gt;23 THEN Y:=23;
  WRITE (CHR(27),Y+1,&#39;;&#39;,X+1,&#39;H&#39;)
END;
BEGIN
END.
</pre></div>
</div>
<p>Take <code class="docutils literal notranslate"><span class="pre">SAMPLEGOTO.TEXT</span></code> as basis and modify using the editor.
You can delete a complete line by moving the cursor to the line
(<code class="docutils literal notranslate"><span class="pre">^J</span></code> for down, <code class="docutils literal notranslate"><span class="pre">^K</span></code> for up)
and then do <span class="html"><samp class="command">D</samp></span> and <span class="html"><kbd>return</kbd></span> and <code class="docutils literal notranslate"><span class="pre">^Z</span></code>.</p>
</dd>
<dt><strong>Step 8:</strong></dt><dd><p>Compile result and save codefile
(using <span class="html"><samp class="guilabel">Filer save</samp></span> command).</p>
</dd>
<dt><strong>Step 9:</strong></dt><dd><p>Update <code class="docutils literal notranslate"><span class="pre">SYSTEM.PASCAL</span></code> by <span class="html"><samp>X)cuting BINDER</samp></span>.
When prompted for the file with the procedure,
type in <code class="docutils literal notranslate"><span class="pre">VT100GOTO</span></code>.
The change takes effect after restart:
Type <span class="html"><samp class="command">H</samp></span> at top level and <span class="html"><samp><b>pascal</b></samp></span> at <code class="docutils literal notranslate"><span class="pre">E&gt;</span></code> prompt.</p>
</dd>
</dl>
</section>
<section id="vector-graphic-inc-simulation">
<h2><span class="sectnum">1.10. </span>Vector Graphic, Inc. simulation<a class="headerlink" href="#vector-graphic-inc-simulation" title="Permalink to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="mailto:hharte&#37;&#52;&#48;hartetec&#46;com">Howard M<span>&#46;</span> Harte</a></p>
</dd>
</dl>
<section id="overview">
<h3><span class="sectnum">1.10.1. </span>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h3>
<p><span class="html"><dfn><b>Vector Graphic</b></dfn></span> is an early microcomputer from the mid 1970s,
based on the S-100 bus using the Z80 microprocessor.
There were several Vector Graphic models produced.
Although primarily used with the CP/M operating system,
it ran several others including OASIS,
Micropolis Disk Operating System (MDOS),
and Micropolis Z80 Operating System (MZOS).</p>
<p>Early Vector Graphic models used the Micropolis floppy disk controller and Micropolis floppy disk drives.
Later models were designed with the integrated floppy drive/hard drive controller and used Tandon floppy drives.
Almost all used unusual 100 track per inch 5.25″ floppy drives and 16-sector 5.25″ hard-sector media.
Some models included 8″ floppy drives and hard disk drives.</p>
<p>Vector Graphic computers had many innovations such as the FlashWriter integrated video and keyboard controller.
Vector Graphic is commonly known for their MEMORITE word processing application.
When combined with the FlashWriter,
the Vector Graphic MEMORITE software gave low-cost word processing capability which had previously only been available with dedicated word processors.</p>
<p>Vector Graphic has a small but active user community.
The following are links to resources and information about the Vector Graphic computer systems:</p>
<dl class="simple">
<dt><strong>History and Background</strong></dt><dd><ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Vector_Graphic">https://en.wikipedia.org/wiki/Vector_Graphic</a></p></li>
<li><p><a class="reference external" href="https://old-computers.com/museum/company.asp?st=1&amp;l=V">https://old-computers.com/museum/company.asp?st=1&amp;l=V</a></p></li>
<li><p><a class="reference external" href="https://web.archive.org/web/20211117023434/http://dunfield.classiccmp.org/s100/index.htm">http://www.classiccmp.org/dunfield/s100/index.htm#v1p</a></p></li>
<li><p><a class="reference external" href="https://web.archive.org/web/20201125202215/http://www.vintage-computer.com/vector1plus.shtml">http://www.vintage-computer.com/vector1plus.shtml</a></p></li>
<li><p><a class="reference external" href="http://retrotechnology.com/herbs_stuff/d_vector.html">http://retrotechnology.com/herbs_stuff/d_vector.html</a></p></li>
<li><p><a class="reference external" href="https://web.archive.org/web/20160809024704/http://www.vectorgraphics.org.uk:80/">http://www.vectorgraphics.org.uk/</a></p></li>
</ul>
</dd>
<dt><strong>Mailing list</strong></dt><dd><ul class="simple">
<li><p><a class="reference external" href="http://h-net.msu.edu/cgi-bin/wa?A0=VECTOR-GRAPHIC">http://h-net.msu.edu/cgi-bin/wa?A0=VECTOR-GRAPHIC</a></p></li>
</ul>
</dd>
<dt><strong>Documentation</strong></dt><dd><ul class="simple">
<li><p><a class="reference external" href="http://www.hartetechnologies.com/manuals/Vector%20Graphics/">http://www.hartetechnologies.com/manuals/Vector%20Graphics/</a></p></li>
<li><p><a class="reference external" href="https://web.archive.org/web/20160913063526/http://maben.homeip.net/static/S100/vector/index.html">http://maben.homeip.net/static/S100/vector/index.html</a></p></li>
</ul>
</dd>
<dt><strong>Documentation / Disk images</strong></dt><dd><ul class="simple">
<li><p><a class="reference external" href="http://vector-archive.org/">http://vector-archive.org/</a></p></li>
</ul>
</dd>
</dl>
<p>The Vector Graphic simulation was realized by making several architectural modifications to support additional disk controllers and the FlashWriter II video card.
The architectural modifications include the ability to install and uninstall devices in the simulator’s memory and I/O map at runtime,
and pave the way for further extension of SIMH/AltairZ80 to support other hardware with a minimum of integration effort.</p>
<p>These additional devices specific to the Vector Graphic systems include:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><th class="stub"><p><span class="html"><samp>MDSK</samp></span></p></th>
<td><p>Micropolis FD Controller Board,
memory-mapped to <span class="html"><samp>0xF800</samp></span>–<span class="html"><samp>0xFBFF</samp></span></p></td>
</tr>
<tr class="row-even"><th class="stub"><p><span class="html"><samp>VFDHD</samp></span></p></th>
<td><p>Vector HD-FD Controller Board,
I/O mapped to <span class="html"><samp>0xC0</samp></span>–<span class="html"><samp>0xC3</samp></span></p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><span class="html"><samp>FWII</samp></span></p></th>
<td><p>FlashWriter II Video Card,
memory-mapped to <span class="html"><samp>0xF000</samp></span>–<span class="html"><samp>0xF800</samp></span></p></td>
</tr>
</tbody>
</table>
<p>These devices can be enabled/disabled
(installed/uninstalled)
from the memory map with:</p>
<pre class="literal-block">sim&gt; <span class="html"><samp><b>set</b> <var>device</var> <b>ena</b></samp></span> ; To enable the device
sim&gt; <span class="html"><samp><b>set</b> <var>device</var> <b>dis</b></samp></span> ; To disable the device</pre>
<p>If there is an I/O or memory map conflict when enabling a device,
the conflicting device must first be disabled.</p>
<p>In addition to the new devices added to SIMH/AltairZ80,
additional ROM images are provided for the Vector 4.0C monitor and the Vector 4.3 monitor.
The 4.0C monitor uses the simulated serial port for I/O,
and the 4.3 monitor uses the FlashWriter II video card for output and a simulated parallel keyboard for input.
One of these monitors should be loaded at address <span class="html"><samp>0xE000</samp></span>,
depending on the simulated system configuration.</p>
<p>Generally,
when using the HD-FD disk controller,
you will need to use monitor 4.3,
since it supports booting from this controller.
When using the Micropolis FD controller board,
you should use the 4.0C monitor.</p>
<p>The simulator can be configured for a 48K Vector MZ or a 56K Vector MZ.
Some boot disk images require a 48K configuration,
and some require a 56K configuration.
In the 48K configuration on a real Vector MZ system,
an older version of the monitor ROM was at address <span class="html"><samp>0xC000</samp></span>.
Since the image for this ROM has not been obtained,
a small “helper” ROM is loaded at address <span class="html"><samp>0xC000</samp></span>,
in addition to the 4.0C monitor at <span class="html"><samp>0xE000</samp></span>.
The “helper” ROM redirects calls to perform terminal I/O to the corresponding entry points in the 4.0C monitor.</p>
<p>There are several configuration files that configure SIMH to simulate various Vector Graphic systems.
These configuration files are the definitive reference for proper simulator configuration,
and should be preferred over the following descriptions if there is any discrepancy.
These configuration files are:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><b>vgmz48k</b></samp></span></p></td>
<td><p>Vector 48K MZ with Micropolis FD Controller</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>vgmz56k</b></samp></span></p></td>
<td><p>Vector 56K MZ with Micropolis FD Controller</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>vgfdhd</b></samp></span></p></td>
<td><p>Vector 56K System with HD-FD Disk Controller</p></td>
</tr>
</tbody>
</table>
<p>Here are some sample configurations for 48K, 56K, and HD-FD systems:</p>
</section>
<section id="k-vector-mz">
<h3><span class="sectnum">1.10.2. </span>48K Vector MZ<a class="headerlink" href="#k-vector-mz" title="Permalink to this heading">¶</a></h3>
<pre class="literal-block">sim&gt; <strong>load MON40C.BIN e000</strong>       ; Load Vector 4.0C Monitor
sim&gt; <strong>load MONC000.BIN c000</strong>      ; Load &quot;helper&quot; ROM at <span class="html"><samp>0xC000</samp></span>
sim&gt; <strong>set mdsk membase=D800</strong>      ; Set Micropolis disk controller base address
sim&gt; <strong>set mdsk enabled</strong>           ; Enable Micropolis disk controller
sim&gt; <strong>attach mfdc0 VG02.VGI</strong>      ; Attach disk to <span class="html"><samp>MDSK0</samp></span> drive</pre>
<p>When booting the 48K configuration, type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sim</span><span class="o">&gt;</span> <span class="n">g</span> <span class="n">e000</span>
</pre></div>
</div>
<p>and at the <code class="docutils literal notranslate"><span class="pre">Mon&gt;</span></code> prompt,
you can boot from the disk controller by doing <span class="html"><samp><b>G D800</b></samp></span>.</p>
</section>
<section id="id12">
<h3><span class="sectnum">1.10.3. </span>56K Vector MZ<a class="headerlink" href="#id12" title="Permalink to this heading">¶</a></h3>
<pre class="literal-block">sim&gt; <strong>load MON40C.BIN e000</strong>        ; Load Vector 4.0C Monitor
sim&gt; <strong>set mdsk enabled</strong>            ; Enable Micropolis disk controller
sim&gt; <strong>attach mfdc0 VG00.VGI</strong>       ; Attach disk to <span class="html"><samp>MDSK0</samp></span> drive</pre>
<p>When booting the 56K configuration, type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sim</span><span class="o">&gt;</span> <span class="n">g</span> <span class="n">e000</span>
</pre></div>
</div>
<p>and at the <code class="docutils literal notranslate"><span class="pre">Mon&gt;</span></code> prompt,
you can boot from the disk controller by using the <span class="html"><samp class="command">B</samp></span> (boot) command.</p>
</section>
<section id="k-vector-with-hd-fd-controller">
<h3><span class="sectnum">1.10.4. </span>56K Vector with HD-FD controller<a class="headerlink" href="#k-vector-with-hd-fd-controller" title="Permalink to this heading">¶</a></h3>
<pre class="literal-block">sim&gt; <strong>set vfdhd enabled</strong>           ; Enable HD-FD controller
sim&gt; <strong>load MON43B.BIN e000</strong>        ; Load Vector 4.3 Monitor
sim&gt; <strong>att fwii0 f000</strong>              ; Enable the FlashWriter II at 0xF000.
sim&gt; <strong>set telnet 23</strong>               ; Set up Telnet port for FlashWriter II
sim&gt; <strong>attach vfdhd1 VGBOOT.VGI</strong>    ; Attach disk to VFDHD1 drive</pre>
<p>When booting the 56K HD-FD configuration, type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sim</span><span class="o">&gt;</span> <span class="n">g</span> <span class="n">e000</span>
</pre></div>
</div>
<p>You will then need to start a Telnet session to the simulator to use the simulated FlashWriter II.
From a console window,
do <span class="html"><samp><b>telnet localhost 23</b></samp></span>,
or use your favorite Telnet client,
such as <span class="html"><samp class="command">Putty</samp></span> under Windows.
In the Telnet window,
the 4.3 monitor should sign on,
and at the <code class="docutils literal notranslate"><span class="pre">Mon&gt;</span></code> prompt,
you can boot from the disk controller by using the <span class="html"><samp class="command">B</samp></span> (boot) command.</p>
</section>
<section id="notes-on-simulated-hardware">
<h3><span class="sectnum">1.10.5. </span>Notes on simulated hardware<a class="headerlink" href="#notes-on-simulated-hardware" title="Permalink to this heading">¶</a></h3>
<p id="vfdhd3"><span id="vfdhd2"></span><span id="vfdhd1"></span><span id="vfdhd0"></span><span id="vfdhd"></span>The Vector HD-FD Controller supports four drives,
one of which may be a Winchester (hard disk) drive.
For the included <code class="docutils literal notranslate"><span class="pre">VGBOOT.VGI</span></code> disk image,
CP/M is configured such that the <span class="html"><samp>VFDHD0</samp></span> is drive <code class="docutils literal notranslate"><span class="pre">B</span></code> and <span class="html"><samp>VFDHD1</samp></span> is drive <code class="docutils literal notranslate"><span class="pre">A</span></code>.
<span class="html"><samp>VFDHD2</samp></span> is drive <code class="docutils literal notranslate"><span class="pre">C</span></code> and <span class="html"><samp>VFDHD3</samp></span> is drive <code class="docutils literal notranslate"><span class="pre">D</span></code>.
The simulation assumes that whatever image is attached to <span class="html"><samp>VFDHD0</samp></span> is a “hard disk” image,
so drive <code class="docutils literal notranslate"><span class="pre">B</span></code> using the <code class="docutils literal notranslate"><span class="pre">VGBOOT.VGI</span></code> disk image is not supported.</p>
</section>
<section id="notes-on-the-vector-graphic-disk-image-vgi-file-format">
<h3><span class="sectnum">1.10.6. </span>Notes on the Vector Graphic disk image (VGI) file format<a class="headerlink" href="#notes-on-the-vector-graphic-disk-image-vgi-file-format" title="Permalink to this heading">¶</a></h3>
<p>The Vector Graphic disk image (VGI) file format uses a 275-byte <a class="reference external" href="VGIsectorlayout">sector format</a>.
This sector includes 256 bytes of user data,
and various other fields (metadata) used by controller hardware and the operating system running on the simulator.</p>
<p>The 275-byte sector format is as follows:</p>
<table class="docutils align-default" id="vgi-sector-layout">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SYNC</p></td>
<td><p>1</p></td>
<td><p>One byte, always <span class="html"><samp>0xFF</samp></span>.</p></td>
</tr>
<tr class="row-odd"><td><p>TRACK</p></td>
<td><p>1</p></td>
<td><p>Track number that this sector belongs to.</p></td>
</tr>
<tr class="row-even"><td><p>SECTOR</p></td>
<td><p>1</p></td>
<td><p>Sector number</p></td>
</tr>
<tr class="row-odd"><td><p>UNUSED</p></td>
<td><p>10</p></td>
<td><p>Used by the operating system when running Micropolis DOS (MDOS) to store the load address and record length for the sector.
This field is not used by CP/M.</p></td>
</tr>
<tr class="row-even"><td><p>USER DATA</p></td>
<td><p>256</p></td>
<td><p>256-byte region of user data</p></td>
</tr>
<tr class="row-odd"><td><p>CHECKSUM</p></td>
<td><p>1</p></td>
<td><p>An operating system-dependent checksum.</p></td>
</tr>
<tr class="row-even"><td><p>ECC</p></td>
<td><p>4</p></td>
<td><p>Four bytes of ECC code,
generated and checked by the HD-FD controller,
but not used by the Micropolis FD controller</p></td>
</tr>
<tr class="row-odd"><td><p>ECC_VALID</p></td>
<td><p>1</p></td>
<td><p>One byte that contains <span class="html"><samp>0xAA</samp></span> if the ECC field is valid.
Disks written by the HD-FD controller typically have this field set to <span class="html"><samp>0xAA</samp></span> to indicate that the ECC field should contain valid data.
For disk images created by the Micropolis FD controller,
this field is <span class="html"><samp>0x00</samp></span>,
since ECC is not supported.
For disk images that were generated using the CPT program,
this field will be <span class="html"><samp>0x00</samp></span> because the ECC bytes were not recoverable from the original disk.
For disk images originally written with the HD-FD Controller,
and imaged with Catweasel/Vector Graphic (CWVG),
this field will be set to whatever it was set to on the original disk.
This should be <span class="html"><samp>0xAA</samp></span>.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="imsai-8080-simulation">
<span id="imsai-fif"></span><h2><span class="sectnum">1.11. </span>IMSAI 8080 simulation<a class="headerlink" href="#imsai-8080-simulation" title="Permalink to this heading">¶</a></h2>
<p>IMSAI FIF disk controller support was added by Ernie Price.</p>
<section id="id13">
<h3><span class="sectnum">1.11.1. </span>Overview<a class="headerlink" href="#id13" title="Permalink to this heading">¶</a></h3>
<p>The IMSAI FIF disk controller consists of an IFM (Interface Master Board) and a FIB (Floppy Disk Interface board),
which interface the disk to the computer.
The combination of FIB and IFM boards create an intelligent controller including DMA transfer,
which permits the computer to perform other tasks during disk operations.</p>
<p>The FIF simulation can control up to eight disk drives.
Commands include Read Clock and Data Bits,
Write Sector,
Read Sector,
Verify Sector,
Format Track,
Write Deleted Data Sector Mark,
Write Protect,
Write Enable and Restore Drive.
Logical and physical track addresses may be different.
Cyclic redundancy checks are performed automatically.
When an error is detected in reading or writing,
the logic automatically retries up to 10 times.</p>
<p>Using the IMSAI FIF Controller,
it is possible to run IMDOS 2.05 on the simulator.</p>
<p>Additional devices include:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><th class="stub"><p><strong>FIF</strong></p></th>
<td><p>IMSAI FIF Disk Controller,
I/O mapped to <span class="html"><samp>0xFD</samp></span></p></td>
</tr>
</tbody>
</table>
<p>Since the IMSAI FIF and AltairZ80 HDSK devices both use I/O port <span class="html"><samp>0xFD</samp></span>,
the <span class="html"><samp>HDSK</samp></span> must be disabled before enabling the FIF:</p>
<pre class="literal-block">sim&gt; <strong>set hdsk dis</strong>    ; Disable the AltairZ80 <span class="html"><samp>HDSK</samp></span> device
sim&gt; <strong>set fif ena</strong>     ; Enable the IMSAI FIF device</pre>
<p>There is a configuration file that configures SIMH to simulate an IMSAI 8080 with FIF disk controller.
This configuration file is the definitive reference for proper simulator configuration,
and should be preferred over the following description if there is any discrepancy.
This configuration file is:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><b>imdos</b></samp></span></p></td>
<td><p>IMSAI 8080 with FIF disk controller</p></td>
</tr>
</tbody>
</table>
</section>
<section id="imsai-8080-with-fif-disk-controller">
<h3><span class="sectnum">1.11.2. </span>IMSAI 8080 with FIF disk controller<a class="headerlink" href="#imsai-8080-with-fif-disk-controller" title="Permalink to this heading">¶</a></h3>
<pre class="literal-block">sim&gt; <strong>set hdsk dis</strong>            ; Disable AltairZ80 HDSK controller
sim&gt; <strong>set fif ena</strong>             ; Enable IMSAI FIF controller
sim&gt; <strong>load IMSAI.BIN d800</strong>     ; Load IMSAI monitor at <span class="html"><samp>0xD800</samp></span>
sim&gt; <strong>attach fif0 IMDOS_A.DSK</strong> ; Attach disk to FIF0 drive</pre>
<p>When booting the IMSAI 8080 with FIF disk controller, type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sim</span><span class="o">&gt;</span> <span class="n">g</span> <span class="n">d800</span>
</pre></div>
</div>
<p>This will start the IMSAI monitor,
which will automatically boot from FIF0 if a valid boot disk image is attached.</p>
</section>
</section>
<section id="north-star-mds-a-and-mds-ad-fdc-simulation">
<span id="north-star-mds-ad"></span><span id="north-star-mds-a"></span><h2><span class="sectnum">1.12. </span>North Star <span class="html"><samp>MDS-A</samp></span> and <span class="html"><samp>MDS-AD</samp></span> FDC simulation<a class="headerlink" href="#north-star-mds-a-and-mds-ad-fdc-simulation" title="Permalink to this heading">¶</a></h2>
<p>North Star <a class="reference internal" href="#mds-a"><span class="html"><samp>MDS-A</samp></span></a> (single-density FDC) support was added by <a class="reference external" href="mailto:deramp5113&#37;&#52;&#48;yahoo&#46;com">Mike Douglas</a>.
North Star <a class="reference internal" href="#mds-ad"><span class="html"><samp>MDS-AD</samp></span></a> (double-density FDC) support was added by <a class="reference external" href="mailto:hharte&#37;&#52;&#48;hartetec&#46;com">Howard M<span>&#46;</span> Harte</a>.</p>
<section id="id14">
<h3><span class="sectnum">1.12.1. </span>Overview<a class="headerlink" href="#id14" title="Permalink to this heading">¶</a></h3>
<p>The single-density MDS-A disk controller was the first disk controller made by North Star.
This controller supports 48 TPI 5.25″ disks with 35 tracks and 10 hard-sectors per track.
Sectors are 256 bytes in length for a total storage capacity of 89,600 bytes (87.50 KBs).</p>
<p>Later,
North Star introduced the double-sided,
double-density,
MDS-AD disk controller.
This controller also uses 48 TPI 5.25″ media with 35 tracks and 10 hard-sectors per track,
but with 512 bytes per sector,
disk capacity increased to 179,200 bytes (175 KBs) on a single-sided drive,
or 358,400 bytes (350 KBs) on a double-sided drive.</p>
<p>The first computer offered by North Star,
the Horizon,
used the double-density controller.
However, both the single-density and double-density controllers were a very popular choice in Altair,
IMSAI,
Sol-20,
and numerous other early microcomputers.</p>
</section>
<section id="mds-a-single-density-disk-controller">
<span id="mds-a"></span><span id="mdsa"></span><h3><span class="sectnum">1.12.2. </span><span class="html"><samp>MDS-A</samp></span> single-density disk controller<a class="headerlink" href="#mds-a-single-density-disk-controller" title="Permalink to this heading">¶</a></h3>
<p>The single-density controller device is <strong>MDSA</strong>.
The North Star controller is a memory-mapped device in the range <span class="html"><samp>0xE800</samp></span>–<span class="html"><samp>0xEBFF</samp></span>.
The boot <span class="html"><samp>PROM</samp></span> is at <span class="html"><samp>0xE900</samp></span> on the single-density controller.
North Star documentation refers to drives as 1–3,
however,
the drive numbers are 0–2 in the simulation.</p>
<p>Following are the commands to mount and boot CP/M for the North Star Horizon computer.</p>
<pre class="literal-block">sim&gt; <strong>set mdsa enabled</strong>                            ; Enable MDS-A Controller
sim&gt; <strong>attach mdsa0 CPM22b14-48K-SDC-HORIZON.NSI</strong>   ; Attach CP/M boot disk
sim&gt; <strong>boot mdsa0</strong> (or <strong>go e900</strong>)                     ; Boot the disk</pre>
<p>The referenced disk image can be found in the <code class="docutils literal notranslate"><span class="pre">cpm</span></code> folder <a class="reference external" href="https://deramp.com/downloads/north_star/horizon/single_density_controller/disk_images/">available here</a>.
North Star DOS disk images can be found in the <code class="docutils literal notranslate"><span class="pre">nsdos</span></code> folder.</p>
<p>Disk images for the North Star single-density controller are available for a variety of different computers.
Drill down the folder tree of the computer of interest at <a class="reference external" href="https://deramp.com/downloads/">https://deramp.com/downloads/</a>.</p>
</section>
<section id="mds-ad-double-density-disk-controller">
<span id="id16"></span><span id="mds-ad"></span><span id="mdsad"></span><h3><span class="sectnum">1.12.3. </span><span class="html"><samp>MDS-AD</samp></span> double-density disk controller<a class="headerlink" href="#mds-ad-double-density-disk-controller" title="Permalink to this heading">¶</a></h3>
<p>The double-density controller device is <span class="html"><samp><b>*MDSAD*</b></samp></span>.
The North Star controller is a memory-mapped device in the range <span class="html"><samp>0xE800</samp></span>–<span class="html"><samp>0xEBFF</samp></span>.
The boot <span class="html"><samp>PROM</samp></span> is at <span class="html"><samp>0xE800</samp></span> on the double-density controller.
North Star documentation refers to drives as 1–4,
however,
the drive numbers are 0–3 in the simulation.</p>
<p>Following are the commands to mount and boot CP/M for the North Star Horizon computer.</p>
<pre class="literal-block">sim&gt; <strong>set mdsad enable</strong>              ; Enable North Star MDS-AD controller
sim&gt; <strong>attach mdsad0 D01B01.NSI</strong>      ; Attach CP/M boot disk to MDSAD0 drive
sim&gt; <strong>boot mdsad0</strong> (or <strong>go e800</strong>)      ; Boot the disk</pre>
<p>There is a configuration file that configures SIMH to simulate a North Star Horizon system with an <span class="html"><samp>MDS-AD</samp></span> disk controller.
This configuration file is the definitive reference for proper simulator configuration,
and should be preferred over the preceding description if there is any discrepancy.
This configuration file is:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><b>nshrz</b></samp></span></p></td>
<td><p>North Star Horizon with <span class="html"><samp>MDS-AD</samp></span> disk controller</p></td>
</tr>
</tbody>
</table>
<p>Additional Horizon disk images can be found in the <code class="docutils literal notranslate"><span class="pre">cpm</span></code> folder <a class="reference external" href="https://deramp.com/downloads/north_star/horizon/double_density_controller/disk_images/">available here</a>.
Additional North Star DOS disk images can be found in the <code class="docutils literal notranslate"><span class="pre">nsdos</span></code> folder.</p>
<p>Disk images for the North Star double-density controller are available for a variety of different computers.
Drill down the folder tree of the computer of interest at <a class="reference external" href="https://deramp.com/downloads/">https://deramp.com/downloads/</a>.</p>
</section>
</section>
<section id="compupro-8-16-simulation">
<h2><span class="sectnum">1.13. </span>CompuPro 8-16 simulation<a class="headerlink" href="#compupro-8-16-simulation" title="Permalink to this heading">¶</a></h2>
<p>CompuPro controller support was added by <a class="reference external" href="mailto:hharte&#37;&#52;&#48;hartetec&#46;com">Howard M<span>&#46;</span> Harte</a>.
The 8086 simulation was added by <a class="reference external" href="mailto:peter&#46;schorn&#37;&#52;&#48;acm&#46;org">Peter Schorn</a>.</p>
<section id="id18">
<h3><span class="sectnum">1.13.1. </span>Overview<a class="headerlink" href="#id18" title="Permalink to this heading">¶</a></h3>
<p>The CompuPro 8-16 was a fairly advanced IEEE-696 bus based system that included a dual CPU card containing Intel 8085 and 8088 processors.
This processor card was capable of switching between CPUs at runtime,
and this allowed the user to run CP/M-80 as well as CP/M-86.
In the latest version of CP/M-80 released by Viasyn
(who had acquired CompuPro by that time)
uses the 8085 CPU for running CP/M,
but offloads some of the memory operations to the 8088 CPU because of its ability to operate faster,
and more easily address memory above 64K.</p>
<p>Additional devices include:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference internal" href="#disk1a"><span class="html"><samp>DISK1A</samp></span></a></p></th>
<td><p>CompuPro <span class="html"><samp>DISK1A</samp></span> high-performance floppy disk controller</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference internal" href="#disk2"><span class="html"><samp>DISK2</samp></span></a></p></th>
<td><p>CompuPro <span class="html"><samp>DISK2</samp></span> hard disk controller</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference internal" href="#disk3"><span class="html"><samp>DISK3</samp></span></a></p></th>
<td><p>Viasyn <span class="html"><samp>DISK3</samp></span> hard disk controller for ST-506 drives</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference internal" href="#selchan"><span class="html"><samp>SELCHAN</samp></span></a></p></th>
<td><p>CompuPro selector channel DMA controller</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><span class="html"><samp>MDRIVEH</samp></span></p></th>
<td><p>CompuPro MDRIVE/H RAM disk
(up to 4MB)</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><span class="html"><samp>SS1</samp></span></p></th>
<td><p>CompuPro system support 1
(experimental and incomplete simulation)</p></td>
</tr>
</tbody>
</table>
<p>There are configuration files that configure SIMH to simulate a CompuPro 8-16,
with various attached controllers to run CP/M-80 and CP/M-86.
These configuration files are:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp><b>ccpm22</b></samp></span></p></td>
<td><p>CompuPro 8-16 CP/M-80 2.2</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp><b>ccpm86</b></samp></span></p></td>
<td><p>CompuPro 8-16 CP/M-86</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp><b>ccpm22q</b></samp></span></p></td>
<td><p>CompuPro 8-16 CP/M-80 2.2Q
(latest Viasyn version)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="disk1a-high-performance-floppy-disk-controller">
<span id="disk1a3"></span><span id="disk1a0"></span><span id="disk1a"></span><h3><span class="sectnum">1.13.2. </span><span class="html"><samp>DISK1A</samp></span> high-performance floppy disk controller<a class="headerlink" href="#disk1a-high-performance-floppy-disk-controller" title="Permalink to this heading">¶</a></h3>
<p>The <span class="html"><samp>DISK1A</samp></span> high-performance floppy disk controller is based on the Intel i8272 floppy disk controller chip,
which is the same as an NEC765 floppy controller.
The implementation of the <span class="html"><samp>DISK1A</samp></span> uses a generic i8272 controller core with a <span class="html"><samp>DISK1A</samp></span>-specific wrapper to implement the CompuPro <span class="html"><samp>DISK1A</samp></span>-specific features.</p>
<p>The i8272 controller core simulation utilizes the ImageDisk (IMD) file format for accessing simulated floppy disks.</p>
<p>The <span class="html"><samp>DISK1A</samp></span> simulation also includes the CompuPro bootstrap ROM,
which contains bootloaders for 8085, 8088, and 68000 CPUs.</p>
<p>Tony Nicholson provided several enhancements to the <span class="html"><samp>DISK1A</samp></span> controller simulation,
including variable sector size support,
as well as extended addressing support for DMA data transfer.</p>
<section id="disk1a-controller-parameters">
<h4><span class="sectnum">1.13.2.1. </span><span class="html"><samp>DISK1A</samp></span> controller parameters<a class="headerlink" href="#disk1a-controller-parameters" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>DISK1A</samp></span> controller supports several parameters which can be configured by the simulator:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>ROM</samp></span></p></td>
<td><p>Enable bootstrap ROM at <span class="html"><samp>0x0000</samp></span>–<span class="html"><samp>0x01FF</samp></span></p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NOROM</samp></span></p></td>
<td><p>Disable bootstrap ROM</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>DEBUG</samp></span></p></td>
<td><p>Enable debug tracing,
useful for debugging software.
One or more debug levels may be selected at any given time.
Several debug tracing levels are provided:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ERROR</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Error messages,
these are bugs in the simulation or in the way a program running on the simulator accesses the controller.
This message level is on by default.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">SEEK</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Seek messages, related to head positioning.</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">CMD</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Disk controller commands.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">RDDATA</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Read data messaging.</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">WRDATA</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Write data messaging.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">STATUS</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Status register reading.</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Extra verbosity for debugging.</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NODEBUG</samp></span></p></td>
<td><p>Turn off one or more debug message levels.</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>DISK1A</samp></span> supports four drives,
labeled <span class="html"><samp>DISK1A0</samp></span> through <span class="html"><samp>DISK1A3</samp></span>.
If a drive is attached to a non-existent image file,
the image file will be created,
and the user will be asked for a comment description of the disk.
SIMH adds its own IMD header to the comment field,
along with information about the version of the controller core
(in this case, i8272)
as well as the <code class="docutils literal notranslate"><span class="pre">SIM_IMD</span></code> module,
to help facilitate debugging.
The <code class="docutils literal notranslate"><span class="pre">SIM_IMD</span></code> module will automatically format the new disk image in IBM 3740 single-sided,
single-density format.
If the user wishes to use the disk in another format,
then it should be reformatted using the CompuPro format program on either CP/M-80 or CP/M-86.</p>
</section>
<section id="disk1a-controller-limitations">
<h4><span class="sectnum">1.13.2.2. </span><span class="html"><samp>DISK1A</samp></span> controller limitations<a class="headerlink" href="#disk1a-controller-limitations" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>DISK1A</samp></span> controller and the underlying i8272 controller core only support DMA-mode operation at present.
There is no support for polled-mode I/O access for reading/writing data.
While the <span class="html"><samp>DISK1A</samp></span> simulation is believed to be very accurate in normal operation,
the error handling and bad data reporting from the <code class="docutils literal notranslate"><span class="pre">SIM_IMD</span></code> module are not well implemented/tested.
For example,
if a disk image contains a CRC error on one of the sectors,
this may not be propagated up to the <span class="html"><samp>DISK1A</samp></span> status registers.
This should not be an issue for disks created with SIMH,
because there is no such thing as a CRC error in this case.
But, for images that were read from a real floppy using IMD,
a sector containing bad data might be reported as good by the simulation.</p>
</section>
</section>
<section id="disk2-compupro-hard-disk-controller">
<span id="disk23"></span><span id="disk20"></span><span id="disk2"></span><h3><span class="sectnum">1.13.3. </span><span class="html"><samp>DISK2</samp></span> CompuPro hard disk controller<a class="headerlink" href="#disk2-compupro-hard-disk-controller" title="Permalink to this heading">¶</a></h3>
<p>The <span class="html"><samp>DISK2</samp></span> hard disk controller provides 20MB of fixed-disk storage,
and supports four hard disk drives.
Just like a real <span class="html"><samp>DISK2</samp></span> controller,
it needs to be used in conjunction with the CompuPro selector channel DMA controller.</p>
<section id="disk2-controller-parameters">
<h4><span class="sectnum">1.13.3.1. </span><span class="html"><samp>DISK2</samp></span> controller parameters<a class="headerlink" href="#disk2-controller-parameters" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>DISK2</samp></span> controller supports several parameters which can be configured by the simulator:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>DEBUG</samp></span></p></td>
<td><p>Enable debug tracing,
useful for debugging software.
One or more debug levels may be selected at any given time.
Several debug tracing levels are provided:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ERROR</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Error messages,
these are bugs in the simulation or in the way a program running on the simulator accesses the controller.
This message level is on by default.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">SEEK</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Seek messages, related to head positioning.</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">CMD</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Disk controller commands.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">RDDATA</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Read data messaging.</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">WRDATA</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Write data messaging.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">STATUS</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Status register reading.</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Extra verbosity for debugging.</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NODEBUG</samp></span></p></td>
<td><p>Turn off one or more debug message levels.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="disk2-controller-configuration-registers">
<h4><span class="sectnum">1.13.3.2. </span><span class="html"><samp>DISK2</samp></span> controller configuration registers<a class="headerlink" href="#disk2-controller-configuration-registers" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>DISK2</samp></span> controller has several configuration registers that can be examined and deposited by the simulator.
The defaults are configured for a standard 20MB hard disk.
These registers are:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp class="register">NTRACKS</samp></span></p></td>
<td><p>Number of tracks on the simulated hard disks</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp class="register">NHEADS</samp></span></p></td>
<td><p>Number of heads on the simulated hard disks</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp class="register">NSECTORS</samp></span></p></td>
<td><p>Number of sectors on the simulated hard disks</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp class="register">SECTSIZE</samp></span></p></td>
<td><p>Sector size on the simulated hard disks</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>DISK2</samp></span> supports four drives,
labeled <span class="html"><samp>DISK20</samp></span> through <span class="html"><samp>DISK23</samp></span>.
If a drive is attached to a non-existent image file,
the image file will be created.
A newly-created disk image should be formatted with the CompuPro <span class="html"><samp class="command">DISK2.COM</samp></span> command.</p>
</section>
</section>
<section id="selchan-compupro-selector-channel-controller">
<span id="selchan"></span><h3><span class="sectnum">1.13.4. </span>SELCHAN CompuPro selector channel controller<a class="headerlink" href="#selchan-compupro-selector-channel-controller" title="Permalink to this heading">¶</a></h3>
<p>The CompuPro selector channel DMA controller provides DMA support for the CompuPro <span class="html"><samp>DISK2</samp></span> hard disk controller.</p>
<section id="id19">
<h4><span class="sectnum">1.13.4.1. </span><span class="html"><samp>DISK2</samp></span> controller parameters<a class="headerlink" href="#id19" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>DISK2</samp></span> controller supports several parameters which can be configured by the simulator:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>DEBUG</samp></span></p></td>
<td><p>Enable debug tracing,
useful for debugging software.
One or more debug levels may be selected at any given time.
Several debug tracing levels are provided:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ERROR</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Error messages,
these are bugs in the simulation or in the way a program running on the simulator accesses the controller.
This message level is on by default.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">DMA</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>DMA transfer messages.</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Extra verbosity for debugging.</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NODEBUG</samp></span></p></td>
<td><p>Turn off one or more debug message levels.</p></td>
</tr>
</tbody>
</table>
<p>Tony Nicholson added extended addressing DMA support to the SELCHAN module.</p>
</section>
</section>
<section id="disk3-viasyn-st-506-hard-disk-controller">
<span id="disk33"></span><span id="disk30"></span><span id="disk3"></span><h3><span class="sectnum">1.13.5. </span><span class="html"><samp>DISK3</samp></span> Viasyn ST-506 hard disk controller<a class="headerlink" href="#disk3-viasyn-st-506-hard-disk-controller" title="Permalink to this heading">¶</a></h3>
<p>The <span class="html"><samp>DISK3</samp></span> hard disk controller is an advanced DMA-based hard disk controller that uses linked-list descriptors to send commands and transfer data between the host CPU and the disk controller.</p>
<section id="disk3-controller-parameters">
<h4><span class="sectnum">1.13.5.1. </span><span class="html"><samp>DISK3</samp></span> controller parameters<a class="headerlink" href="#disk3-controller-parameters" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>DISK3</samp></span> controller supports several parameters which can be configured by the simulator:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>DEBUG</samp></span></p></td>
<td><p>Enable debug tracing,
useful for debugging software.
One or more debug levels may be selected at any given time.
Several debug tracing levels are provided:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ERROR</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Error messages,
these are bugs in the simulation or in the way a program running on the simulator accesses the controller.
This message level is on by default.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">SEEK</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Seek messages, related to head positioning.</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">CMD</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Disk controller commands.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">RDDATA</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Read Data messaging</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">WRDATA</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Write Data messaging</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">STATUS</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Status register reading</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Extra verbosity for debugging.</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NODEBUG</samp></span></p></td>
<td><p>Turn off one or more debug message levels.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="disk3-controller-configuration-registers">
<h4><span class="sectnum">1.13.5.2. </span><span class="html"><samp>DISK3</samp></span> controller configuration registers<a class="headerlink" href="#disk3-controller-configuration-registers" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>DISK3</samp></span> controller has several configuration registers that can be examined and deposited by the simulator.
The defaults are configured for a standard 20MB hard disk.
These registers are:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp class="register">NTRACKS</samp></span></p></td>
<td><p>Number of tracks on the simulated hard disks</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp class="register">NHEADS</samp></span></p></td>
<td><p>Number of heads on the simulated hard disks</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp class="register">NSECTORS</samp></span></p></td>
<td><p>Number of sectors on the simulated hard disks</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp class="register">SECTSIZE</samp></span></p></td>
<td><p>Sector size on the simulated hard disks</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>DISK3</samp></span> supports four drives,
labeled <span class="html"><samp>DISK30</samp></span> through <span class="html"><samp>DISK33</samp></span>.
If a drive is attached to a non-existent image file,
the image file will be created.
A newly created disk image should be formatted with the CompuPro <span class="html"><samp class="command">DISK3.COM</samp></span> command.</p>
</section>
<section id="disk3-controller-limitations">
<h4><span class="sectnum">1.13.5.3. </span><span class="html"><samp>DISK3</samp></span> controller limitations<a class="headerlink" href="#disk3-controller-limitations" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>DISK3</samp></span> controller has been tested with the CompuPro <span class="html"><samp class="command">DISK3.COM</samp></span> diagnostic utility,
but has not been tested with CP/M.</p>
</section>
</section>
</section>
<section id="cromemco-4-16-64fdc-and-ccs-2422-fdc-simulation">
<span id="cromfdc3"></span><span id="cromfdc0"></span><span id="cromfdc"></span><h2><span class="sectnum">1.14. </span>Cromemco 4/16/64FDC and CCS-2422 FDC simulation<a class="headerlink" href="#cromemco-4-16-64fdc-and-ccs-2422-fdc-simulation" title="Permalink to this heading">¶</a></h2>
<p>Cromemco 4/16/64FDC (<span class="html"><samp>CROMFDC</samp></span>) floppy controller support was added by <a class="reference external" href="mailto:hharte&#37;&#52;&#48;hartetec&#46;com">Howard M<span>&#46;</span> Harte</a>.</p>
<section id="id20">
<h3><span class="sectnum">1.14.1. </span>Overview<a class="headerlink" href="#id20" title="Permalink to this heading">¶</a></h3>
<p>The Cromemco 4/16/64FDC disk controllers are a family of floppy disk controllers for Cromemco systems.
The controller is based on the Western Digital WD179x series of floppy controller chips.
The implementation of the DISK1A uses a generic WD179x controller core with a Cromemco-specific wrapper to implement the Cromemco-specific features.</p>
<p>The WD179x controller core simulation utilizes the ImageDisk (IMD) file format for accessing simulated floppy disks.</p>
<p>The Cromemco simulation also includes the Cromemco RDOS 2.52 and RDOS 3.12 boot ROMs.</p>
<p>Additional devices include:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><th class="stub"><p><span class="html"><samp>CROMFDC</samp></span></p></th>
<td><p>Cromemco 4/16/64FDC floppy disk controller</p></td>
</tr>
</tbody>
</table>
<section id="cromfdc-controller-parameters">
<h4><span class="sectnum">1.14.1.1. </span><span class="html"><samp>CROMFDC</samp></span> controller parameters<a class="headerlink" href="#cromfdc-controller-parameters" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>CROMFDC</samp></span> controller supports several parameters which can be configured by the simulator:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>ROM</samp></span></p></td>
<td><p>Enable RDOS ROM at <span class="html"><samp>0xC000</samp></span>–<span class="html"><samp>0xDFFF</samp></span></p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NOROM</samp></span></p></td>
<td><p>Disable RDOS ROM</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>DEBUG</samp></span></p></td>
<td><p>Enable debug tracing,
useful for debugging software.
One or more debug levels may be selected at any given time.
Several debug tracing levels are provided:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ERROR</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Error messages,
these are bugs in the simulation or in the way a program running on the simulator accesses the controller.
This message level is on by default.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">SEEK</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Seek messages,
related to head positioning.</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">CMD</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Disk controller commands.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">RDDATA</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Read data messaging</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">WRDATA</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Write data messaging</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">STATUS</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Status register reading</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Extra verbosity for debugging.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">DRIVE</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Messaging specific to drive,
i.e.: Motor on/off, side selection.</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">IRQ</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Interrupt debugging</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NODEBUG</samp></span></p></td>
<td><p>Turn off one or more debug message levels.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="cromfdc-controller-configuration-registers">
<h4><span class="sectnum">1.14.1.2. </span><span class="html"><samp>CROMFDC</samp></span> controller configuration registers<a class="headerlink" href="#cromfdc-controller-configuration-registers" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>CROMFDC</samp></span> controller has several configuration registers that can be examined and deposited by the simulator.
The defaults are configured for a standard 20MB hard disk.
These registers are:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>DIPSW</samp></span></p></td>
<td><p>5-position DIP switch on 64FDC card.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>BOOTSTRAP</samp></span></p></td>
<td><p>0 for RDOS 2.52,
1 for RDOS 3.12.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>FDCTYPE</samp></span></p></td>
<td><p><span class="html"><samp>CROMFDC</samp></span> type:
Set to 4, 16, 64 for Cromemco FDC,
or 50 for CCS-2422 FDC.</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>BOOT</samp></span></p></td>
<td><p><span class="html"><samp>BOOT</samp></span> jumper setting,
default is 1 (auto-boot)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>INHINIT</samp></span></p></td>
<td><p>Inhibit Init (Format) switch,
default is 0 (not inhibited)</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>CROMFDC</samp></span> supports four drives,
labeled <span class="html"><samp>CROMFDC0</samp></span> through <span class="html"><samp>CROMFDC3</samp></span>.
If a drive is attached to a non-existent image file,
the image file will be created,
and the user will be asked for a comment description of the disk.
SIMH adds its own <span class="html"><samp>IMD</samp></span> header to the comment field,
along with information about the version of the controller core
(in this case, WD179x)
as well as the <code class="docutils literal notranslate"><span class="pre">SIM_IMD</span></code> module,
to help facilitate debugging.
The <code class="docutils literal notranslate"><span class="pre">SIM_IMD</span></code> module will automatically format the new disk image in IBM 3740 single-sided,
single-density format.
If the user wishes to use the disk in another format,
then it should be reformatted using the Cromemco <span class="html"><samp class="command">INIT.COM</samp></span> program under Cromemco DOS (CDOS),
or using the <span class="html"><samp class="command">INITLARG.COM</samp></span> program under 86-DOS.</p>
</section>
<section id="cromfdc-controller-limitations">
<h4><span class="sectnum">1.14.1.3. </span><span class="html"><samp>CROMFDC</samp></span> controller limitations<a class="headerlink" href="#cromfdc-controller-limitations" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>CROMFDC</samp></span> controller and the underlying WD179x controller core only support polled I/O mode operation at present.
There is no support for DMA access for reading/writing data.
The <span class="html"><samp>CROMFDC</samp></span> interrupt support is not fully implemented/tested;
however,
none of the operating systems that use the <span class="html"><samp>CROMFDC</samp></span> controller
(CDOS, CP/M 2.2, 86-DOS)
seem to use this mode.
Z80 Cromix does not boot in simulation,
but probably not due to the lack of disk controller interrupts.</p>
</section>
</section>
</section>
<section id="tarbell-mdl-1011-2022-floppy-disk-interface-simulation">
<span id="tarbell3"></span><span id="tarbell0"></span><span id="tarbell"></span><h2><span class="sectnum">1.15. </span>Tarbell MDL-1011/2022 floppy disk interface simulation<a class="headerlink" href="#tarbell-mdl-1011-2022-floppy-disk-interface-simulation" title="Permalink to this heading">¶</a></h2>
<p>Tarbell Electronics MDL-1011/2022 floppy disk interface support was added by <a class="reference external" href="mailto:patrick&#37;&#52;&#48;deltecent&#46;com">Patrick A<span>&#46;</span> Linstruth</a>.</p>
<section id="id21">
<h3><span class="sectnum">1.15.1. </span>Overview<a class="headerlink" href="#id21" title="Permalink to this heading">¶</a></h3>
<p>The Tarbell MDL-1011 floppy disk interface is a single-sided,
single-density disk controller supporting 8″ media with 77 tracks,
26 sectors per track,
with 128-byte sectors.</p>
<p>The Tarbell MDL-2022 floppy disk interface is a double-sided,
double-density disk controller supporting 8″ SSSD, SSDD, DSSD, and DSDD media with 77/154 tracks and 26/51 sectors per track,
with 128-byte sectors.</p>
<p>Both controller models include a 32-byte <span class="html"><samp>PROM</samp></span> bootstrap loader located at <span class="html"><samp>0x0000</samp></span> that is automatically enabled when the simulator is reset and switches itself out after the bootstrap has run.</p>
<p>Using the Tarbell MDL-1011/2022 floppy disk interfaces,
it is possible to run CP/M and other operating systems that are designed for these interfaces on the simulator.</p>
<section id="tarbell-controller-parameters">
<h4><span class="sectnum">1.15.1.1. </span><span class="html"><samp>TARBELL</samp></span> controller parameters<a class="headerlink" href="#tarbell-controller-parameters" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>TARBELL</samp></span> controller supports several parameters which can be configured by the simulator:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>MODEL</samp></span></p></td>
<td><p>Select <span class="html"><samp>TARBELL</samp></span> controller model:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">SD</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>MDL-1011 single-density controller (default)</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">DD</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>MDL-2022 double-density controller</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>WRTPROT</samp></span></p></td>
<td><p>Enable write-protect
(emulates switch 6 on)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>WRTENB</samp></span></p></td>
<td><p>Enable writing to disks
(emulates switch 6 off)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>PROM</samp></span></p></td>
<td><p>Enable boot <span class="html"><samp>PROM</samp></span> at <span class="html"><samp>0x0000</samp></span>–<span class="html"><samp>0x001F</samp></span>
(emulates switch 7 on)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>NOPROM</samp></span></p></td>
<td><p>Disable boot <span class="html"><samp>PROM</samp></span>
(emulated switch 7 off)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>DEBUG</samp></span></p></td>
<td><p>Enable debug tracing,
useful for debugging software.
One or more debug levels may be selected at any given time.
Several debug tracing levels are provided:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ERROR</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Error messages,
these are bugs in the simulation or in the way a program running on the simulator accesses the controller.
This message level is on by default.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">SEEK</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Seek messages,
related to head positioning</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">CMD</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Disk controller commands</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">RDDATA</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Read data messaging</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">WRDATA</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Write data messaging</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">STATUS</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Status register reading</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Extra verbosity for debugging</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>NODEBUG</samp></span></p></td>
<td><p>Turn off one or more debug message levels.</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>TARBELL</samp></span> controller supports four drives,
labeled <span class="html"><samp>TARBELL0</samp></span> through <span class="html"><samp>TARBELL3</samp></span>.
If a drive is attached to a non-existent disk file,
the disk file will be created.</p>
</section>
<section id="tarbell-example-usage">
<h4><span class="sectnum">1.15.1.2. </span><span class="html"><samp>TARBELL</samp></span> example usage<a class="headerlink" href="#tarbell-example-usage" title="Permalink to this heading">¶</a></h4>
<p>Download <a class="reference external" href="https://deramp.com/downloads/altair/software/tarbell_floppy_controllers/single_density_controller/CPM%202.2%20(1982)/CPM22-48K-SSSD.DSK">CPM22-48K-SSSD.DSK</a> for the Tarbell MDL-1011,
and then</p>
<pre class="literal-block">sim&gt; <strong>set cpu 48k</strong>
sim&gt; <strong>set cpu 8080</strong>
sim&gt; <strong>set cpu noaltairrom</strong>
sim&gt; <strong>set sio ansi</strong>
sim&gt; <strong>set sio sleep</strong>
sim&gt; <strong>set tarbell enable</strong>                    ; Enable Tarbell Controller
sim&gt; <strong>set tarbell model=sd</strong>                  ; Single-density controller
sim&gt; <strong>set tarbell debug=ERROR</strong>               ; Show debug ERROR messages
sim&gt; <strong>attach tarbell0 CPM22-48K-SSSD.DSK</strong>    ; Attach CP/M boot disk to <span class="html"><samp>TARBELL0</samp></span> drive
sim&gt; <strong>boot tarbell0</strong>                         ; Boot CPM22.DSK (or <span class="html"><samp><b>g 0</b></samp></span>) it</pre>
<p>CP/M disk images supporting the Tarbell MDL-1011 floppy disk interface are available to download <a class="reference external" href="https://deramp.com/downloads/altair/software/tarbell_floppy_controllers/single_density_controller/">here</a>.</p>
</section>
<section id="tarbell-controller-limitations">
<h4><span class="sectnum">1.15.1.3. </span><span class="html"><samp>TARBELL</samp></span> controller limitations<a class="headerlink" href="#tarbell-controller-limitations" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>TARBELL</samp></span> controller does not currently support the WD17XX Type II command multibyte record flag
(<code class="docutils literal notranslate"><span class="pre">m</span></code> bit 4),
block length flag
(<code class="docutils literal notranslate"><span class="pre">b</span></code> bit 3),
or data address mark flag
(<code class="docutils literal notranslate"><span class="pre">a1a0</span></code> bits 1–0),
the Read Track Type III command,
or the Type IV command interrupt condition flags
(<code class="docutils literal notranslate"><span class="pre">Ii</span></code> bits 3–0).
This functionality will be added at a later date.</p>
<p>DMA is not currently supported by the <span class="html"><samp>TARBELL</samp></span> simulator.</p>
</section>
</section>
</section>
<section id="jade-double-d-floppy-disk-controller-simulation">
<span id="jade-double-d"></span><span id="jadedd3"></span><span id="jadedd0"></span><span id="jadedd"></span><h2><span class="sectnum">1.16. </span>JADE Double D floppy disk controller simulation<a class="headerlink" href="#jade-double-d-floppy-disk-controller-simulation" title="Permalink to this heading">¶</a></h2>
<p>JADE Double D floppy disk controller support was added by <a class="reference external" href="mailto:patrick&#37;&#52;&#48;deltecent&#46;com">Patrick A<span>&#46;</span> Linstruth</a>.</p>
<section id="id24">
<h3><span class="sectnum">1.16.1. </span>Overview<a class="headerlink" href="#id24" title="Permalink to this heading">¶</a></h3>
<p>The JADE Double D floppy disk controller simulator is capable of supporting single-density and double-density 8″ media with 77 tracks and 128-byte sectors.
Single- and double-density diskettes may be mixed on a drive-by-drive basis.
Single-density disks have 26 sectors per track.
Double-density have 50.
The simulated controller includes a <span class="html"><samp>PROM</samp></span> bootstrap loader located at <span class="html"><samp>0xF000</samp></span>.
The <span class="html"><samp>PROM</samp></span> has been patched to utilize the MITS 88-2SIO.
Using the simulated Jade Double D floppy disk controller,
it is possible to load and run CP/M 2.2 as was provided by JADE Computer Products.</p>
<section id="jade-double-d-controller-parameters">
<h4><span class="sectnum">1.16.1.1. </span>JADE Double D controller parameters<a class="headerlink" href="#jade-double-d-controller-parameters" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>JADEDD</samp></span> controller supports several parameters which can be configured by the simulator:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>IOBASE</samp></span></p></td>
<td><p>Change I/O port address</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>MEMBASE</samp></span></p></td>
<td><p>Change memory bank window base address</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>WRTPROT</samp></span></p></td>
<td><p>Enable write protect</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>WRTENB</samp></span></p></td>
<td><p>Enable writing to disks</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>PROM</samp></span></p></td>
<td><p>Enable boot <span class="html"><samp>PROM</samp></span> at <span class="html"><samp>0xF000</samp></span></p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NOPROM</samp></span></p></td>
<td><p>Disable boot <span class="html"><samp>PROM</samp></span></p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>VERBOSE</samp></span></p></td>
<td><p>Enable operational status messages</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>QUIET</samp></span></p></td>
<td><p>Disable operational status messages</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>DEBUG</samp></span></p></td>
<td><p>Enable debug tracing,
useful for debugging software.
One or more debug levels may be selected at any given time.
Several debug tracing levels are provided:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ERROR</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Error messages,
these are bugs in the simulation or in the way a program running on the simulator accesses the controller.
This message level is on by default.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">CMD</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Disk controller commands</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">RDDATA</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Read data messaging</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">WRDATA</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Write data messaging</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">FORMAT</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Format track messaging</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Extra verbosity for debugging</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NODEBUG</samp></span></p></td>
<td><p>Turn off one or more debug message levels</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>JADEDD</samp></span> controller supports four drive units,
labeled <span class="html"><samp>JADEDD0</samp></span> through <span class="html"><samp>JADEDD3</samp></span>.
If a drive is attached to a non-existent disk file,
the disk file will be created.</p>
</section>
<section id="jadedd-example-usage">
<h4><span class="sectnum">1.16.1.2. </span><span class="html"><samp>JADEDD</samp></span> example usage<a class="headerlink" href="#jadedd-example-usage" title="Permalink to this heading">¶</a></h4>
<pre class="literal-block">sim&gt; <strong>set jadedd ena</strong>                         ; Enable JADE DD Controller
sim&gt; <strong>attach jadedd0 jadedd-sd-sim-56k.dsk</strong>   ; Attach 56K CP/M disk image
sim&gt; <strong>boot jadedd0</strong>                           ; Boot jade56k.dsk (or &quot;g f000&quot;)</pre>
<p>CP/M 2.2 disk images supporting the JADE Double D disk controller and <span class="html"><samp>88-2SIO</samp></span> are available at <a class="reference external" href="https://github.com/deltecent/jadedd-cpm22">GitHub</a>.</p>
</section>
<section id="jade-double-d-controller-limitations">
<h4><span class="sectnum">1.16.1.3. </span>JADE Double D controller limitations<a class="headerlink" href="#jade-double-d-controller-limitations" title="Permalink to this heading">¶</a></h4>
<p>The JADE Double D contains an on-board Z80A microprocessor with 2K of static memory.
The on-board processor runs simultaneously with and transparent to the Altair’s 8080 or Z80 processor and memory.
The Double D’s Z80A and on-board disk controller module Disk controller module (DCM) software are only simulated.
Although the simulator,
like the actual hardware,
loads the <span class="html"><abbr title="Disk controller module">DCM</abbr></span> from disk into memory bank 0 during the boot process
(and can be examined/altered by the host CPU),
the <span class="html"><abbr title="Disk controller module">DCM</abbr></span> code does not execute within the simulator.
Changes to the <span class="html"><abbr title="Disk controller module">DCM</abbr></span> in RAM or on disk will not change how the emulator operates.
This is also true for the Boot loader transient (BLT) module and <code class="docutils literal notranslate"><span class="pre">FORMAT.COM</span></code>.</p>
<p>The JADE Double D simulator is specifically designed to run CP/M 2.2 as distributed by JADE Computer Products as described in the <cite>CP/M 2.2 – Double D – Release 2</cite> software manual.
Other versions of CP/M or operating systems designed to operate with the JADE Double D will likely not work with this simulator.</p>
<p>When changing memory size,
<span class="html"><samp>MOVCPM</samp></span> updates the <span class="html"><abbr title="Boot loader transient">BLT</abbr></span> at track 0,
sector 2,
to match the new location of <span class="html"><samp>DDBIOS</samp></span>.
Since the simulator emulates the <span class="html"><abbr title="Boot loader transient">BLT</abbr></span>,
the boot <span class="html"><samp>PROM</samp></span> built into the simulator determines this location by looking at the jump vector table at the beginning of <span class="html"><samp>DDBIOS</samp></span>
(<span class="html"><samp>JMP INIT</samp></span>).
If <span class="html"><samp>DDBIOS</samp></span> is modified such that <span class="html"><samp>INIT</samp></span> does not appear within the first 256 bytes of <span class="html"><samp>DDBIOS</samp></span>,
this mechanism will not work,
and CP/M will fail to load.</p>
<p>The JADE Double D disk controller emulator does not currently support double-sided drives.</p>
<p>The serial interface on the Double D is not supported.</p>
</section>
</section>
</section>
<section id="icom-fd3712-fd3812-flexible-disk-system-simulation">
<span id="fd3812"></span><span id="fd3712"></span><span id="icom3"></span><span id="icom0"></span><span id="icom"></span><span id="icom-fd3712-fd3812"></span><h2><span class="sectnum">1.17. </span>iCOM <span class="html"><samp>FD3712</samp></span>/<span class="html"><samp>FD3812</samp></span> flexible disk system simulation<a class="headerlink" href="#icom-fd3712-fd3812-flexible-disk-system-simulation" title="Permalink to this heading">¶</a></h2>
<p>iCOM <span class="html"><samp>FD3712</samp></span>/<span class="html"><samp>FD3812</samp></span> support was added by <a class="reference external" href="mailto:patrick&#37;&#52;&#48;deltecent&#46;com">Patrick A<span>&#46;</span> Linstruth</a>.</p>
<section id="id26">
<h3><span class="sectnum">1.17.1. </span>Overview<a class="headerlink" href="#id26" title="Permalink to this heading">¶</a></h3>
<p>The iCOM <span class="html"><samp>FD3712</samp></span>/<span class="html"><samp>FD3812</samp></span> flexible disk system simulator is capable of supporting single-density and double-density 8″ media with 77 tracks and 128/256-byte sectors.
Single-density disks have 26 128-byte sectors per track.
Double-density disks have 26 256-byte sectors per track.
Track 0 of double-density disks are always formatted single-density.
The simulated controller includes 3712 and 3812 <span class="html"><samp>PROM</samp></span> bootstrap loaders located at <span class="html"><samp>0xF000</samp></span>.
Using the simulated iCOM <span class="html"><samp>FD3712</samp></span>/<span class="html"><samp>FD3812</samp></span> flexible disk system,
it is possible to load and run CP/M 1.41 as was provided by Lifeboat Associates and other compatible operating systems.</p>
<section id="icom-fd3712-fd3812-flexible-disk-system-parameters">
<h4><span class="sectnum">1.17.1.1. </span>iCOM <span class="html"><samp>FD3712</samp></span>/<span class="html"><samp>FD3812</samp></span> flexible disk system parameters<a class="headerlink" href="#icom-fd3712-fd3812-flexible-disk-system-parameters" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>ICOM</samp></span> controller supports several parameters which can be configured by the simulator:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp class="command">TYPE</samp></span></p></td>
<td><p>Select <span class="html"><samp>ICOM</samp></span> interface board type:</p>
<dl class="field-list simple">
<dt class="field-odd">3712<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="html"><samp>FD3712</samp></span> single-density interface board</p>
</dd>
<dt class="field-even">3812<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="html"><samp>FD3812</samp></span> double-density interface board (default)</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>IOBASE</samp></span></p></td>
<td><p>Change I/O port address</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>MEMBASE</samp></span></p></td>
<td><p>Change interface board 256K memory address</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>WRTPROT</samp></span></p></td>
<td><p>Enable write protect</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>WRTENB</samp></span></p></td>
<td><p>Enable writing to disks</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>PROM</samp></span></p></td>
<td><p>Enable/disable <span class="html"><samp>PROM</samp></span></p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ENABLE</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Enable boot <span class="html"><samp>PROM</samp></span> at <span class="html"><samp>0xF000</samp></span> (default)</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Disable boot <span class="html"><samp>PROM</samp></span></p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>DEBUG</samp></span></p></td>
<td><p>Enable debug tracing,
useful for debugging software.
One or more debug levels may be selected at any given time.
Several debug tracing levels are provided:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Operational status messages</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">ERROR</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Error messages,
these are bugs in the simulation or in the way a program running on the simulator accesses the controller.
This message level is on by default.</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">CMD</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Disk controller commands</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">STATUS</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Status information messages</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">RDDATA</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Read data messages</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">RDDETAIL</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Read sector messages</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">WRDATA</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Write data messages</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">WRDETAIL</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Write sector messages</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NODEBUG</samp></span></p></td>
<td><p>Turn off one or more debug message levels</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>ICOM</samp></span> controller supports four drive units,
labeled <span class="html"><samp>ICOM0</samp></span> through <span class="html"><samp>ICOM3</samp></span>.
If a drive is attached to a non-existent disk file,
the disk file will be created.</p>
</section>
<section id="icom-example-usage">
<h4><span class="sectnum">1.17.1.2. </span>iCOM example usage<a class="headerlink" href="#icom-example-usage" title="Permalink to this heading">¶</a></h4>
<pre class="literal-block">sim&gt; <strong>set icom ena</strong>                     ; Enable iCOM disk system
sim&gt; <strong>set icom type=3812</strong>               ; Simulate iCOM/Pertec 3812
sim&gt; <strong>attach icom0 CPM141-48K-DD.DSK</strong>   ; Attach iCOM CP/M disk image
sim&gt; <strong>boot icom</strong>                        ; Boot disk (or <strong>g f000</strong>)</pre>
<p>CP/M 1.41 disk images supporting the iCOM <span class="html"><samp>FD3712</samp></span>/<span class="html"><samp>FD3812</samp></span> flexible disk system and <span class="html"><samp>88-2SIO</samp></span> are available at <a class="reference external" href="https://github.com/deltecent/icom-fds">GitHub</a> and <a class="reference external" href="https://deramp.com/downloads/altair/software/iCOM%20FD3712%20FD3812/">DeRamp.com</a>.</p>
</section>
</section>
</section>
<section id="morrow-disk-jockey-2d-disk-controller-simulation">
<span id="morrow-disk-jockey-2d"></span><span id="morrow-disk-jockey"></span><span id="dj2d4"></span><span id="dj2d3"></span><span id="dj2d0"></span><span id="dj2d"></span><h2><span class="sectnum">1.18. </span>Morrow Disk Jockey 2D disk controller simulation<a class="headerlink" href="#morrow-disk-jockey-2d-disk-controller-simulation" title="Permalink to this heading">¶</a></h2>
<p>Morrow Disk Jockey 2D disk controller support was added by <a class="reference external" href="mailto:patrick&#37;&#52;&#48;deltecent&#46;com">Patrick A<span>&#46;</span> Linstruth</a>.</p>
<section id="id29">
<h3><span class="sectnum">1.18.1. </span>Overview<a class="headerlink" href="#id29" title="Permalink to this heading">¶</a></h3>
<p>The Morrow Disk Jockey 2D (<span class="html"><samp>DJ2D</samp></span>) disk controller simulator is capable of supporting single-density and double-density soft sector 8″ media with 77 tracks and 128/256/512/1024-byte sectors.
Single-density disks have 26 128-byte sectors per track.
Double-density disks have 26 256-byte,
15 512-byte,
or 8 1024-byte sectors per track.
Track 0 of double-density disks are always formatted single-density.
The standard format for CP/M is 1024-byte sectors.
The simulated controller include 1K <span class="html"><samp>PROM</samp></span>s for addresses <span class="html"><samp>0xE000</samp></span> and <span class="html"><samp>0xF800</samp></span>.
The <span class="html"><samp>PROM</samp></span> is followed by 1024 bytes of RAM.
The <span class="html"><samp>DJ2D</samp></span> provides for 8 memory-mapped I/O addresses starting at location <span class="html"><samp>PROMBASE</samp></span>+<span class="html"><samp>0x03F8</samp></span>.
Using the simulated <span class="html"><samp>DJ2D</samp></span>,
it is possible to load and run CP/M 1.4 and 2.2 as was provided by Thinker Toys,
DISK/ATE,
and other compatible operating systems.</p>
<section id="dj2d-parameters">
<h4><span class="sectnum">1.18.1.1. </span><span class="html"><samp>DJ2D</samp></span> parameters<a class="headerlink" href="#dj2d-parameters" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>DJ2D</samp></span> supports several parameters which can be configured by the simulator:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>MODEL</samp></span></p></td>
<td><p>Select <span class="html"><samp>DJ2D</samp></span> controller model:</p>
<dl class="field-list simple">
<dt class="field-odd">A<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="html"><samp>DJ2D</samp></span></p>
</dd>
<dt class="field-even">B<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="html"><samp>DJ2D</samp></span> Model B (default)</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SIDES</samp></span></p></td>
<td><p>Set drive as single- or double-sided:</p>
<dl class="field-list simple">
<dt class="field-odd">1<span class="colon">:</span></dt>
<dd class="field-odd"><p>Single-sided drive (default)</p>
</dd>
<dt class="field-even">2<span class="colon">:</span></dt>
<dd class="field-even"><p>Double-sided drive</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>PROMBASE</samp></span></p></td>
<td><p>Change <span class="html"><samp>PROM</samp></span> starting address
(<span class="html"><samp>0xE000</samp></span> or <span class="html"><samp>0xF800</samp></span>)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>WRTPROT</samp></span></p></td>
<td><p>Enable write-protect</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>WRTENB</samp></span></p></td>
<td><p>Enable writing to disks</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>PROM</samp></span></p></td>
<td><p>Enable/disable <span class="html"><samp>PROM</samp></span></p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ENABLE</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Enable <span class="html"><samp>PROM</samp></span> (default)</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">DISABLE</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Disable <span class="html"><samp>PROM</samp></span></p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>DEBUG</samp></span></p></td>
<td><p>Enable debug tracing,
useful for debugging software.
One or more debug levels may be selected at any given time.
Several debug tracing levels are provided:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Verbose status messages</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">DEBUG</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Debugging messages</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ERROR</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Error messages,
these are bugs in the simulation or in the way a program running on the simulator accesses the controller.
This message level is on by default.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">CMD</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Disk controller commands</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">STATUS</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Status information messages</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">RDDATA</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Read data messages</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">RDDETAIL</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Read sector messages</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">WRDATA</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Write data messages</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">WRDETAIL</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Write sector messages</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NODEBUG</samp></span></p></td>
<td><p>Turn off one or more debug message levels.</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>DJ2D</samp></span> controller supports four drive units,
labeled <span class="html"><samp>DJ2D0</samp></span> through <span class="html"><samp>DJ2D3</samp></span> and one serial interface labeled <span class="html"><samp>DJ2D4</samp></span>.
If a drive is attached to a non-existent disk file,
the disk file will be created.</p>
</section>
<section id="dj2d-example-usage">
<h4><span class="sectnum">1.18.1.2. </span><span class="html"><samp>DJ2D</samp></span> example usage<a class="headerlink" href="#dj2d-example-usage" title="Permalink to this heading">¶</a></h4>
<pre class="literal-block">sim&gt; <strong>; Boot 56K CP/M 2.2</strong>
sim&gt; <strong>set dj2d ena</strong>                      ; Enable DJ2D disk controller
sim&gt; <strong>attach dj2d0 CPM22-56K-E000.DSK</strong>   ; Attach DJ2D CP/M disk image
sim&gt; <strong>boot dj2d</strong>                         ; Boot disk (or <strong>g e000</strong>)

sim&gt; <strong>; Boot 56K CP/M 2.2 with serial port attached to socket</strong>
sim&gt; <strong>set dj2d ena</strong>                      ; Enable DJ2D disk controller
sim&gt; <strong>attach dj2d0 CPM22-56K-E000.DSK</strong>   ; Attach DJ2D CP/M disk image
sim&gt; <strong>attach -u dj2d4 127.0.0.1:8800</strong>    ; Attach DJ2D serial port to socket
sim&gt; <strong>boot dj2d</strong>                         ; Boot disk (or <strong>g e000</strong>)
sim&gt; <strong>;telnet localhost 8800</strong>            ; Telnet to simulator on port 8800</pre>
<p>CP/M 2.2 disk images supporting the <span class="html"><samp>DJ2D</samp></span> simulator are available at <a class="reference external" href="https://github.com/deltecent/dj2d-cpm22">GitHub</a>.</p>
</section>
<section id="dj2d-simulator-limitations">
<h4><span class="sectnum">1.18.1.3. </span><span class="html"><samp>DJ2D</samp></span> simulator limitations<a class="headerlink" href="#dj2d-simulator-limitations" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>DJ2D</samp></span> devices detects the format of the <span class="html"><samp>DSK</samp></span> image by its size.</p>
<p>Bank select logic is not currently supported.</p>
<p>The Western Digital FD1791 Read Track command is not currently supported.</p>
</section>
</section>
</section>
<section id="advanced-digital-corporation-super-six-simulation">
<span id="adcs63"></span><span id="adcs60"></span><span id="adcs6"></span><h2><span class="sectnum">1.19. </span>Advanced Digital Corporation Super-Six simulation<a class="headerlink" href="#advanced-digital-corporation-super-six-simulation" title="Permalink to this heading">¶</a></h2>
<p>ADC Super-Six single-board computer support was added by <a class="reference external" href="mailto:hharte&#37;&#52;&#48;hartetec&#46;com">Howard M<span>&#46;</span> Harte</a>.</p>
<section id="id31">
<h3><span class="sectnum">1.19.1. </span>Overview<a class="headerlink" href="#id31" title="Permalink to this heading">¶</a></h3>
<p>The Advanced Digital Corporation Super-Six SBC is a Z80-based single-board computer on an S-100 bus card.
It has 128K of RAM,
and a WD179x-based floppy disk controller.</p>
<p>Additional devices include:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><th class="stub"><p><span class="html"><samp>ADCS6</samp></span></p></th>
<td><p>ADC Super-Six SBC</p></td>
</tr>
</tbody>
</table>
<section id="adcs6-sbc-parameters">
<h4><span class="sectnum">1.19.1.1. </span><span class="html"><samp>ADCS6</samp></span> SBC parameters<a class="headerlink" href="#adcs6-sbc-parameters" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>ADCS6</samp></span> SBC supports several parameters which can be configured by the simulator:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>ROM</samp></span></p></td>
<td><p>Enable RDOS ROM at <span class="html"><samp>0xC000</samp></span>–<span class="html"><samp>0xDFFF</samp></span></p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NOROM</samp></span></p></td>
<td><p>Disable RDOS ROM</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>DEBUG</samp></span></p></td>
<td><p>Enable debug tracing,
useful for debugging software.
One or more debug levels may be selected at any given time.
Several debug tracing levels are provided:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ERROR</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Error messages,
these are bugs in the simulation or in the way a program running on the simulator accesses the controller.
This message level is on by default.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">SEEK</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Seek messages,
related to head positioning</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">CMD</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Disk controller commands</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">RDDATA</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Read data messaging</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">WRDATA</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Write data messaging</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">STATUS</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Status register reading</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Extra verbosity for debugging</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">DRIVE</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Messaging specific to drive;
i.e.: Motor on/off, side selection</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">IRQ</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Interrupt debugging</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">DMA</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Z80-DMA register debugging</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NODEBUG</samp></span></p></td>
<td><p>Turn off one or more debug message levels</p></td>
</tr>
</tbody>
</table>
</section>
<section id="adcs6-sbc-configuration-registers">
<h4><span class="sectnum">1.19.1.2. </span><span class="html"><samp>ADCS6</samp></span> SBC configuration registers<a class="headerlink" href="#adcs6-sbc-configuration-registers" title="Permalink to this heading">¶</a></h4>
<p>The <a class="reference internal" href="#cromfdc"><span class="html"><samp>CROMFDC</samp></span></a> controller has several configuration registers that can be examined and deposited by the simulator.
The defaults are configured for a standard 20MB hard disk.
These registers are:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp class="register">J7</samp></span></p></td>
<td><p>Jumper block J7 setting,
see <cite>ADC Manual</cite> for details</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>ADCS6</samp></span> supports four drives,
labeled <span class="html"><samp>ADCS60</samp></span> through <span class="html"><samp>ADCS63</samp></span>.
If a drive is attached to a non-existent image file,
the image file will be created,
and the user will be asked for a comment description of the disk.
SIMH adds its own IMD header to the comment field,
along with information about the version of the controller core
(in this case, WD179x)
as well as the <code class="docutils literal notranslate"><span class="pre">SIM_IMD</span></code> module,
to help facilitate debugging.
The <code class="docutils literal notranslate"><span class="pre">SIM_IMD</span></code> module will automatically format the new disk image in IBM 3740 single-sided,
single-density format.
If the user wishes to use the disk in another format,
then it should be reformatted using the <span class="html"><samp class="command">FMT8.COM</samp></span> program under CP/M 2.2.</p>
</section>
<section id="adcs6-sbc-limitations">
<h4><span class="sectnum">1.19.1.3. </span><span class="html"><samp>ADCS6</samp></span> SBC limitations<a class="headerlink" href="#adcs6-sbc-limitations" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>ADCS6</samp></span> simulation does not support the Z80-DMA,
CTC,
parallel ports,
or interrupt-driven operation.
The <span class="html"><samp>ADCS6</samp></span> bank switching and ROM are not implemented fully.</p>
</section>
</section>
</section>
<section id="n8vem-single-board-computer-simulation">
<span id="n8vem1"></span><span id="n8vem0"></span><span id="n8vem"></span><h2><span class="sectnum">1.20. </span><span class="html"><samp>N8VEM</samp></span> single-board computer simulation<a class="headerlink" href="#n8vem-single-board-computer-simulation" title="Permalink to this heading">¶</a></h2>
<p><span class="html"><samp>N8VEM</samp></span> single-board computer support was added by <a class="reference external" href="mailto:hharte&#37;&#52;&#48;hartetec&#46;com">Howard M<span>&#46;</span> Harte</a>.</p>
<section id="id32">
<h3><span class="sectnum">1.20.1. </span>Overview<a class="headerlink" href="#id32" title="Permalink to this heading">¶</a></h3>
<p>The <span class="html"><samp>N8VEM</samp></span> single-board computer is a homebrew Z80 system designed by Andrew Lynch.
This SBC has 1MB of EPROM,
512KB of RAM,
and can run CP/M 2.2.
More details about the <span class="html"><samp>N8VEM</samp></span> are on the following newsgroup,
<a class="reference external" href="https://web.archive.org/web/20121106201451/http://groups.google.com/group/n8vem">http://groups.google.com/group/n8vem</a>.</p>
<p>Additional devices include:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><th class="stub"><p><span class="html"><samp>N8VEM</samp></span></p></th>
<td><p><span class="html"><samp>N8VEM</samp></span> single-board computer</p></td>
</tr>
</tbody>
</table>
<section id="n8vem-sbc-parameters">
<h4><span class="sectnum">1.20.1.1. </span><span class="html"><samp>N8VEM</samp></span> <span class="html"><abbr title="Single-board computer">SBC</abbr></span> parameters<a class="headerlink" href="#n8vem-sbc-parameters" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>N8VEM</samp></span> <span class="html"><abbr title="Single-board computer">SBC</abbr></span> supports several parameters which can be configured by the simulator:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>DEBUG</samp></span></p></td>
<td><p>Enable debug tracing,
useful for debugging software.
One or more debug levels may be selected at any given time.
Several debug tracing levels are provided:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ERROR</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Error messages.
This message level is on by default.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">PIO</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>8255 parallel I/O port messages</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">UART</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Serial port messages</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">RTC</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Real-time clock messages</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ROM</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>ROM messages</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Extra verbosity for debugging</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NODEBUG</samp></span></p></td>
<td><p>Turn off one or more debug message levels.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="n8vem-sbc-configuration-registers">
<h4><span class="sectnum">1.20.1.2. </span><span class="html"><samp>N8VEM</samp></span> <span class="html"><abbr title="Single-board computer">SBC</abbr></span> configuration registers<a class="headerlink" href="#n8vem-sbc-configuration-registers" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>N8VEM</samp></span> <span class="html"><abbr title="Single-board computer">SBC</abbr></span> has several configuration registers that can be examined and deposited by the simulator.
These registers are:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>SAVEROM</samp></span></p></td>
<td><p>When set to 1,
the ROM data will be saved to an attached file</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>SAVERAM</samp></span></p></td>
<td><p>When set to 1,
the RAM data will be saved to an attached file</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>PIO1A</samp></span></p></td>
<td><p>8255 PIO1A port</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>PIO1B</samp></span></p></td>
<td><p>8255 PIO1A port</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>PIO1C</samp></span></p></td>
<td><p>8255 PIO1A port</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>PIOCTRL</samp></span></p></td>
<td><p>8255 PIO control register</p></td>
</tr>
</tbody>
</table>
<p>The <span class="html"><samp>N8VEM</samp></span> supports two storage devices:
<span class="html"><samp>N8VEM0</samp></span> and <span class="html"><samp>N8VEM1</samp></span>.</p>
<p><span class="html"><samp>N8VEM0</samp></span> saves data from the ROM to a raw binary file when <span class="html"><samp>SAVEROM</samp></span> is set to 1,
and the unit is detached.
Since the <span class="html"><samp>N8VEM</samp></span> has 1MB of ROM,
the file created will be 1048576 bytes in length.
This file can then be burned into an EPROM for use with the actual <span class="html"><samp>N8VEM</samp></span> hardware.</p>
<p><span class="html"><samp>N8VEM1</samp></span> saves data from the RAM to a raw binary file when <span class="html"><samp>SAVERAM</samp></span> is set to 1,
and the unit is detached.
Since the <span class="html"><samp>N8VEM</samp></span> has 512KB of RAM,
the file created will be 524288 bytes in length.
This file is useful as a “core dump” to examine the state of a running system.
It can also serve to model persistent storage for the <span class="html"><samp>N8VEM</samp></span> RAM drive,
in case an 512KB NVRAM is used in place of the 512KB SRAM on the <span class="html"><samp>N8VEM</samp></span>.</p>
</section>
<section id="n8vem-sbc-limitations">
<h4><span class="sectnum">1.20.1.3. </span><span class="html"><samp>N8VEM</samp></span> <span class="html"><abbr title="Single-board computer">SBC</abbr></span> limitations<a class="headerlink" href="#n8vem-sbc-limitations" title="Permalink to this heading">¶</a></h4>
<p>The DS1302 real-time clock on the <span class="html"><samp>N8VEM</samp></span> is not supported by the simulation.
The 8255 PIO ports serve no real purpose,
other than that the values written to them can be read by the simulator.</p>
</section>
</section>
</section>
<section id="pmmi-mm-103-modem-and-communications-adapter">
<span id="pmmi-mm-103"></span><span id="pmmi"></span><h2><span class="sectnum">1.21. </span><span class="html"><samp>PMMI</samp></span> MM-103 <span class="html"><abbr title="MOdulator-DEModulator">MODEM</abbr></span> and communications adapter<a class="headerlink" href="#pmmi-mm-103-modem-and-communications-adapter" title="Permalink to this heading">¶</a></h2>
<p><span class="html"><samp>PMMI</samp></span> MM-103 support was added by <a class="reference external" href="mailto:patrick&#37;&#52;&#48;deltecent&#46;com">Patrick A<span>&#46;</span> Linstruth</a>.</p>
<section id="id34">
<h3><span class="sectnum">1.21.1. </span>Overview<a class="headerlink" href="#id34" title="Permalink to this heading">¶</a></h3>
<p>The MM-103 is a <span class="html"><abbr title="MOdulator-DEModulator">MODEM</abbr></span> from Potomac Micro-Magic, Inc. (<span class="html"><samp>PMMI</samp></span>).
The term <span class="html"><abbr title="MOdulator-DEModulator">MODEM</abbr></span> is a contraction of <em>MOdulator-DEModulator</em>.
The MM-103 combines data transmission and telephone line handling functions in a single device.
The MM-103 supports baud rates from 61 to 600 baud using FSK modulation.</p>
<p>This device simulates the MM-103 data communications portion but does not simulate the MODEM functionality.
MODEM functionality must be simulated by attaching a host serial port or modem to the PMMI device using the <span class="html"><samp><b>ATTACH</b></samp></span> command.</p>
<section id="pmmi-device-parameters">
<h4><span class="sectnum">1.21.1.1. </span><span class="html"><samp>PMMI</samp></span> device parameters<a class="headerlink" href="#pmmi-device-parameters" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>PMMI</samp></span> device supports several parameters which can be configured by the simulator:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>DEBUG</samp></span></p></td>
<td><p>Enable debug tracing,
useful for debugging software.
One or more debug levels may be selected at any given time.
Several debug tracing levels are provided:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ERROR</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Error messages</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">STATUS</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Status change messages</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Extra verbosity for debugging</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NODEBUG</samp></span></p></td>
<td><p>Turn off one or more debug message levels</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>IOBASE</samp></span></p></td>
<td><p>Change the I/O port address of the <span class="html"><samp>PMMI</samp></span>
(default = <code class="docutils literal notranslate"><span class="pre">C0H</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>RTS</samp></span></p></td>
<td><p>RTS will follow DTR</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>NORTS</samp></span></p></td>
<td><p>RTS will not follow DTR</p></td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>BAUD</samp></span></p></td>
<td><p>Set baud rate
(default = <code class="docutils literal notranslate"><span class="pre">300</span></code>)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="pmmi-example-usage">
<h4><span class="sectnum">1.21.1.2. </span><span class="html"><samp>PMMI</samp></span> example usage<a class="headerlink" href="#pmmi-example-usage" title="Permalink to this heading">¶</a></h4>
<p>The MM-103 was supported by various communications software for CP/M.
This example will use NightOwl Software’s Modem Executive (<span class="html"><samp>MEX</samp></span>),
which can be downloaded from GitHub using the link below.</p>
<p>Using a breakout box,
connect the following pins on your host’s serial port:</p>
<div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\text{RxD} \leftrightarrow \text{TxD}\)</span></div>
<div class="line"><span class="math notranslate nohighlight">\(\text{DTR} \leftrightarrow \text{CTS}\)</span></div>
</div>
<p>The following example will use <span class="html"><samp>MEX</samp></span> under CP/M to simulate dialing a phone number and communicating with a remote system by looping back transmitted data to the receiver:</p>
<pre class="literal-block">sim&gt; <strong>dep CLOCK 2000</strong>                      ; Simulate 2MHz clock speed
sim&gt; <strong>set SIO nosleep</strong>                     ; Disable console sleeps
sim&gt; <strong>set PMMI ena</strong>                        ; Enable PMMI device
sim&gt; <strong>attach PMMI connect=/dev/ttyUSB0</strong>    ; Attach host serial port
sim&gt; <strong>attach dsk0 cpm56k.dsk</strong>              ; Attach CP/M boot disk
sim&gt; <strong>attach dsk1 MEXPMMI.DSK</strong>             ; Attach MEX disk
sim&gt; <strong>load dbl.bin ff00</strong>                   ; Load disk boot loader
sim&gt; <strong>go ff00</strong>                             ; Boot the disk

56K CP/M
Version 2.2mits (07/28/80)
Copyright 1980 by Burcon Inc.

A&gt;b:
B&gt;mexpmmi

MEX (Modem Executive) V1.14
Clone Level 1
(for aid, type HELP or &quot;?&quot;)
Copyright (C) 1984, 1985
  by NightOwl Software, Inc.

********************************
* PMMI overlay version - 2.2c  *
* Base port = C0 hex.          *
* No carrier present.          *
********************************

[MEX] B0&gt;&gt; call 5551212
Dialing: .disc. .off-h. 5551212: Try #1 .wait.

Connected &#64;300 bps</pre>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[MEX] [Term: CTL-J + &quot;?&quot; for help]

Hello, world!
</pre></div>
</div>
<p>The following example will use <span class="html"><samp>MEX</samp></span> under CP/M to connect to a R/CPM system over Telnet:</p>
<pre class="literal-block">sim&gt; <strong>dep CLOCK 2000</strong>                          ; Simulate 2MHz clock speed
sim&gt; <strong>set SIO nosleep</strong>                         ; Disable console sleeps
sim&gt; <strong>set PMMI ena</strong>                            ; Enable PMMI device
sim&gt; <strong>attach pmmi connect=67.164.159.109:4667</strong> ; Attach to <em>IP</em>:<em>PORT</em>
sim&gt; <strong>attach dsk0 cpm56k.dsk</strong>                  ; Attach CP/M boot disk
sim&gt; <strong>attach dsk1 MEXPMMI.DSK</strong>                 ; Attach MEX disk
sim&gt; <strong>load dbl.bin ff00</strong>                       ; Load disk boot loader
sim&gt; <strong>go ff00</strong>                                 ; Boot the disk

56K CP/M
Version 2.2mits (07/28/80)
Copyright 1980 by Burcon Inc.

A&gt;b:
B&gt;mexpmmi

MEX (Modem Executive) V1.14
Clone Level 1
(for aid, type HELP or &quot;?&quot;)
Copyright (C) 1984, 1985
  by NightOwl Software, Inc.

********************************
* PMMI overlay version - 2.2c  *
* Base port = C0 hex.          *
* No carrier present.          *
********************************

[MEX] B0&gt;&gt;set online
.on-line.
[MEX] B0&gt;&gt;t

[MEX] [Term: CTL-J + &quot;?&quot; for help]

HOW MANY NULLS (0-9) DO YOU NEED? 0

Welcome to the virtualaltair.com Remote CP/M System!</pre>
<p>The disk images used in the above examples may be downloaded from <a class="reference external" href="https://github.com/deltecent/pmmi-cpm22">GitHub</a>.</p>
</section>
<section id="pmmi-and-simh-timing">
<h4><span class="sectnum">1.21.1.3. </span><span class="html"><samp>PMMI</samp></span> and SIMH timing<a class="headerlink" href="#pmmi-and-simh-timing" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>PMMI</samp></span> device and communications software for CP/M depend on predicable timing to function properly.
This is accomplished by setting <span class="html"><samp>CPU</samp></span>‘s <span class="html"><samp class="register">CLOCK</samp></span> register and using the <span class="html"><samp>M2SIO0</samp></span> device for console input and output.
If using the <span class="html"><samp>SIO</samp></span> device for console input and output,
use <span class="html"><samp><b>SET SIO NOSLEEP</b></samp></span> to disable sleeps during keyboard checks,
as this interferes with SIMH’s timing.</p>
</section>
</section>
</section>
<section id="hayes-micromodem-100">
<span id="micromodem-100"></span><span id="hayes-s-100"></span><span id="hayes"></span><span id="s-100"></span><h2><span class="sectnum">1.22. </span>Hayes Micromodem 100<a class="headerlink" href="#hayes-micromodem-100" title="Permalink to this heading">¶</a></h2>
<p>Hayes Micromodem 100 support was added by <a class="reference external" href="mailto:patrick&#37;&#52;&#48;deltecent&#46;com">Patrick A<span>&#46;</span> Linstruth</a>.</p>
<section id="id36">
<h3><span class="sectnum">1.22.1. </span>Overview<a class="headerlink" href="#id36" title="Permalink to this heading">¶</a></h3>
<p>Hayes made two S-100 <span class="html"><abbr title="MOdulator-DEModulator">MODEM</abbr></span> adapters,
the <span class="html"><samp>80-103A</samp></span> and Micromodem 100.
With the exception of a 50ms hardware timer available on the Micromodem 100,
both modems are software compatible.</p>
<p>This device simulates the Micromodem 100 data communications portion,
but does not simulate the <span class="html"><samp>MODEM</samp></span>
(<span class="html"><ins>MO</ins>dulator</span> / <span class="html"><ins>DEM</ins>odulator</span>)
functionality.
<span class="html"><abbr title="MOdulator-DEModulator">MODEM</abbr></span> functionality must be simulated by attaching a host serial port or modem to the <span class="html"><samp>HAYES</samp></span> device using the <span class="html"><samp><b>ATTACH</b></samp></span> command.</p>
<p>The Micromodem 100 does not support DTR, RTS, DSR, or CTS modem signals.
To accommodate using the <span class="html"><samp>HAYES</samp></span> device with serial ports and sockets,
the device will always raise RTS and will raise DTR when RI goes high,
or when the modem goes “off hook” in originate mode.
The device will lower DTR when the modem goes “on hook” or DCD goes low.</p>
<section id="hayes-device-parameters">
<h4><span class="sectnum">1.22.1.1. </span><span class="html"><samp>HAYES</samp></span> device parameters<a class="headerlink" href="#hayes-device-parameters" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>HAYES</samp></span> device supports several parameters which can be configured by the simulator:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="html"><samp>DEBUG</samp></span></p></td>
<td><p>Enable debug tracing,
useful for debugging software.
One or more debug levels may be selected at any given time.
Several debug tracing levels are provided:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ERROR</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Error messages</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">STATUS</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Status change messages</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>Extra verbosity for debugging</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">DEBUG</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>Debug messages</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><span class="html"><samp>NODEBUG</samp></span></p></td>
<td><p>Turn off one or more debug message levels</p></td>
</tr>
<tr class="row-odd"><td><p><span class="html"><samp>IOBASE</samp></span></p></td>
<td><p>Change the I/O port address of the <span class="html"><samp>HAYES</samp></span>
(default = <code class="docutils literal notranslate"><span class="pre">80H</span></code>)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="hayes-example-usage">
<h4><span class="sectnum">1.22.1.2. </span><span class="html"><samp>HAYES</samp></span> example usage<a class="headerlink" href="#hayes-example-usage" title="Permalink to this heading">¶</a></h4>
<p>The Hayes Micromodem 100 is supported by various communications software for CP/M.
This example will use the MM100 utility that was provided by Hayes.
The software used in this example can be downloaded from GitHub using the link below.</p>
<p>Using a breakout box,
connect the following pins on your host’s serial port:</p>
<div class="line-block">
<div class="line"><span class="math notranslate nohighlight">\(\text{RxD} \leftrightarrow \text{TxD}\)</span></div>
<div class="line"><span class="math notranslate nohighlight">\(\text{DTR} \leftrightarrow \text{DCD}\)</span></div>
<div class="line"><span class="math notranslate nohighlight">\(\text{RTS} \leftrightarrow \text{RI}\)</span></div>
</div>
<p>The following example will use MM100 under CP/M 2.2 to simulate dialing a phone number and communicating with a remote system by looping back transmitted data to the receiver.
RTS will be used to drive RI and DTR will drive DCD:</p>
<pre class="literal-block">sim&gt; <strong>dep CLOCK 2000</strong>                     ; Simulate 2MHz clock speed
sim&gt; <strong>set SIO nosleep</strong>                    ; Disable console sleeps
sim&gt; <strong>set HAYES ena</strong>                      ; Enable HAYES device
sim&gt; <strong>attach HAYES connect=/dev/ttyUSB0</strong>  ; Attach host serial port
sim&gt; <strong>attach dsk0 CPM56K.DSK</strong>             ; Attach CP/M boot disk
sim&gt; <strong>attach dsk1 MM100.DSK</strong>              ; Attach MM100 disk
sim&gt; <strong>load DBL.BIN ff00</strong>                  ; Load disk boot loader
sim&gt; <strong>go ff00</strong>                            ; Boot the disk

56K CP/M
Version 2.2mits (07/28/80)
Copyright 1980 by Burcon Inc.

A&gt;b:
B&gt;mm100

    Hayes Microcomputer Products, Inc.
Micromodem 100 Terminal program ver. 1.2
8 DATA BITS
1 STOP BITS
NO PARITY
300 BAUD
FULL DUPLEX
CAPTURE BUFFER CLEARED
DEBUG MODE OFF

COMMAND:D 555-1212
DIALING-555-1212
WAITING FOR CARRIER, PRESS ANY KEY TO ABORT.
CONNECTION ESTABLISHED
Hello, world!
[^A]
COMMAND:G
[ HUNG UP ]

[* LOST CARRIER *]
[ HUNG UP ]

COMMAND:X</pre>
<p>The disk images used in the above examples may be downloaded from <a class="reference external" href="https://github.com/deltecent/hayes-mm100">GitHub</a>.</p>
</section>
<section id="hayes-and-simh-timing">
<h4><span class="sectnum">1.22.1.3. </span><span class="html"><samp>HAYES</samp></span> and SIMH timing<a class="headerlink" href="#hayes-and-simh-timing" title="Permalink to this heading">¶</a></h4>
<p>The <span class="html"><samp>HAYES</samp></span> device and communications software for CP/M depend on predicable timing to function properly.
This is accomplished by setting the <span class="html"><samp>CPU</samp></span>‘s <span class="html"><samp class="register">CLOCK</samp></span> register and using the <a class="reference internal" href="#m2sio0"><span class="html"><samp>M2SIO0</samp></span></a> device for console input and output.
If using the <span class="html"><samp>SIO</samp></span> device for console input and output,
use <span class="html"><samp><b>SET SIO NOSLEEP</b></samp></span> to disable sleeps during keyboard checks that interfere with SIMH’s timing.
Software that uses the 50ms hardware timer on the Micromodem 100 should be able run at any CPU clock speed.</p>
</section>
</section>
</section>
<section id="imagedisk-imd-disk-image-support-in-simh">
<span id="imagedisk-disk-image"></span><span id="imagedisk"></span><span id="imd"></span><h2><span class="sectnum">1.23. </span>ImageDisk (<span class="html"><samp>IMD</samp></span>) disk image support in SIMH<a class="headerlink" href="#imagedisk-imd-disk-image-support-in-simh" title="Permalink to this heading">¶</a></h2>
<p>ImageDisk (<span class="html"><samp>IMD</samp></span>) disk image file support for SIMH was added by <a class="reference external" href="mailto:hharte&#37;&#52;&#48;hartetec&#46;com">Howard M<span>&#46;</span> Harte</a>.</p>
<section id="id38">
<h3><span class="sectnum">1.23.1. </span>Overview<a class="headerlink" href="#id38" title="Permalink to this heading">¶</a></h3>
<p>The ImageDisk (<span class="html"><samp>IMD</samp></span>) file format is a portable format which includes all metadata required to accurately describe a soft-sectored floppy disk.
The <span class="html"><samp>IMD</samp></span> file format was developed by Dave Dunfield,
along with a set of ImageDisk utilities for creating ImageDisk disks from raw binary files and from real floppy disks.
In addition,
<span class="html"><samp>IMD</samp></span> disk images can be written back to real floppies for use on actual hardware.
SIMH support for ImageDisk is provided by the <code class="docutils literal notranslate"><span class="pre">SIM_IMD</span></code> module written by Howard M. Harte.
The <code class="docutils literal notranslate"><span class="pre">SIM_IMD</span></code> module provides functions for creating, opening, reading, writing, formatting, and closing <span class="html"><samp>IMD</samp></span> files.
The i8272 and WD179x floppy controller core simulations leverage the <code class="docutils literal notranslate"><span class="pre">SIM_IMD</span></code> module for low-level disk access.</p>
</section>
<section id="references">
<h3><span class="sectnum">1.23.2. </span>References<a class="headerlink" href="#references" title="Permalink to this heading">¶</a></h3>
<p>More information and support for ImageDisk,
including a detailed description of the <span class="html"><samp>IMD</samp></span> file format,
and utilities for creating and manipulating <span class="html"><samp>IMD</samp></span> files,
can be found on <a class="reference external" href="http://dunfield.classiccmp.org/img/index.htm">Dave Dunfield</a>‘s website.</p>
</section>
</section>
<section id="cp-m-68k-simulation">
<h2><span class="sectnum">1.24. </span>CP/M-68K simulation<a class="headerlink" href="#cp-m-68k-simulation" title="Permalink to this heading">¶</a></h2>
<p>Based on work by <a class="reference external" href="https://web.archive.org/web/20141008003824/http://home.earthlink.net/~schultdw/cpm68/index.html">David W. Schultz</a>,
you can run Digital Research CP/M-68K as follows.
Unpack <code class="docutils literal notranslate"><span class="pre">cpm68k.zip</span></code> and issue the command <span class="html"><samp><b>altairz80 cpm68k</b></samp></span>,
or the following commands at the SIMH prompt:</p>
<pre class="literal-block">sim&gt; <strong>set cpu m68k</strong>
sim&gt; <strong>attach hdsk2 diskc.cpm.fs</strong>
sim&gt; <strong>boot hdsk2</strong>

CP/M-68K(tm) Version 1.2 03/20/84
Copyright (c) 1984 Digital Research, Inc.

CP/M-68K BIOS Version 1.0
Simulated system of April 2014
TPA =16251  K

C&gt;AUTOST.SUB
AUTOST.SUB?
C&gt;</pre>
<p>Typing <span class="html"><samp>bbye</samp></span> at the <code class="docutils literal notranslate"><span class="pre">C&gt;</span></code> command prompt brings you back to SIMH.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Python</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="simh_doc.html">SimH Users' Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_swre.html">SimH Sample Software Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_faq.html">SimH FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="nova_doc.html">Data General Nova</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp1_doc.html">Digital Equipment Corporation PDP-1</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp18b_doc.html">Digital Equipment Corporation PDP-4, PDP-7, PDP-9, PDP-15</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp8_doc.html">Digital Equipment Corporation PDP-8</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp10_doc.html">Digital Equipment Corporation PDP-10</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdp11_doc.html">Digital Equipment Corporation PDP-11</a></li>
<li class="toctree-l1"><a class="reference internal" href="vax780_doc.html">Digital Equipment Corporation VAX-11/780</a></li>
<li class="toctree-l1"><a class="reference internal" href="vax_doc.html">Digital Equipment Corporation MicroVAX 3900</a></li>
<li class="toctree-l1"><a class="reference internal" href="gri_doc.html">GRI Computer Corporation GRI-909</a></li>
<li class="toctree-l1"><a class="reference internal" href="i1401_doc.html">IBM 1401</a></li>
<li class="toctree-l1"><a class="reference internal" href="i1620_doc.html">IBM 1620</a></li>
<li class="toctree-l1"><a class="reference internal" href="i7094_doc.html">IBM 7094</a></li>
<li class="toctree-l1"><a class="reference internal" href="id_doc.html">Interdata (Perkin Elmer) 16b and 32b systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="h316_doc.html">Honeywell H316/H516</a></li>
<li class="toctree-l1"><a class="reference internal" href="lgp_doc.html">Royal-Mcbee LGP-30 (and LGP-21)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sds_doc.html">Scientific Data Systems SDS-940</a></li>
<li class="toctree-l1"><a class="reference internal" href="sigma_doc.html">Xerox Data Systems Sigma 32b systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="tx0_doc.html">TX-0 simulator usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_breakpoints.html">The SIMH breakpoint subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_magtape.html">SIMH magtape representation and handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh_vmio.html">Adding an I/O device to a SIMH virtual machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulators_acm_queue_2004.html">Simulators: virtual machines of the past and future</a></li>
<li class="toctree-l1"><a class="reference internal" href="Summary%20of%20IMP%20IO%20Device%20Codes.html">Summary of I/O commands for the Arpanet IMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="ssem_doc.html">SSEM simulator usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="swtp6800_doc.html">SWTP 6800 simulator usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="simh.html">Writing a simulator for the SIMH system</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/altairz80_doc.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>